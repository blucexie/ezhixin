/*! LAB.js (LABjs :: Loading And Blocking JavaScript)
    v2.0.3 (c) Kyle Simpson
    MIT License
*/
(function (r, h) {
    var v = r.$LAB, k = "UseLocalXHR", q = "AlwaysPreserveOrder", n = "AllowDuplicates", m = "CacheBust", l = "Debug",
        e = "BasePath", s = /^[^?#]*\//.exec(location.href)[0], C = /^\w+\:\/\/\/?[^\/]+/.exec(s)[0],
        f = document.head || document.getElementsByTagName("head"),
        i = (r.opera && Object.prototype.toString.call(r.opera) == "[object Opera]") || ("MozAppearance" in document.documentElement.style),
        c = function () {
        }, o = c, A = document.createElement("script"), a = typeof A.preload == "boolean",
        x = a || (A.readyState && A.readyState == "uninitialized"), y = !x && A.async === true, z = !x && !y && !i;
    if (r.console && r.console.log) {
        if (!r.console.error) {
            r.console.error = r.console.log
        }
        c = function (D) {
            r.console.log(D)
        };
        o = function (E, D) {
            r.console.error(E, D)
        }
    }

    function u(D) {
        return Object.prototype.toString.call(D) == "[object Function]"
    }

    function B(D) {
        return Object.prototype.toString.call(D) == "[object Array]"
    }

    function g(F, E) {
        var D = /^\w+\:\/\//;
        if (/^\/\/\/?/.test(F)) {
            F = location.protocol + F
        } else {
            if (!D.test(F) && F.charAt(0) != "/") {
                F = (E || "") + F
            }
        }
        return D.test(F) ? F : ((F.charAt(0) == "/" ? C : s) + F)
    }

    function j(E, F) {
        for (var D in E) {
            if (E.hasOwnProperty(D)) {
                F[D] = E[D]
            }
        }
        return F
    }

    function b(E) {
        var F = false;
        for (var D = 0; D < E.scripts.length; D++) {
            if (E.scripts[D].ready && E.scripts[D].exec_trigger) {
                F = true;
                E.scripts[D].exec_trigger();
                E.scripts[D].exec_trigger = null
            }
        }
        return F
    }

    function d(F, E, D, G) {
        F.onload = F.onreadystatechange = function () {
            if ((F.readyState && F.readyState != "complete" && F.readyState != "loaded") || E[D]) {
                return
            }
            F.onload = F.onreadystatechange = null;
            G()
        }
    }

    function w(D) {
        D.ready = D.finished = true;
        for (var E = 0; E < D.finished_listeners.length; E++) {
            D.finished_listeners[E]()
        }
        D.ready_listeners = [];
        D.finished_listeners = []
    }

    function t(F, G, E, H, D) {
        setTimeout(function () {
            var I, K = G.real_src, J;
            if ("item" in f) {
                if (!f[0]) {
                    setTimeout(arguments.callee, 25);
                    return
                }
                f = f[0]
            }
            I = document.createElement("script");
            if (G.type) {
                I.type = G.type
            }
            if (G.charset) {
                I.charset = G.charset
            }
            if (D) {
                if (x) {
                    if (F[l]) {
                        c("start script preload: " + K)
                    }
                    E.elem = I;
                    if (a) {
                        I.preload = true;
                        I.onpreload = H
                    } else {
                        I.onreadystatechange = function () {
                            if (I.readyState == "loaded") {
                                H()
                            }
                        }
                    }
                    I.src = K
                } else {
                    if (D && K.indexOf(C) == 0 && F[k]) {
                        J = new XMLHttpRequest();
                        if (F[l]) {
                            c("start script preload (xhr): " + K)
                        }
                        J.onreadystatechange = function () {
                            if (J.readyState == 4) {
                                J.onreadystatechange = function () {
                                };
                                E.text = J.responseText + "\n//@ sourceURL=" + K;
                                H()
                            }
                        };
                        J.open("GET", K);
                        J.send()
                    } else {
                        if (F[l]) {
                            c("start script preload (cache): " + K)
                        }
                        I.type = "text/cache-script";
                        d(I, E, "ready", function () {
                            f.removeChild(I);
                            H()
                        });
                        I.src = K;
                        f.insertBefore(I, f.firstChild)
                    }
                }
            } else {
                if (y) {
                    if (F[l]) {
                        c("start script load (ordered async): " + K)
                    }
                    I.async = false;
                    d(I, E, "finished", H);
                    I.src = K;
                    f.insertBefore(I, f.firstChild)
                } else {
                    if (F[l]) {
                        c("start script load: " + K)
                    }
                    d(I, E, "finished", H);
                    I.src = K;
                    f.insertBefore(I, f.firstChild)
                }
            }
        }, 0)
    }

    function p() {
        var F = {}, K = x || z, D = [], E = {}, H;
        F[k] = true;
        F[q] = false;
        F[n] = false;
        F[m] = false;
        F[l] = false;
        F[e] = "";

        function J(N, P, M) {
            var L;

            function O() {
                if (L != null) {
                    L = null;
                    w(M)
                }
            }

            if (E[P.src].finished) {
                return
            }
            if (!N[n]) {
                E[P.src].finished = true
            }
            L = M.elem || document.createElement("script");
            if (P.type) {
                L.type = P.type
            }
            if (P.charset) {
                L.charset = P.charset
            }
            d(L, M, "finished", O);
            if (M.elem) {
                M.elem = null
            } else {
                if (M.text) {
                    L.onload = L.onreadystatechange = null;
                    L.text = M.text
                } else {
                    L.src = P.real_src
                }
            }
            f.insertBefore(L, f.firstChild);
            if (M.text) {
                O()
            }
        }

        function G(N, R, Q, L) {
            var M, P, O = function () {
                R.ready_cb(R, function () {
                    J(N, R, M)
                })
            }, S = function () {
                R.finished_cb(R, Q)
            };
            R.src = g(R.src, N[e]);
            R.real_src = R.src + (N[m] ? ((/\?.*$/.test(R.src) ? "&_" : "?_") + ~~(Math.random() * 1000000000) + "=") : "");
            if (!E[R.src]) {
                E[R.src] = {items: [], finished: false}
            }
            P = E[R.src].items;
            if (N[n] || P.length == 0) {
                M = P[P.length] = {ready: false, finished: false, ready_listeners: [O], finished_listeners: [S]};
                t(N, R, M, ((L) ? function () {
                    M.ready = true;
                    for (var T = 0; T < M.ready_listeners.length; T++) {
                        M.ready_listeners[T]()
                    }
                    M.ready_listeners = []
                } : function () {
                    w(M)
                }), L)
            } else {
                M = P[0];
                if (M.finished) {
                    S()
                } else {
                    M.finished_listeners.push(S)
                }
            }
        }

        function I() {
            var O, S = j(F, {}), L = [], N = 0, P = false, R;

            function U(W, V) {
                if (S[l]) {
                    c("script preload finished: " + W.real_src)
                }
                W.ready = true;
                W.exec_trigger = V;
                M()
            }

            function T(X, W) {
                if (S[l]) {
                    c("script execution finished: " + X.real_src)
                }
                X.ready = X.finished = true;
                X.exec_trigger = null;
                for (var V = 0; V < W.scripts.length; V++) {
                    if (!W.scripts[V].finished) {
                        return
                    }
                }
                W.finished = true;
                M()
            }

            function M() {
                while (N < L.length) {
                    if (u(L[N])) {
                        if (S[l]) {
                            c("$LAB.wait() executing: " + L[N])
                        }
                        try {
                            L[N++]()
                        } catch (V) {
                            if (S[l]) {
                                o("$LAB.wait() error caught: ", V)
                            }
                        }
                        continue
                    } else {
                        if (!L[N].finished) {
                            if (b(L[N])) {
                                continue
                            }
                            break
                        }
                    }
                    N++
                }
                if (N == L.length) {
                    P = false;
                    R = false
                }
            }

            function Q() {
                if (!R || !R.scripts) {
                    L.push(R = {scripts: [], finished: true})
                }
            }

            O = {
                script: function () {
                    for (var V = 0; V < arguments.length; V++) {
                        (function (Z, X) {
                            var Y;
                            if (!B(Z)) {
                                X = [Z]
                            }
                            for (var W = 0; W < X.length; W++) {
                                Q();
                                Z = X[W];
                                if (u(Z)) {
                                    Z = Z()
                                }
                                if (!Z) {
                                    continue
                                }
                                if (B(Z)) {
                                    Y = [].slice.call(Z);
                                    Y.unshift(W, 1);
                                    [].splice.apply(X, Y);
                                    W--;
                                    continue
                                }
                                if (typeof Z == "string") {
                                    Z = {src: Z}
                                }
                                Z = j(Z, {ready: false, ready_cb: U, finished: false, finished_cb: T});
                                R.finished = false;
                                R.scripts.push(Z);
                                G(S, Z, R, (K && P));
                                P = true;
                                if (S[q]) {
                                    O.wait()
                                }
                            }
                        })(arguments[V], arguments[V])
                    }
                    return O
                }, wait: function () {
                    if (arguments.length > 0) {
                        for (var V = 0; V < arguments.length; V++) {
                            L.push(arguments[V])
                        }
                        R = L[L.length - 1]
                    } else {
                        R = false
                    }
                    M();
                    return O
                }
            };
            return {
                script: O.script, wait: O.wait, setOptions: function (V) {
                    j(V, S);
                    return O
                }
            }
        }

        H = {
            setGlobalDefaults: function (L) {
                j(L, F);
                return H
            }, setOptions: function () {
                return I().setOptions.apply(null, arguments)
            }, script: function () {
                return I().script.apply(null, arguments)
            }, wait: function () {
                return I().wait.apply(null, arguments)
            }, queueScript: function () {
                D[D.length] = {type: "script", args: [].slice.call(arguments)};
                return H
            }, queueWait: function () {
                D[D.length] = {type: "wait", args: [].slice.call(arguments)};
                return H
            }, runQueue: function () {
                var N = H, L = D.length, M = L, O;
                for (; --M >= 0;) {
                    O = D.shift();
                    N = N[O.type].apply(null, O.args)
                }
                return N
            }, noConflict: function () {
                r.$LAB = v;
                return H
            }, sandbox: function () {
                return p()
            }
        };
        return H
    }

    r.$LAB = p();
    (function (F, D, E) {
        if (document.readyState == null && document[F]) {
            document.readyState = "loading";
            document[F](D, E = function () {
                document.removeEventListener(D, E, false);
                document.readyState = "complete"
            }, false)
        }
    })("addEventListener", "DOMContentLoaded")
})(this);
/*!
 * Site.js
 * URL:http://www.faisco.com
 * Only for Guest mode
 * Sort as
 * 		Utils/ModuleFunction/Other Global InitFunction
 * Sort time @2011-10-22
 * Partition time @2012-05-16
 */
if (typeof Site == "undefined") {
    Site = {}
}
Site.genAjaxUrl = function (b) {
    var a = "";
    if (document.location.pathname.indexOf("/manage/") >= 0) {
        a = "../ajax/"
    } else {
        a = "ajax/"
    }
    return a + b
};
Site.showMenu = function (n) {
    var r = n.id;
    if (Fai.isNull(r)) {
        r = ""
    }
    var p = n.host;
    var m = 0;
    if (!Fai.isNull(n.mode)) {
        m = n.mode
    }
    if (Fai.isNull(n.fixpos)) {
        n.fixpos = true
    }
    var k = n.rulerObj;
    var f = n.navSysClass;
    if (Fai.isNull(f)) {
        f = ""
    }
    var e = 0;
    if (!Fai.isNull(n.closeMode)) {
        e = n.closeMode
    }
    var j = 0;
    var q = 0;
    if (m == 1) {
        j = p.offset().left + p.width();
        q = p.offset().top
    } else {
        j = p.offset().left;
        q = p.offset().top + p.height()
    }
    var c = $("#g_menu" + r);
    if (c.length != 0) {
        if (e == 0) {
            c.attr("_mouseIn", 1);
            return c
        } else {
            c.attr("_mouseIn", 0);
            Site.hideMenu();
            return null
        }
    }
    $(".g_menu").each(function () {
        $(this).remove()
    });
    var B = n.data;
    if (n.data == null || n.data == "") {
        return null
    }
    c = $("<div id='g_menu" + r + "' tabindex='0' hidefocus='true' class='g_menu " + n.cls + " " + (n.clsIndex ? n.cls + "Index" + n.clsIndex : "") + " " + f + "' style='display:block;outline:none;'></div>");
    if (typeof n.container === "string") {
        var l = $("#g_menu" + r + "Container");
        if (l.length < 1) {
            l = $(n.container);
            l.attr("id", "g_menu" + r + "Container")
        }
        l.appendTo($("body"));
        c.appendTo(l)
    } else {
        c.appendTo($("body"))
    }
    var u = $("<div class='content contentLayer1'></div>");
    u.appendTo(c);
    Site.addMenuItem(B, u, n);
    if (n.fixpos) {
        if (q + c.height() + 20 > $(document).height()) {
            q = p.offset().top - c.height()
        }
    }
    c.css("left", j - Fai.getCssInt(u, "border-left-width") + "px");
    c.css("top", q + "px");
    if (e == 0) {
        c.mouseleave(function () {
            c.attr("_mouseIn", 0);
            setTimeout(function () {
                Site.hideMenu()
            }, 100)
        });
        c.mouseover(function () {
            c.attr("_mouseIn", 1)
        });
        c.click(function () {
            c.attr("_mouseIn", 0);
            Site.hideMenu()
        });
        p.mouseleave(function () {
            c.attr("_mouseIn", 0);
            setTimeout(function () {
                Site.hideMenu()
            }, 100)
        });
        p.mouseover(function () {
            c.attr("_mouseIn", 1)
        })
    } else {
        p.mousedown(function () {
            c.attr("_mouseIn", 2)
        });
        c.bind("blur", function () {
            if (c.attr("_mouseIn") != 2) {
                c.attr("_mouseIn", 0);
                setTimeout(function () {
                    Site.hideMenu()
                }, 100)
            }
        });
        c.focus()
    }
    if (typeof Site.g_bindMenuMousewheel == "undefined") {
        Site.g_bindMenuMousewheel = 1;
        $("body").bind("mousewheel", function () {
            $("#g_menu").remove()
        })
    }
    c.attr("_mouseIn", 1);
    c.slideDown(200);
    Site.calcMenuSize(c, n);
    var s = $("#g_menu" + r + ">div.content>table>tbody>tr>td.center>table.item");
    var w = $("#g_menu" + r);
    var C = (w.outerWidth() - w.width()) + (w.find(".content").outerWidth() - w.find(".content").width()) + (w.find(".content .middle").outerWidth() - w.find(".content .middle").width()) + (w.find(".content .middle .left").outerWidth() - w.find(".content .middle .right").outerWidth()) + (w.find(".content .middle .center").outerWidth() - w.find(".content .middle .center").width());
    var a = s.first().css("clear");
    var b = s.first().outerWidth();
    var i = s.length;
    if (a == "none") {
        if (i > 1 && b > 0) {
            var y = b * i;
            var v = document.documentElement.clientWidth;
            var t = w.offset().left;
            var h = w.offset().right;
            var A = w.width();
            var d = p.offset().left;
            var g = k.outerWidth();
            var x = k.offset().left;
            var o = x + g;
            if (d > v / 2) {
                if (y < v && y > v / 2) {
                    var z = o - y;
                    w.offset({left: z - C});
                    w.find(".content>.middle").width("100%")
                }
                if (y < v && y < v / 2 && (o - t) < y) {
                    var z = o - y;
                    w.offset({left: z - C});
                    w.find(".content>.middle").width("100%")
                }
                if (y > v) {
                    if (v < A) {
                        w.offset({left: 0});
                        w.find(".content>.middle").width("100%")
                    } else {
                        w.offset({left: x});
                        w.find(".content>.middle").width("100%")
                    }
                }
            } else {
                if (y < v && (v - d) < y) {
                    var z = v - y;
                    w.offset({left: z - C});
                    w.find(".content>.middle").width("100%")
                }
                if (y < v && (o - t) < y) {
                    var z = o - y;
                    w.offset({left: z - C});
                    w.find(".content>.middle").width("100%")
                }
                if (y > v) {
                    if (v < A) {
                        w.offset({left: 0});
                        w.find(".content>.middle").width("100%")
                    } else {
                        w.offset({left: x});
                        w.find(".content>.middle").width("100%")
                    }
                }
            }
        }
    }
    return c
};
Site.addMenuItem = function (x, b, m, h) {
    if (x.length <= 0) {
        return
    }
    h = h || "outMenu";
    var e = ["<table class='top " + h + "Top' cellpadding='0' cellspacing='0'><tr><td class='left'></td><td class='center'></td><td class='right'></td></tr></table>", "<table class='middle " + h + "Middle' cellpadding='0' cellspacing='0'><tr><td class='left'></div></td><td class='center'><div class='" + h + "Triangle'></td><td class='right'></td></tr></table>", "<table class='bottom " + h + "Bottom' cellpadding='0' cellspacing='0'><tr><td class='left'></td><td class='center'></td><td class='right'></td></tr></table>"];
    var q = $(e.join(""));
    q.appendTo(b);
    q = q.parent().find(".middle .center");
    for (var r = 0; r < x.length; ++r) {
        var u = x[r];
        var g = u.sub;
        var s = u.href;
        var y = u.onclick;
        var w = u.target;
        var f = u.disable;
        var d = "";
        if (!s && !y) {
            s = "";
            y = ""
        } else {
            if (!s) {
                s = " href='javascript:;'"
            } else {
                if (f && typeof(g) != "undefined") {
                    if (g != "") {
                        s = ""
                    } else {
                        s = ' href="' + s + '" style="cursor:pointer;"'
                    }
                } else {
                    s = ' href="' + s + '" style="cursor:pointer;"'
                }
            }
            if (!y) {
                y = ""
            } else {
                y = ' onclick="' + y + '"'
            }
            if (!w) {
                w = ""
            }
        }
        var o = parseInt(Math.random() * 100000);
        var k = [];
        var v = r + 1;
        k.push("<table class='item itemIndex" + v + "' itemId='");
        k.push(o);
        k.push("' cellpadding='0' cellspacing='0'><tr><td class='itemLeft'></td><td class='itemCenter'><a hidefocus='true' ");
        k.push(s);
        k.push(y);
        k.push(w);
        if (u.title) {
            k.push(" title='" + u.title + "'")
        }
        k.push(">" + u.html + "</a></td><td class='itemRight'></td></tr></table>");
        var n = $(k.join(""));
        if (g) {
            n.addClass("itemPopup")
        }
        if (q.find(" > .subMenu").length >= 1) {
            n.insertBefore(q.find(" > .subMenu").first())
        } else {
            n.appendTo(q)
        }
        if (g) {
            if (g.length == 0) {
            }
            var p = $("<div class='subMenu' itemId='" + o + "'><div class='content contentLayer2'></div></div>");
            p.appendTo(q);
            var a = p.find(" > .content");
            Site.addMenuItem(g, a, m, "thirdMenu");
            p.mouseleave(function () {
                $(this).attr("_mouseIn", 0);
                setTimeout(function () {
                    Site.hideSubMenu()
                }, 100);
                if (m.navBar == true && Fai.isIE()) {
                    var A = $("#g_menu" + m.id);
                    var C = A.find(".contentLayer1");
                    var i = C.outerHeight(true);
                    var B = C.outerWidth(true);
                    var z = C.children(".middle").first().outerWidth(true);
                    A.css({width: B + "px", height: i + "px"});
                    C.css({width: z + "px"})
                }
            });
            p.mouseover(function () {
                $(this).attr("_mouseIn", 1)
            });
            p.click(function () {
                $(this).attr("_mouseIn", 0);
                Site.hideSubMenu()
            })
        }
        n.hover(c, l).click(j);
        if (m.closeMode == 1) {
            n.mousedown(t)
        }

        function t() {
            $(".g_menu").attr("_mouseIn", 2)
        }

        function j() {
            $(".g_menu").attr("_mouseIn", 0);
            setTimeout(function () {
                Site.hideMenu()
            }, 100)
        }

        function l() {
            var i = $(this);
            var z = null;
            $(this).parent().find(" > .subMenu").each(function () {
                if ($(this).attr("itemId") == i.attr("itemId")) {
                    z = $(this)
                }
            });
            if (z != null && z.length == 1) {
                z.attr("_mouseIn", 0);
                setTimeout(function () {
                    Site.hideSubMenu()
                }, 100)
            } else {
                i.removeClass("itemHover");
                i.removeClass("itemHoverIndex" + (i.index() + 1))
            }
        }

        function c() {
            var E = $(this);
            var O = null;
            $(this).parent().find(" > .subMenu").each(function (Q, P) {
                if ($(this).attr("itemId") == E.attr("itemId")) {
                    O = $(this)
                }
            });
            if (O != null && O.length == 1) {
                if (O.css("display") == "none") {
                    if (O.attr("_hadShow") != 1) {
                        var z = E.position().left + E.outerWidth();
                        var J = E.position().top;
                        if (m.fixpos) {
                            var K = E.offset().top + O.height() + 20 - $(document).height();
                            if (K > 0) {
                                J = J - K
                            }
                        }
                        O.css("left", z + "px");
                        O.css("top", J + "px");
                        O.slideDown(200);
                        Site.calcMenuSize(O, m);
                        O.attr("_hadShow", 1)
                    } else {
                        O.slideDown(200)
                    }
                    if (Fai.isIE()) {
                        $(".navSubMenu .g_menu").css("border", "none")
                    }
                }
                O.attr("_mouseIn", 1);
                if (m.navBar == true && Fai.isIE()) {
                    var i = $("#g_menu" + m.id);
                    var C = i.find(".contentLayer1");
                    var A = O.find(".contentLayer2");
                    var N = C.outerHeight(true);
                    var I = C.outerWidth(true);
                    var H = C.children(".middle").first().outerWidth(true);
                    var M = A.outerHeight(true);
                    var B = A.outerWidth(true);
                    var L = O.position().top;
                    var D = (M + L) - N;
                    var G = D > 0 ? (N + D) : N;
                    var F = I + B;
                    i.css({width: F + "px", height: G + "px"});
                    C.css({width: H + "px"})
                }
            } else {
                if ($(this).parents(".subMenu").length <= 0) {
                    if (m.navBar == true && Fai.isIE()) {
                        var i = $("#g_menu" + m.id);
                        var C = i.find(".contentLayer1");
                        var H = C.children(".middle").first().outerWidth(true);
                        var G = C.outerHeight(true);
                        var F = C.outerWidth(true);
                        i.css({width: F + "px", height: G + "px"});
                        C.css({width: H + "px"})
                    }
                }
            }
            E.addClass("itemHover");
            E.addClass("itemHoverIndex" + (E.index() + 1));
            $(".g_menu").attr("_mouseIn", 1)
        }
    }
};
Site.calcMenuSize = function (a, d) {
    a.find(" > .content").each(function () {
        var l = 0;
        var k = $(" > .middle", this);
        if (!Fai.isNull(d.minWidth)) {
            l = d.minWidth - Fai.getCssInt(k.find(".left").first(), "width") - Fai.getCssInt(k.find(".right").first(), "width")
        }
        var m = l;
        var j = k.find(" > tbody > tr > .center > .item");
        j.each(function () {
            if ($(this).width() > l) {
                m = $(this).outerWidth();
                l = $(this).width()
            }
        });
        j.width(m);
        j.find(" > tbody > tr > .itemCenter").each(function () {
            var q = $(this);
            var n = q.parent().find(" > .itemLeft");
            var o = q.parent().find(" > .itemRight");
            q.css("width", (l - n.outerWidth() - o.outerWidth() - q.outerWidth() + q.width()) + "px");
            var p = q.find("a");
            p.css("width", (q.width() - p.outerWidth() + p.width()) + "px")
        });
        $(" > .top", this).width(k.width());
        $(" > .bottom", this).width(k.width())
    });
    var c = Fai.top.$(".outMenuTriangle"), b = (c.outerWidth() || 0), g = c.length > 0, h = d.host, f = h.outerWidth(),
        e = Fai.top.$(".outMenuMiddle").width(), i = 0;
    i = (Math.min(f, e) - b) / 2;
    if (g && b) {
        c.css("left", i)
    }
};
Site.hideMenu = function () {
    if (Fai.top._uiMode) {
        return
    }
    $(".g_menu").each(function () {
        var a = $(this);
        if (a.length != 1) {
            return
        }
        if (a.attr("_mouseIn") == 1) {
            return
        }
        a.remove()
    })
};
Site.hideSubMenu = function () {
    if (Fai.top._uiMode) {
        return
    }
    var a = false;
    $(".g_menu .subMenu").each(function () {
        var b = $(this);
        if (b.length != 1) {
            return
        }
        if (b.attr("_mouseIn") == 1) {
            a = true;
            return
        }
        b.css("display", "none");
        b.parent().find(" > .item").each(function () {
            if ($(this).attr("itemId") == b.attr("itemId")) {
                $(this).removeClass("itemHover")
            }
        })
    });
    if (Fai.isIE() && !a) {
        $(".navSubMenu .g_menu").css("border", "")
    }
};
Site.popupWindow = function (a) {
    var b = true;
    if (!Fai.isNull(a.saveBeforePopup)) {
        b = a.saveBeforePopup
    }
    if (Fai.top.Site && Fai.top.Site.hasPopupModuleOpen && Fai.top.Site.hasPopupModuleOpen()) {
        b = false
    }
    if (b && Site.checkSaveBar(a)) {
        return
    }
    if ($.isFunction(Site.removeAllEditLayer)) {
        Site.removeAllEditLayer()
    }
    if (a.version == 2) {
        return Fai.popupWindowVersionTwo.createPopupWindow(a)
    } else {
        return Fai.popupWindow(a)
    }
};
Site.initIframeLoading = function (b, d, g, f) {
    var h = b + d;
    var c = Fai.top.$("#" + h).parent().width();
    var a = Fai.top.$("#" + h).parent().height();
    var e = 1;
    $("#" + h).attr("src", g).load(function () {
        $("#moduleLoading" + d).hide();
        $("#refreshFrame" + d).hide();
        Fai.top.$("#" + h).parent().show();
        e = 2
    });
    if (f) {
        $("#moduleLoading" + d).show();
        Fai.top.$("#" + h).parent().hide();
        $("#refreshFrame" + d).hide()
    } else {
        setTimeout(function () {
            if (e == 1) {
                var i = "<div id='moduleLoading" + d + "' class='ajaxLoading2' style='width:" + c + "px;height:" + a + "px'></div>";
                Fai.top.$("#" + h).parent().before(i);
                Fai.top.$("#" + h).parent().hide()
            }
        }, 3000)
    }
    setTimeout(function () {
        if (e == 1) {
            $("#moduleLoading" + d).hide();
            if (f) {
                $("#refreshFrame" + d).show()
            } else {
                var i = "<div id='refreshFrame" + d + "' style='width:" + c + "px;height:" + a + "px;text-align:center;padding-top:5px;'></div>";
                Fai.top.$("#" + h).parent().before(i)
            }
            e = 3
        }
    }, 30000)
};
Site.logDog = function (b, a) {
};
Site.popupBox = function (q) {
    var f = {
        boxId: 0,
        title: "",
        htmlContent: "",
        width: 500,
        height: "",
        boxName: "",
        opacity: "0.5",
        displayBg: true,
        autoClose: 0,
        extClass: "",
        popupBoxZIndex: 0,
        needScollTop: true
    };
    f = $.extend(f, q);
    var a = parseInt(f.boxId);
    if (a == 0 || a == null) {
        a = parseInt(Math.random() * 10000)
    }
    if (f.displayBg) {
        Fai.bg(a, f.opacity, f.popupBoxZIndex)
    }
    var o = "";
    if (f.height != "") {
        o = " min-height:" + (f.height - 45) + "px;"
    }
    var e = ["<div id='popupBoxContent", a, "' style='width:", f.width, "px;", o, " padding-bottom: 20px;", "' class='popupCnBg'>", f.htmlContent, "</div>"];
    var j = Fai.top.document.documentElement.clientHeight;
    var d = Fai.top.$("body").scrollTop();
    if (d <= 0) {
        d = Fai.top.$("html").scrollTop()
    }
    if (d <= 0) {
        d = $(window).scrollTop()
    }
    var h = "";
    var n = "";
    var c = "";
    if (f.boxName == "qqLogin") {
        h = "style='padding-top:20px;'";
        n = "style='margin-top:20px;'"
    } else {
        if (f.boxName == "addrInfo") {
            h = "style='margin-top:21px;'"
        } else {
            if (f.boxName == "mallAmountZero") {
                h = "style='height:15px;'";
                n = "style='margin-top:10px;'"
            } else {
                if (f.boxName == "confirmReceipt") {
                    n = "style='margin-top:10px;'"
                } else {
                    if (f.boxName == "mallBuy") {
                        n = "style='margin-top:10px'"
                    } else {
                        if (f.boxName == "memberFdPwd") {
                            h = "style='margin-top:20px;'";
                            n = "style='margin-top:20px'"
                        } else {
                            if (f.boxName == "bannerV2") {
                                n = "style='margin-top:18px;margin-right:18px;'"
                            }
                        }
                    }
                }
            }
        }
    }
    if (f.popupBoxZIndex) {
        c = "z-index:" + f.popupBoxZIndex
    }
    var m = ["<div id='popupBox", a, "' class='formBox " + f.extClass + "' style='width:", f.width, "px;", o, "left:", (Fai.top.document.documentElement.clientWidth - f.width) / 2, "px; " + c + "'>", "<div class='formTLSite'><div ", h, "class='formTCSite ", f.title == "" ? "formMulLanSite" : "", "'>", f.title, "</div></div>", "<div class='formMSG' style='position:relative;'>", e.join(""), "</div>", "<a href='javascript:void(0);' class='formXSite popupBClose' hidefocus='true' onclick='return false;'", n, "></a>", "</div>"];
    m = m.join("");
    var l = Fai.top.$(m).appendTo("body");
    var k = (j - f.height) / 2;
    if (f.height == "") {
        k = (j - $(".popupCnBg").height()) / 2
    }
    $(l).css("top", f.needScollTop ? k + d : k);
    var i = Fai.top.$("#popupBg" + a).outerHeight(true), g = Fai.top.$("#popupBoxContent" + a).outerHeight(true) + 120,
        p = 100 - (g - i) > 0 ? 100 - (g - i) : 0;
    if (i < g) {
        l.css("top", p + "px")
    }
    l.hide();
    l.fadeIn();

    function b(r) {
        return Object.prototype.toString.call(r) === "[object Function]"
    }

    l.ready(function () {
        l.draggable({
            start: function () {
                Fai.top.$("body").disableSelection()
            }, handle: ".formTLSite", stop: function () {
                Fai.top.$("body").enableSelection()
            }
        });
        l.find(".popupBClose").bind("click", function () {
            if (b(f.closeFunc)) {
                f.closeFunc()
            }
            Fai.top.$("#popupBg" + a).remove();
            l.remove();
            if (q.reload) {
                location.reload(true)
            }
        })
    });
    if (f.autoClose != 0) {
        setTimeout(function () {
            l.find(".popupBClose").click()
        }, f.autoClose)
    }
    return l
};
Site.hasXScrollBar = function () {
    function a(e) {
        var f = 0;
        if (e.length > 0) {
            f = e.scrollLeft();
            e.scrollLeft(0);
            e.scrollLeft(1);
            if (e.scrollLeft() === 1) {
                e.scrollLeft(f);
                return true
            }
            e.scrollLeft(f)
        }
    }

    var d, b, c = $(window);
    if (Fai.top._manageMode) {
        d = $("#web");
        b = $("#g_main")
    } else {
        d = $("#g_main");
        b = $("body")
    }
    if (d.length > 0) {
        return d.width() > c.width() || a(b)
    }
    return false
};
Site.hasYScrollBar = function () {
    var a = $("#web");
    if (Fai.top._manageMode) {
        if ($("#g_main").css("overflow-y") === "scroll") {
            return true
        }
    } else {
        if (a.length > 0) {
            if (a.height() > $(window).height()) {
                return true
            }
        }
    }
    return false
};
Site.checkEnv = function (o) {
    function a() {
        var n = $("#nav"), r = 0, q;
        if (n.length <= 0) {
            return false
        }
        if (Fai.top._navStyleData.ncp.l !== 0) {
            return false
        }
        if (Fai.top._manageMode) {
            q = $("#g_main")
        } else {
            q = $("body")
        }
        if (n.offset().left + q.scrollLeft() !== 0) {
            return false
        }
        if (Fai.top._navStyleData.ns.w !== -1) {
            return false
        }
        if (Site.hasYScrollBar()) {
            r = Fai.getScrollWidth()
        }
        if (n.width() < $("#webContainer").width()) {
            return false
        }
        if (n.width() + r < $(window).width()) {
            return false
        }
        return true
    }

    function k(r, q) {
        var n = 0;
        if (r < 960) {
            return
        }
        if (q.length > 0) {
            n = $("#g_main").scrollLeft() + q.offset().left + q.width();
            return (n - m) > (r / 2)
        }
    }

    function d(q) {
        var n = false;
        if (q.attr("_intab") > 0 || q.attr("_inmulmcol") > 0 || q.attr("_side") == 1) {
            return
        }
        if (k(h, q)) {
            i.push(q.prop("id"))
        }
    }

    var c = $(window), h = c.width(), l = 0, m = 0, i = [], j = [], p = $("#logoImg:visible"), b = $("#corpTitle"),
        f = $("#nav"), g, e;
    if (!$.isFunction(o)) {
        o = function () {
        }
    }
    if (Site.hasYScrollBar()) {
        h = h - Fai.getScrollWidth()
    }
    e = {rightOverList: j, hasXScrollBar: Site.hasXScrollBar(), viewWidth: h};
    if (!e.hasXScrollBar) {
        o(e);
        return
    }
    if (Fai.top._manageMode) {
        l = $("#web").width()
    } else {
        l = $("#g_main").width()
    }
    m = (l / 2);
    Fai.top.$(".absForms >.form").each(function (q, n) {
        d($(n))
    });
    Fai.top.$(".floatForms >.form").each(function (q, n) {
        d($(n))
    });
    if (i.length > 0) {
        j.push("floatModule")
    }
    if (b.length > 0) {
        if (k(h, b)) {
            j.push("title")
        }
    }
    if (f.length > 0) {
        if (a()) {
            g = f.find(".navContent");
            if (Fai.top._navStyleData.cp.y == 1 || Fai.top._navStyleData.cs.w !== -1) {
                if (g.length > 0 && k(h, g)) {
                    j.push("fullmeasureNav")
                }
            }
        } else {
            if (k(h, f)) {
                j.push("nav1")
            } else {
                f = $("#nav .navMainContent").first();
                if (k(h, f)) {
                    j.push("nav2")
                }
            }
        }
    }
    if (k(h, $("#webContainer"))) {
        j.push("background")
    }
    if (Fai.top._useBannerVersionTwo) {
        if (Fai.top._bannerV2Data.blw.t === 2) {
            if (k(h, $("#bannerV2"))) {
                j.push("bannerV2")
            }
        }
    } else {
        if (Site.getWebBackgroundData().wbws === 1) {
            if (k(h, $("#fk-webBannerZone"))) {
                j.push("banner")
            }
        }
    }
    $("#fullmeasureTopForms").find(".fullmeasureContent").each(function (q, r) {
        var n = $(r);
        if (n.width() > $("#webContainer").width() && k(h, n)) {
            j.push("fullmeasure");
            return false
        }
    });
    if (p.length > 0) {
        if (!p[0].complete) {
            p.load(function () {
                if (k(h, p)) {
                    e.resList = ["logo"];
                    o(e)
                }
            })
        } else {
            if (k(h, p)) {
                j.push("logo")
            }
        }
    }
    o(e);
    if (Fai.top._manageMode) {
        $.each(i, function (q, n) {
            $("#" + n).css("border", "dashed black 5px")
        })
    }
};
Site.checkManageEnv = function () {
    if (!Fai.top._manageMode) {
        return
    }
    Site.checkEnv(function (c) {
        var d = c.rightOverList, f = c.viewWidth, a = d.length, h = "", b = "", e = [], g;
        g = {
            floatModule: "--网站浮动模块位置；\n",
            logo: "--网站LOGO的宽度或位置；\n",
            title: "--网站标题宽度或位置；\n",
            fullmeasureNav: "--通栏式导航内容区位置设置项、宽度；\n",
            nav1: "--导航栏宽度或位置。；\n",
            nav2: "--导航应用了网站宽度并且存在水平偏移。请自定义导航内容区宽度；\n",
            banner: "--网站横幅宽度；\n",
            bannerV2: "--横幅2.0宽度；\n",
            background: "--网站背景宽度；\n",
            fullmeasure: "--通栏宽度；\n"
        };
        while (a > 0) {
            a--;
            if (g[d[a]]) {
                e.push(g[d[a]])
            }
        }
        if (e.length > 0) {
            e.unshift("窗口宽度：" + f + "；\n", "导致模块滚动条出现的原因：\n")
        } else {
            e.push("没有检测到横向超出的元素。")
        }
        h = '<a href="http://it.faisco.cn/page/forum/articleDetail.jsp?articleId=1447" style="position:absolute;right:20px;bottom:60px;font-size:14px;text-decoration:underline;" target="_blank">[了解更多]</a>';
        b = '<button style="position:absolute;right:20px;bottom:20px;padding:4px;width:64px;cursor:pointer;padding:0px;" onclick="Site.closeCheckEnvWindow()">确定</button>';
        e.push(h);
        e.push(b);
        e = '<div style="padding:10px;font-size:14px;cursor:point">' + $.trim(e.join("<br>")) + "</div>";
        Site.popupWindow({title: "横向滚动条检测结果", divContent: e, closeBtnClass: "J_checkEvnCloseBtn"})
    })
};
Site.checkVisitEnv = function () {
    var f, d;
    if (Fai.top._manageMode || Fai.top._oem) {
        return
    }
    f = {
        get: function (h) {
            var g = window.sessionStorage;
            return g ? g.getItem(h) : $.cookie(h)
        }, set: function (h, i) {
            var g = window.sessionStorage;
            g ? g.setItem(h, i) : $.cookie(h, i)
        }
    };
    Site.checkEnv(function (g) {
        var l = a("fkScrollBarCheck"), m = a("fkScreenSize"), i = g.rightOverList, k = {}, n = location.href, h, j;
        if (!l.has(n) && i.length > 0) {
            j = c(i);
            k[j.dogId] = j.dogSrc;
            l.add(n)
        }
        if (!m.has(n)) {
            h = b(), k[h.dogId] = h.dogSrc;
            m.add(n)
        }
        if (h || j) {
            e(k)
        }
    });

    function b() {
        var i = $(window).width(), j = 200094, g, h;
        h = {"1200": 1, "960": 2, other: 3, normal: 4};
        if (Site.hasXScrollBar()) {
            if (i >= 1200) {
                g = h["1200"]
            } else {
                if (i >= 960 && i < 1200) {
                    g = h["960"]
                } else {
                    g = h.other
                }
            }
        } else {
            g = h.normal
        }
        return {dogId: j, dogSrc: g}
    }

    function c(i) {
        var k = $(window).width(), h = i.length, m = [], n, g, j, l;
        j = {
            floatModule: 1,
            nav1: 2,
            nav2: 2,
            background: 3,
            banner: 4,
            logo: 6,
            title: 7,
            fullmeasure: 8,
            fullmeasureNav: 9,
            bannerV2: 10
        };
        l = {"1200": 200079, "960": 200080};
        if (k >= 1200) {
            n = l["1200"]
        } else {
            if (k >= 960 && k < 1200) {
                n = l["960"]
            }
        }
        while (h > 0) {
            h--;
            g = j[i[h]];
            if (g !== undefined) {
                if ($.inArray(g, m) === -1) {
                    m.push(g)
                }
            }
        }
        return {dogId: n, dogSrc: m}
    }

    function e(h, g) {
        if (h !== undefined) {
            if ($.type(h) === "object") {
                h = $.toJSON(h);
                Site.logDog(h, g);
                return
            }
            if ($.type(g) === "array") {
                if (!g.length) {
                    return
                }
                g = $.toJSON(g);
                Site.logDog(h, g);
                return
            }
            if (g !== undefined) {
                Site.logDog(h, g)
            }
        }
    }

    function a(h) {
        var g = {
            index: h, get: function () {
                var i = f.get(g.index);
                try {
                    i = $.parseJSON(i)
                } catch (j) {
                }
                if ($.isArray(i)) {
                    return i
                }
                return []
            }, add: function (j) {
                var i = g.get();
                if ($.inArray(j, i) === -1) {
                    i.push(j);
                    f.set(g.index, $.toJSON(i))
                }
            }, has: function (i) {
                return $.inArray(i, g.get()) > -1
            }
        };
        return g
    }
};
Site.closeCheckEnvWindow = function () {
    var a = $(".J_checkEvnCloseBtn");
    if (a.length > 0) {
        a.trigger("click")
    }
};
Site.initPdNavfold = function (b) {
    var e = $("#module" + b);
    if (e.parent("#leftForms").length > 0) {
        var r = e.find(".g_foldContainerPanel");
        if (r.find(".g_foldContainerValueRight.foldChange_J").length > 0) {
            r.find(".g_foldContainerValueCenter a").css("max-width", "140px")
        }
    }
    if (e.find(".g_vertFold").length > 0) {
        var j = e.find(".pdLevel a");
        if (Fai.isIE6() || Fai.isIE7()) {
            $.each(j, function (s, t) {
                if ($(t).width() > 155) {
                    $(t).width(155)
                }
            });
            return
        }
        var c = e.width();
        if (c > 210) {
            j.css("max-width", c - 55 + "px")
        }
        return
    }
    var l = e.find(".g_foldContainerPanel");
    var d = l.length;
    var a = 0;
    var p = 0;
    var k = [];
    var h = [];
    for (var g = 0; g < d; g++) {
        var f = $(l[g]);
        var o = f.position();
        var m = o.top;
        if (e.width() < 452) {
            l.removeClass("g_foldContainerPadding").removeAttr("style");
            e.find(".g_horfoldSepLine").removeClass("g_horfoldSepLine").addClass("g_verfoldSepLine").removeAttr("style");
            l.height();
            break
        }
        if (g == 0) {
            l.addClass("g_foldContainerPadding");
            l = e.find(".g_foldContainerPanel");
            f = $(l[g]);
            m = f.position().top;
            e.find(".g_verfoldSepLine").addClass("g_horfoldSepLine").removeClass("g_verfoldSepLine")
        }
        if (g == d - 1) {
            if (p == m) {
                var q = f.height();
                if (a < q) {
                    a = q
                }
                k.push(f.next());
                h.push(f);
                $.each(k, function (s, t) {
                    $(t).css("height", (a - 5) + "px")
                });
                $.each(h, function (s, t) {
                    $(t).css("height", a + "px")
                });
                break
            }
        }
        if (p != m) {
            $.each(k, function (s, t) {
                $(t).css("height", (a - 5) + "px")
            });
            $.each(h, function (s, t) {
                $(t).css("height", a + "px")
            });
            k = [];
            h = [];
            a = 0;
            f.prev().hide();
            l = e.find(".g_foldContainerPanel");
            f = $(l[g]);
            p = f.position().top
        }
        var q = f.height();
        if (a < q) {
            a = q
        }
        k.push(f.next());
        h.push(f)
    }
    k = [];
    h = [];
    e.find(".g_productNav").fadeTo(400, 1)
};
Site.foldChange = function (w, h, k) {
    var d = $("#module" + w);
    var f = k.style;
    var g = k.flag;
    d.find(".fold_h_J").mouseover(function () {
        $(this).addClass("g_hover")
    }).mouseleave(function () {
        $(this).removeClass("g_hover")
    });
    d.find(".foldChange_J").click(function () {
        var A = $(this), z = A.parents(".fold_J"), B = z.attr("foldId"), i = $("#childrenDiv" + B + "M" + w);
        if (i.is(":visible")) {
            i.slideUp(300);
            z.find(".fold_btn_J").removeClass("g_unfold").addClass("g_fold")
        } else {
            i.slideDown(300);
            z.find(".fold_btn_J").removeClass("g_fold").addClass("g_unfold")
        }
    });
    Site.initContentSplitLine(w, h);
    var y = Fai.top.location.hash;
    if (y.length < 2) {
        return
    }
    if (Fai.getHashParam(y, "_np") && f == 24) {
        var a = Site.decodeQsToUrl(Fai.getHashParam(y, "_np"), "_np", k);
        if (a) {
            var x = Fai.getHashParam(a, "groupId");
            d.find(".g_foldContainerContent").find("[childGroupId=" + x + "]").addClass("g_selected");
            d.find(".g_foldContainerContent").find("[groupId=" + x + "]").addClass("g_selected")
        }
    }
    if (Fai.getHashParam(y, "_pp")) {
        var a = Site.decodeQsToUrl(Fai.getHashParam(y, "_pp"), "_pp", k);
        var e = [];
        $.each(Fai.getHashParam(y, "_pp").split("_"), function (z, A) {
            if (A) {
                e.push(A)
            }
        });
        if (f == 26) {
            var x = Fai.getHashParam(a, "groupId");
            if (a && !isNaN(x)) {
                d.find(".g_foldContainerContent").find("[groupId=" + x + "]").addClass("g_selected");
                d.find(".g_foldContainerContent").find("[childGroupId=" + x + "]").addClass("g_selected");
                d.find(".g_foldContainerContent").find("[grandGroupId=" + x + "]").addClass("g_selected")
            }
        } else {
            if (f == 21) {
                var s = Fai.getHashParam(a, "_ci");
                var l = Fai.getHashParam(y, "pid");
                if (a) {
                    if (!isNaN(l)) {
                        d.find(".g_foldContainerContent").find("[childGroupId=" + l + "]").addClass("g_selected")
                    } else {
                        if (!isNaN(s)) {
                            d.find(".g_foldContainerContent").find("[groupId=" + s + "]").addClass("g_selected")
                        }
                    }
                }
            } else {
                if (f == 38) {
                    var b = Site.getUrlParamObj("?" + a);
                    if (b && e.length == 3) {
                        $.each(b, function (z, A) {
                            if (z.indexOf("_li") > -1) {
                                var i = z.split("=")[0].replace("_li", "");
                                if (!isNaN(i)) {
                                    d.find(".childrenDiv").find("[childGroupId=" + i + "]").addClass("g_selected")
                                }
                            }
                        })
                    }
                    if (e.length == 4) {
                        var r = Fai.getHashParam(a, "_plc");
                        var o = Fai.getHashParam(a, "labelId");
                        if (r > -1) {
                            if (!isNaN(o)) {
                                d.find(".childrenDiv").find("[foldId=" + o + "]").addClass("g_selected")
                            }
                        } else {
                            if (!isNaN(o)) {
                                d.find(".g_foldContainerContent").find("[groupId=" + o + "]").addClass("g_selected")
                            }
                        }
                    }
                } else {
                    if (f == 9 && e.length == 3) {
                        var v = e[2].split("~");
                        if (v.length == 1 && !isNaN(v[0])) {
                            d.find(".g_foldContainerContent").find("[groupId=" + v[0] + "]").addClass("g_selected")
                        } else {
                            var b = Site.getUrlParamObj("?" + a);
                            var n = false;
                            if (!b) {
                                return
                            }
                            if (!Fai.checkBit(g, 4)) {
                                $.each(b, function (i, A) {
                                    if (i.indexOf("_fi") > -1) {
                                        var z = i.split("=")[0].replace("_fi", "");
                                        if (!isNaN(z) && !isNaN(A)) {
                                            d.find("#childrenDiv" + z + "M" + w).find("[childGroupId=" + A + "]").addClass("g_selected")
                                        }
                                    }
                                })
                            } else {
                                $.each(b, function (B, E) {
                                    if (B.indexOf("_fi") > -1) {
                                        var D = B.split("=")[0].replace("_fi", "");
                                        var C = k.blob0;
                                        var z = 0;
                                        for (var A = 0; A < D; A++) {
                                            z += C[A].l.length
                                        }
                                        if (!isNaN(E)) {
                                            d.find(".g_foldContainerContent").find("[groupId=" + (z + parseInt(E)) + "]").addClass("g_selected")
                                        }
                                    }
                                })
                            }
                        }
                    } else {
                        if (f == 95 || f == 96) {
                            if (k.prop0 == 0) {
                                var u = Fai.getHashParam(a, "groupIdList");
                                if (!u) {
                                    return
                                }
                                var q = JSON.parse(u);
                                if (!q) {
                                    return
                                }
                                var t = false;
                                var c = false;
                                for (var p = 0; p < q.length; p++) {
                                    if (d.find(".g_foldContainerContent").find("[grandgroupId=" + q[p] + "]").length == 1) {
                                        d.find(".g_foldContainerContent").find("[grandgroupId=" + q[p] + "]").addClass("g_selected");
                                        t = true
                                    }
                                }
                                if (!t) {
                                    for (var p = 0; p < q.length; p++) {
                                        if (d.find(".g_foldContainerContent").find("[childgroupId=" + q[p] + "]").length == 1) {
                                            d.find(".g_foldContainerContent").find("[childgroupId=" + q[p] + "]").addClass("g_selected");
                                            c = true
                                        }
                                    }
                                }
                                if (!t && !c) {
                                    for (var p = 0; p < q.length; p++) {
                                        if (d.find(".g_foldContainerContent").find("[groupId=" + q[p] + "]").length == 1) {
                                            d.find(".g_foldContainerContent").find("[groupId=" + q[p] + "]").addClass("g_selected")
                                        }
                                    }
                                }
                            } else {
                                if (k.prop0 == 1) {
                                    var m = Fai.getHashParam(a, "_pni");
                                    if (!m) {
                                        return
                                    }
                                    var j = JSON.parse(m);
                                    $.each(j, function (z, A) {
                                        d.find(".g_foldContainerContent").find("[groupId=" + A + "]").addClass("g_selected")
                                    })
                                }
                            }
                        }
                    }
                }
            }
        }
    }
};
Site.decodeQsToUrl = function (d, i, c) {
    var a = "";
    var j = [];
    var f = c.style;
    $.each(d.split("_"), function (l, m) {
        if (m) {
            j.push(m)
        }
    });
    if (j < 2) {
        return a
    }
    var e = j[0];
    if (e > 0) {
        a = "fromColId=" + e + "&"
    }
    var h = j[1];
    if (h <= 0 || h != c.id) {
        return a
    }
    a += "mid=" + h + "&";
    if (j.length <= 2) {
        return a
    }
    if (i == "_np" && j.length >= 3) {
        if (j.length >= 4) {
            return a += "groupId=" + j[2] + "&_ngc=" + j[3]
        }
        return a += "groupId=" + j[2]
    } else {
        if (i == "_php" && j.length >= 3) {
            return a += "groupId=" + j[2]
        } else {
            if (i == "_pp") {
                switch (f) {
                    case 26:
                        if (j.length >= 4) {
                            return a += "groupId=" + j[2] + "&_pgc=" + j[3]
                        }
                        break;
                    case 21:
                        if (j.length >= 3) {
                            return a += "_ci=" + j[2]
                        }
                        break;
                    case 38:
                        if (j.length == 3) {
                            var b = j[2].split("~");
                            $.each(b, function (l, m) {
                                if (m > -1) {
                                    a += "_li" + l + "=" + m + "&"
                                }
                            });
                            return a
                        } else {
                            if (j.length >= 4) {
                                if (j[3] < 0) {
                                    return a += "labelId=" + j[2]
                                }
                                return a += "labelId=" + j[2] + "&_plc=" + j[3]
                            }
                        }
                        break;
                    case 9:
                        if (j.length == 3) {
                            var g = j[2].split("~");
                            if (g.length != c.blob0.length) {
                                return
                            }
                            $.each(g, function (m, l) {
                                if (l > -1) {
                                    a += "_fi" + m + "=" + l + "&"
                                }
                            });
                            return a
                        }
                        break;
                    case 95:
                    case 96:
                        if (j.length == 3) {
                            var k = j[2].split("~");
                            if (k.length < 1) {
                                return a
                            }
                            if (c.prop0 == 0) {
                                return a += "groupIdList=" + JSON.stringify(k)
                            } else {
                                if (c.prop0 == 1) {
                                    return a += "_pni=" + JSON.stringify(k)
                                }
                            }
                        }
                        break;
                    default:
                        return a;
                        break
                }
            }
        }
    }
};
Site.floatTip = function (d) {
    var q = {moduleId: "", targetId: "", tipText: "", cusClass: "", direction: 3};
    q = $.extend(q, d);
    if (q.moduleId.length == 0 || q.targetId.length == 0 || q.tipText.length == 0) {
        return
    }
    $(Fai.top.document).find(".J_floatTip_" + q.moduleId).remove();
    var k = Fai.isIE6() || Fai.isIE7() || Fai.isIE8();
    var t = [];
    var j = "floatTip_content";
    var r = "floatTip_right";
    var l = "floatTip_arrow";
    var p = "floatTip_left";
    var o = "floatTip_" + q.moduleId + "_" + q.targetId;
    if (k) {
        j += " floatTip_content_IE ";
        r += " floatTip_right_IE ";
        l += " floatTip_arrow_IE ";
        p += " floatTip_left_IE "
    }
    t.push("<div id='" + o + "' class='J_floatTip_" + q.moduleId + " floatTip'>\n");
    t.push("<div class='" + l + "'></div>");
    t.push("<div class='" + r + "'></div>");
    t.push("<div class='" + p + "'></div>");
    t.push("<div class='" + j + q.cusClass + "'>" + q.tipText + "</div>");
    t.push("</div>\n");
    $(Fai.top.document).find("#g_main").append(t.join(""));
    var b = $("#" + q.moduleId);
    var s = $(b).find("#" + q.targetId);
    var a = $("#" + o);
    var h = $(".floatLeftTop").offset().top;
    var c = (Fai.top._manageMode) ? $("#g_main").scrollTop() : $("body").scrollTop();
    if (Fai.isIE6()) {
        c = $("#g_main").scrollTop()
    }
    if (c == 0) {
        c = $("html").scrollTop()
    }
    var e = a.height();
    var m = a.width() * 0.7;
    var g = s.width() * 0.8;
    var f = s.height();
    var n = s.offset().left + (g - m);
    var i = s.offset().top + c - h;
    $("#" + o).show().css({top: i + "px", left: n + "px", "z-index": 9031});
    setTimeout(function () {
        if (k) {
            var u = i - e - 10 + (f / 3);
            $("#" + o).animate({top: u + "px", opacity: 1, filter: "alpha(opacity=100)"}, 300)
        } else {
            var u = i - e + (f / 3);
            $("#" + o).css({top: u + "px", opacity: 1})
        }
    }, 50);
    $(s).unbind("click").bind("click", function () {
        if ($(this).hasClass("focusBg")) {
            $(this).removeClass("focusBg")
        }
        $("#floatTip_" + q.moduleId + "_" + q.targetId).remove()
    })
};
Site.floatTip_clear = function (a) {
    $(Fai.top.document).find(".J_floatTip_" + a).remove()
};
Site.moduleSubPanel = function (m) {
    var e = {that: null, moduleId: null, idStr: "", clsStr: "", contentStr: ""};
    $.extend(e, m);
    if (e.that == null) {
        return
    }
    var a, c = e.moduleId, d = $("#module" + c), l = j(d), n = h(d, c);
    n = n + " modulePattern " + d.attr("class");
    n = n.replace("formInZone", "");
    var b = ["<div id='", e.idStr, "' class='", e.clsStr, " g_m_s_J ", l, "' _mouseIn=1 style='display:none;'>", "<div class='", n, "' style='zoom:0;margin:0;overflow:visible;position:relative;'>", "<div class='formMiddle' style='zoom:0;width:auto;border:0;'>", "<div class='formMiddleCenter' style='zoom:0;width:auto;margin:0;'>", "<div class='formMiddleContent' style='", Fai.isIE6() ? "_display:inline;" : "", "width:auto;margin:0;overflow:visible;'>", e.contentStr, "</div>", "</div>", "</div>", "</div>", "</div>"];
    a = $(b.join(""));
    a.appendTo("body");
    if (d.hasClass("formStyle76")) {
        i()
    } else {
        k()
    }

    function i() {
        var q = d.find(".pd_mall_G_J"), o = d.find(".p_m_cotainer_J"), p;
        q.off("mouseleave.pr").on("mouseleave.pr", function () {
            p = setTimeout(function () {
                g(e.moduleId)
            }, 20)
        });
        a.off("mouseleave.pr").on("mouseleave.pr", function () {
            g(e.moduleId);
            if (parseInt(d.attr("_side")) === 2) {
                Site.startFlutterInterval(d)
            }
            if (parseInt(d.attr("_side")) === 1) {
                var r = d.outerWidth();
                d.animate({left: -r}, {queue: false, duration: 500})
            }
        });
        a.off("mouseenter.pr").on("mouseenter.pr", function () {
            if (p) {
                clearTimeout(p);
                if (parseInt(d.attr("_side")) === 2) {
                    Site.stopFlutterInterval(d)
                }
                if (parseInt(d.attr("_side")) === 1) {
                    d.animate({left: 0}, {queue: false, duration: 500})
                }
            }
        })
    }

    function k() {
        a.mouseleave(function () {
            a.attr("_mouseIn", 0);
            setTimeout(f, 100)
        });
        a.mouseover(function () {
            a.attr("_mouseIn", 1)
        });
        e.that.mouseleave(function () {
            a.attr("_mouseIn", 0);
            setTimeout(f, 100)
        });
        e.that.mouseover(function () {
            a.attr("_mouseIn", 1)
        });
        if (parseInt(d.attr("_side")) === 2) {
            a.mouseleave(function () {
                Site.startFlutterInterval(d)
            });
            a.mouseenter(function () {
                Site.stopFlutterInterval(d)
            })
        }
    }

    function g(q) {
        var p = $("#module" + q).find(".p_m_cotainer_J"), o = $(".g_m_s_J");
        o.has(".form" + q).remove();
        p.removeClass("bold p_m_hover g_border");
        p.find(".p_m_value_J").removeClass("g_stress");
        p.each(function () {
            var r = $(this);
            if (r.attr("_chd") == 1) {
                r.find(".p_m_cotainerR_J").addClass("p_m_more")
            }
        })
    }

    function f() {
        $(".g_m_s_J").each(function () {
            var o = $(this);
            if (o.length != 1) {
                return
            }
            if (o.attr("_mouseIn") == 1) {
                return
            }
            o.remove()
        })
    }

    function j(s) {
        var q = s.attr("_intab") || 0, r = s.attr("_inpack") || 0, v = s.attr("_inmulmcol") || 0,
            o = s.attr("_infullmeasure") || 0, p = 0, u = "", t = "";
        if (q == 0 && v == 0 && o == 0 && r == 0) {
            t = s.parent().attr("class");
            t = t.replace("J_moduleZone", "").replace("fk-webBannerZone", "").replace("fk-moduleZone", "").replace("ui-sortable", "").replace("elemZone", "").replace("elemZoneModule", "");
            return t
        } else {
            if (q > 0) {
                p = q
            } else {
                if (v > 0) {
                    p = v
                } else {
                    if (o > 0) {
                        p = o
                    } else {
                        if (r > 0) {
                            p = r
                        }
                    }
                }
            }
            u = Fai.top.$("#module" + p);
            return j(u)
        }
    }

    function h(s, p) {
        var u = s.attr("_intab") || 0, o = s.attr("_inmulmcol") || 0, t = s.attr("_infullmeasure") || 0,
            r = s.hasClass("modulePattern") || false, v = "", x = s.attr("class") || "", q = /modulePattern\d+/, w = "";
        if (r) {
            return x.match(q)
        } else {
            if (u == 0 && o == 0 && t == 0) {
                return x.match(q)
            } else {
                if (u > 0) {
                    w = u
                } else {
                    if (o > 0) {
                        w = o
                    } else {
                        if (t > 0) {
                            w = t
                        }
                    }
                }
                v = Fai.top.$("#module" + w);
                return h(v, p)
            }
        }
    }

    return a
};
Site.mobiPlatform = function (b) {
    if (!Fai.top._siteDemo || Fai.top._designAuth) {
        return
    }
    if (typeof(Fai.top.top) != "undefined" && typeof(Fai.top.top.$) != "undefined") {
        var v = Fai.top.top.$(".fk-quickViewTemplateContent");
        if (v.length > 0 && v.is(":visible")) {
            return
        }
    }
    var g = [], h = false, r = "mobiPlatform", m = document.domain, p = {}, d = {}, l = {w: 0, h: 0},
        s = Fai.top.$("body"), y = Fai.getScrollWidth(), j = 400, n = 600,
        c = $.cookie("mobiPlatformBg", {domain: m, path: "/"}) || 0,
        z = parseInt($.cookie("mobiPlatformIconFlag", {domain: m, path: "/"})) || 0, w = "display:none;", q = "",
        o = "", f, x, k, a, u, t;
    var A = {refresh: false};
    $.extend(A, b);
    if (Fai.isIE) {
        if (Fai.isIE6() || Fai.isIE7() || Fai.isIE8()) {
            h = true
        }
    }
    if (z > 0) {
        w = "";
        q = "display:none;";
        o = z == 1 ? "mobiPlatformIcon_right" : "mobiPlatformIcon_left"
    }
    p.big = {};
    p.big.className = "mobiPlatform_big";
    p.big.w = 265;
    p.big.h = 490;
    p.big.cw = 295;
    p.big.ch = 592;
    p.small = {};
    p.small.className = "mobiPlatform_small";
    p.small.w = 265;
    p.small.h = 400;
    p.small.cw = 291;
    p.small.ch = 483;
    l = Site.mobiPlatform.getWindowSize();
    if (l.h <= 800) {
        d = p.small
    } else {
        d = p.big
    }
    Site.mobiPlatform.nowSize = d;
    if (s.children("#mobiPlatform").length < 1) {
        g.push("<div id='mobiPlatform' class='mobiPlatform mobiPlatform-hide " + d.className + "' direction='0' moved='0' style='" + q + "'>");
        g.push("	<div class='J_innerCover mp-innerCover' style='display:none;'></div>");
        g.push("	<div class='J_innerIframe mp-innerIframe" + (h ? " mp-innerIframe2" : "") + "'>");
        if (!h) {
            g.push("		<div class='J_loading mp-loading'>");
            g.push("			<div class='mp-loading-icon mp-loading-iconAction'></div>");
            g.push("		</div>")
        } else {
            g.push("	<div class='mp-updateBtnContainer'>");
            g.push("		<a href='https://www.baidu.com/s?wd=chrome' target='_blank' class='mp-updateBtn'></a>");
            g.push("	</div>")
        }
        g.push("	</div>");
        g.push("	<a href='javascript:;' hidefocus='true' title='隐藏' class='J_closeBtn mp-closeBtn' style='display:none;'></a>");
        g.push("	<div class='J_hoverTip mp-hoverTip' style='display:none;'></div>");
        g.push("</div>");
        g.push("<div id='mobiPlatformIcon' class='mobiPlatformIcon " + o + "' style='" + w + "'>");
        g.push("	<a href='javascript:;' class='mobiPlatformIcon-handle' onclick='Site.mobiPlatform();return false;' hidefocus='true'></a>");
        g.push("</div>");
        Fai.top.$("body").append(g.join(""));
        f = s.children("#mobiPlatform");
        x = s.children("#mobiPlatformIcon");
        a = f.find(".J_closeBtn");
        u = f.find(".J_hoverTip");
        f.draggable({
            scroll: false,
            cursor: "move",
            distance: 10,
            containment: "parent",
            cancel: ".J_innerCover",
            start: function (B, C) {
                f.find(".J_innerCover").show()
            },
            stop: function (B, H) {
                f.find(".J_innerCover").hide();
                f.attr("moved", "1");
                if (!c) {
                    c = 1;
                    $.cookie("mobiPlatformBg", 1, {expires: 365, domain: m, path: "/"})
                }
                d = Site.mobiPlatform.nowSize;
                l = Site.mobiPlatform.getWindowSize();
                var G = true, I = {x: 1, y: 1}, C = 4, F = s.children(".floatLeftTop"), M = F.offset(),
                    E = ~~(F.css("top").replace("px", "")), L = l.h - d.ch, D = L - (H.offset.top - (M.top - E)),
                    K = l.w - d.cw, J = K - (H.offset.left - M.left);
                if (J < (K / 2)) {
                    J -= y;
                    I.x = 1
                } else {
                    I.x = 0
                }
                if (D < (L / 2)) {
                    I.y = 1
                } else {
                    I.y = 0
                }
                if (!(J < K && J > C)) {
                    G = false
                }
                if (!(D < L && D > C)) {
                    G = false
                }
                if (!G) {
                    if (I.y == 1) {
                        if (D <= C) {
                            f.attr("direction", "4")
                        }
                    } else {
                        if (D >= L) {
                            f.attr("direction", "3")
                        }
                    }
                    if (I.x == 1) {
                        if (J <= C) {
                            if (f.attr("direction") == 3) {
                                f.css({bottom: "auto", top: 0})
                            } else {
                                if (f.attr("direction") == 4) {
                                    f.css({bottom: 0, top: "auto"})
                                }
                            }
                            f.attr("direction", "2").css({
                                right: 0,
                                left: "auto"
                            }).animate({right: (-d.cw) + "px"}, j, function () {
                                x.removeClass("mobiPlatformIcon_left").addClass("mobiPlatformIcon_right").fadeIn();
                                f.hide();
                                $.cookie("mobiPlatformIconFlag", 1, {expires: 365, domain: m, path: "/"})
                            })
                        }
                    } else {
                        if (J >= K) {
                            if (f.attr("direction") == 3) {
                                f.css({bottom: "auto", top: 0})
                            } else {
                                if (f.attr("direction") == 4) {
                                    f.css({bottom: 0, top: "auto"})
                                }
                            }
                            f.attr("direction", "1").css({
                                right: "auto",
                                left: 0
                            }).animate({left: (-d.cw) + "px"}, j, function () {
                                x.removeClass("mobiPlatformIcon_right").addClass("mobiPlatformIcon_left").fadeIn();
                                f.hide();
                                $.cookie("mobiPlatformIconFlag", 2, {expires: 365, domain: m, path: "/"})
                            })
                        }
                    }
                    if (f.attr("direction") == 3) {
                        f.animate({bottom: "auto", top: (-d.ch) + "px"}, n, function () {
                            x.removeClass("mobiPlatformIcon_left").addClass("mobiPlatformIcon_right").fadeIn();
                            f.hide();
                            $.cookie("mobiPlatformIconFlag", 1, {expires: 365, domain: m, path: "/"})
                        })
                    } else {
                        if (f.attr("direction") == 4) {
                            f.animate({top: (L + d.ch) + "px", bottom: "auto"}, n, function () {
                                x.removeClass("mobiPlatformIcon_left").addClass("mobiPlatformIcon_right").fadeIn();
                                f.hide();
                                $.cookie("mobiPlatformIconFlag", 1, {expires: 365, domain: m, path: "/"})
                            })
                        }
                    }
                }
            }
        });
        if (!h) {
            var e = document.createElement("iframe"), i = f.find(".J_innerIframe");
            e.style.width = d.w + "px";
            e.style.height = d.h + "px";
            e.style.border = "none";
            e.src = Fai.top._mobiAdmHost;
            e.id = "mobiFrame";
            if (e.attachEvent) {
                e.attachEvent("onload", function () {
                    f.find(".J_loading").remove();
                    f.removeClass("mobiPlatform-hide")
                })
            } else {
                e.onload = function () {
                    f.find(".J_loading").remove();
                    f.removeClass("mobiPlatform-hide");
                    if (Fai.isSafari()) {
                        var B = $(document.getElementById("mobiFrame").contentWindow.document.body);
                        B.find("#g_web").css("position", "fixed");
                        B.find("#g_web").css("height", "100%")
                    }
                }
            }
            i.find("iframe").remove();
            i.append(e);
            k = $(e)
        } else {
            f.removeClass("mobiPlatform-hide")
        }
        Fai.top.$(window).off("resize.mobiPlatform");
        Fai.top.$(window).on("resize.mobiPlatform", function () {
            Site.mobiPlatform({refresh: true})
        });
        a.click(function () {
            d = Site.mobiPlatform.nowSize;
            l = Site.mobiPlatform.getWindowSize();
            rangeHeight = l.h - d.ch;
            rangeWidth = l.w - d.cw;
            nowWidth = rangeWidth - f.offset().left;
            var B = 0;
            var C = f.attr("direction");
            if (f.attr("moved") == "0") {
                if (C == "0") {
                    B = 2
                } else {
                    if (C == "1") {
                        B = 3
                    } else {
                        if (C == "2") {
                            B = 2
                        }
                    }
                }
            } else {
                if (nowWidth < (rangeWidth / 2)) {
                    B = 1
                } else {
                    B = 3
                }
            }
            if (B == 1) {
                f.animate({left: (rangeWidth + d.cw) + "px", right: "auto"}, n, function () {
                    x.removeClass("mobiPlatformIcon_left").addClass("mobiPlatformIcon_right").fadeIn();
                    f.attr("direction", "5").hide()
                })
            } else {
                if (B == 2) {
                    f.animate({left: "auto", right: (-d.cw) + "px"}, n, function () {
                        x.removeClass("mobiPlatformIcon_left").addClass("mobiPlatformIcon_right").fadeIn();
                        f.attr("direction", "5").hide()
                    })
                } else {
                    if (B == 3) {
                        f.animate({left: (-d.cw) + "px", right: "auto"}, n, function () {
                            x.removeClass("mobiPlatformIcon_right").addClass("mobiPlatformIcon_left").fadeIn();
                            f.attr("direction", "1").hide()
                        })
                    }
                }
            }
        });
        f.hover(function () {
            t = Fai.top.$("#mobiPlatformBg");
            if (t.length < 1) {
                var B = [];
                B.push("<div id='mobiPlatformBg' class='popupBg' style='z-index:9032;opacity:0;' >");
                if ($.browser.msie && $.browser.version == 6) {
                    B.push("<iframe id='fixSelectIframe-mobiPlatform' wmode='transparent' style='filter: alpha(opacity=0);opacity: 0;' class='popupBg' style='z-index:-111' src='javascript:'></iframe>")
                } else {
                    B.push("</div>")
                }
                f.before(B.join(""));
                t = Fai.top.$("#mobiPlatformBg")
            }
            t.stop(true).show().animate({opacity: 0.6}, 500);
            if (!c) {
                u.stop(true).show().animate({opacity: 1})
            } else {
                u.hide()
            }
        }, function () {
            t.stop(true).animate({opacity: 0}, 500, function () {
                t.hide()
            });
            if (!c) {
                u.stop(true).animate({opacity: 0}, 400, function () {
                    u.hide()
                })
            } else {
                u.hide()
            }
        })
    } else {
        f = s.children("#mobiPlatform");
        x = s.children("#mobiPlatformIcon");
        if (!h) {
            k = f.find("iframe")
        }
        if (A.refresh) {
            f.attr("class", "mobiPlatform " + d.className);
            if (!h) {
                k.css({width: d.w + "px", height: d.h + "px"})
            }
        }
        if (!A.refresh) {
            f.show();
            if (f.attr("direction") == 2) {
                f.attr("moved", "0").animate({right: "10px"}, j, function () {
                    x.fadeOut()
                })
            } else {
                if (f.attr("direction") == 1) {
                    f.attr("moved", "0").animate({left: "10px"}, j, function () {
                        x.fadeOut()
                    })
                } else {
                    f.attr("direction", 0).attr("moved", "0").css({
                        top: "auto",
                        left: "auto",
                        right: (-d.cw) + "px",
                        bottom: "10px"
                    }).animate({right: "10px"}, j, function () {
                        x.fadeOut()
                    })
                }
            }
            $.cookie("mobiPlatformIconFlag", 0, {expires: 365, domain: m, path: "/"})
        }
    }
};
(function (a) {
    a.getWindowSize = function () {
        var b = {w: 0, h: 0};
        if (window.innerWidth && window.innerHeight) {
            b.w = window.innerWidth;
            b.h = window.innerHeight
        } else {
            if (document.documentElement) {
                b.w = document.documentElement.clientWidth;
                b.h = document.documentElement.clientHeight
            } else {
                if (document.body.clientWidth && document.body.clientHeight) {
                    b.w = document.body.clientWidth;
                    b.h = document.body.clientHeight
                }
            }
        }
        return b
    }
})(Site.mobiPlatform);
Site.Pagenation = (function (d) {
    var c;

    function b(h, f, i) {
        var g = d("#pagenation" + h);
        c = f;
        g.css("text-align", "center");
        e(f, g);
        a(h, g, i)
    }

    function e(h, j) {
        var l = Math.ceil(h.totalSize / h.pageSize), g = h.pageNo || 1;
        if (j.length != 0) {
            var f = [], k = 0;
            f.push("<div class='pagePrev'>");
            if (g == 1) {
                f.push("<span>" + LS.prevPager + "</span>")
            } else {
                f.push("<a hidefocus='true' class='g_border' href='javascript:;'><span>" + LS.prevPager + "</span></a>")
            }
            f.push("</div>");
            if (g == 1) {
                f.push("<div class='pageNo'><span>1</span></div>")
            } else {
                f.push("<div class='pageNo'><a hidefocus='true' class='g_border' href='javascript:;'><span>1</span></a></div>")
            }
            if (g - 2 > 2) {
                f.push("<div class='pageEllipsis'><span>...</span></div>");
                for (k = g - 2; k < g; k++) {
                    f.push("<div class='pageNo'><a hidefocus='true' class='g_border' href='javascript:;'><span>" + k + "</span></a></div>")
                }
            } else {
                for (k = 2; k < g; k++) {
                    f.push("<div class='pageNo'><a hidefocus='true' class='g_border' href='javascript:;'><span>" + k + "</span></a></div>")
                }
            }
            if (g != 1 && g != l) {
                f.push("<div class='pageNo'><span>" + g + "</span></div>")
            }
            if (g + 2 < l - 1) {
                for (k = g + 1; k <= g + 2; k++) {
                    f.push("<div class='pageNo'><a hidefocus='true' class='g_border' href='javascript:;'><span>" + k + "</span></a></div>")
                }
                f.push("<div class='pageEllipsis'><span>...</span></div>")
            } else {
                for (k = g + 1; k <= l - 1; k++) {
                    f.push("<div class='pageNo'><a hidefocus='true' class='g_border' href='javascript:;'><span>" + k + "</span></a></div>")
                }
            }
            if (g == l) {
                f.push("<div class='pageNo'><span>" + l + "</span></div>")
            } else {
                f.push("<div class='pageNo'><a hidefocus='true' class='g_border' href='javascript:;'><span>" + l + "</span></a></div>")
            }
            f.push("<div class='pageNext'>");
            if (g == l) {
                f.push("<span>" + LS.nextPager + "</span>")
            } else {
                f.push("<a hidefocus='true' class='g_border' href='javascript:;'><span>" + LS.nextPager + "</span></a>")
            }
            f.push("</div>");
            j.html(f.join(""))
        }
    }

    function a(g, f, h) {
        d("body").off("click", "#pagenation" + g + " .g_border");
        d("body").on({
            hover: function () {
                d(this).addClass("g_hover")
            }, mouseleave: function () {
                d(this).removeClass("g_hover")
            }, click: function () {
                var j = f.find(".pageNo").not(":has('.g_border')").text();
                var i = 1;
                if (d(this).parent().hasClass("pagePrev")) {
                    i = Number(j) - 1
                } else {
                    if (d(this).parent().hasClass("pageNext")) {
                        i = Number(j) + 1
                    } else {
                        i = Number(d(this).text())
                    }
                }
                c.pageNo = i;
                h(g, i);
                e(c, f)
            }
        }, "#pagenation" + g + " .g_border")
    }

    return b
})(jQuery);
Site.loadCss = function (b, f, e) {
    var c = document.createElement("link");
    supportOnload = "onload" in c, isOldWebKit = +navigator.userAgent.replace(/.*(?:AppleWebKit|AndroidWebKit)\/?(\d+).*/i, "$1") < 536, protectNum = 600000;
    f = typeof f == "function" ? f : function () {
    };
    c.rel = "stylesheet";
    c.type = "text/css";
    c.href = b;
    if (typeof e !== "undefined") {
        c.id = e
    }
    document.getElementsByTagName("head")[0].appendChild(c);
    if (isOldWebKit || !supportOnload) {
        setTimeout(function () {
            a(c, f, 0)
        }, 1);
        return
    }
    if (supportOnload) {
        c.onload = d;
        c.onerror = function () {
            d()
        }
    } else {
        c.onreadystatechange = function () {
            if (/loaded|complete/.test(c.readyState)) {
                d()
            }
        }
    }

    function d() {
        c.onload = c.onerror = c.onreadystatechange = null;
        c = null;
        f()
    }

    function a(k, l, j) {
        var i = k.sheet, g;
        j += 1;
        if (j > protectNum) {
            g = true;
            k = null;
            l();
            return
        }
        if (isOldWebKit) {
            if (i) {
                g = true
            }
        } else {
            if (i) {
                try {
                    if (i.cssRules) {
                        g = true
                    }
                } catch (h) {
                    if (h.name === "NS_ERROR_DOM_SECURITY_ERR") {
                        g = true
                    }
                }
            }
        }
        setTimeout(function () {
            if (g) {
                l()
            } else {
                a(k, l, j)
            }
        }, 20)
    }
};
Site.checkScriptLoad = function (f) {
    if (typeof f == "undefined" || f.length < 1) {
        return
    }
    var c = document.scripts, b = c.length - 1, e = "", a = false, d;
    for (d = b; d >= 0; d--) {
        e = c[d].getAttribute("src") || "";
        if (e == f) {
            a = true;
            break
        }
    }
    return a
};
Site.demandLoadJs = function (b, a) {
    if (typeof b == "undefined" || b.length < 1) {
        return
    }
    if (!Site.checkScriptLoad(b)) {
        if (typeof a == "function") {
            $LAB.script(b).wait(function () {
                a()
            })
        } else {
            $LAB.script(b)
        }
    }
};
Site.checkCssLoad = function (c) {
    if (typeof c == "undefined" || c.length < 1) {
        return
    }
    var f = document.styleSheets, b = f.length - 1, d = "", a = false, e;
    for (e = b; e >= 0; e--) {
        src = f[e].href || "";
        if (src == c) {
            a = true;
            break
        }
    }
    return a
};
Site.demandLoadCss = function (a, b) {
    if (typeof a == "undefined" || a.length < 1) {
        return
    }
    if (!Site.checkCssLoad(a)) {
        Site.loadCss(a, b)
    }
};
Site.initContentSplitLine = function (a, c) {
    var b = $("#module" + a), g, q;
    if (b.hasClass("formStyle12") || b.hasClass("formStyle13")) {
        var p = b.hasClass("formStyle13"), k = p ? ".f-textListPropSep" : ".f-hotTextListPropSep";
        g = p ? b.find(".productTextListTable:first") : b.find(".productHotTextListTable:first");
        q = p ? b.find(".productTextListProp") : b.find(".productHotTextListProp");
        if (g.length > 0) {
            $(function () {
                Fai.top.Fai.setCtrlStyleCssList("stylemodule", "module" + a, [{
                    cls: ".g_separator",
                    key: "margin-top",
                    value: "-" + parseInt(g.css("margin-top").replace("px")) / 2 + "px"
                }, {
                    cls: ".g_separator",
                    key: "margin-bottom",
                    value: "-" + parseInt(g.css("margin-bottom").replace("px")) / 2 + "px"
                }])
            })
        }
        if (q.length > 0) {
            var n = q.css("background-color");
            if (typeof n == "string" && n.length > 0) {
                n = n.replace(/\s/g, "");
                if (n != "rgba(0,0,0,0)" && n != "transparent") {
                    $(function () {
                        Fai.top.Fai.setCtrlStyleCssList("stylemodule", "module" + a, [{
                            cls: k,
                            key: "display",
                            value: "none"
                        }])
                    })
                }
            }
        }
    }
    if (b.length < 1 || typeof c == "undefined" || c.y != 2) {
        return
    }
    var f = c.w ? c.w : 1, m = c.c ? c.c : "#000", j = Number(c.s), e = b.find(".g_separator");
    if (isNaN(j) || j < 3 || j > 8 || e.length < 1) {
        return
    }
    if (Fai.isIE6() || Fai.isIE7()) {
        e.css({
            fontSize: 0,
            height: 0,
            lineHeight: 0,
            borderColor: c.c,
            borderWidth: c.w + "px",
            borderStyle: "solid",
            borderLeft: "none",
            borderTop: "none",
            borderRight: "none"
        });
        return
    }
    var o = "<span>", h = "", l, d;
    l = ["─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ", "-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·", "-··-··-··-··-··-··-··-··-··-··", "— - — - — - — - — - — - — - — - "];
    h = l[j - 3];
    for (d = 0; d < 3; d++) {
        h += h
    }
    o += h + "</span>";
    e.addClass("g_foldTextLine").html(o);
    Site.checkSplitLineEnough(a)
};
Site.checkSplitLineEnough = function (g) {
    var c = $("#module" + g), d = c.find(".g_separator");
    if (c.length < 1 || d.length < 1) {
        return
    }
    var e = d.find("span"), b = d.width(), a = e.width(), f = e[0].innerHTML;
    doubleText = f + f;
    if (a == 0 || b == 0) {
        e.html(doubleText + f)
    } else {
        if (a < b) {
            e.html(doubleText);
            Site.checkSplitLineEnough(g)
        }
    }
    if (c.hasClass("formStyle11")) {
        d.css("width", c.find(".formMiddleContent").width() + "px")
    }
};
Site.chageTheWebVersion = function (a) {
    $.ajax({
        type: "POST", url: "/ajax/webTools_h.jsp?cmd=changeWebVersion", data: "verNum=" + a, success: function (b) {
            var c = jQuery.parseJSON(b);
            if (c.success) {
                window.location.reload()
            } else {
                alert(c.msg)
            }
        }
    })
};
Site.getModuleStatus = function (d) {
    var e = 1, g = "module" + d, b = Fai.top.$("#" + g), c = b.attr("_side"), a = b.parent(), f = a.attr("id") || "";
    if (c == 2) {
        e = 4
    } else {
        if (c == 1) {
            e = 5
        } else {
            if (f == "floatLeftTopForms" || f == "floatRightTopForms" || f == "floatLeftBottomForms" || f == "floatRightBottomForms") {
                e = 3
            } else {
                if (b.css("position") == "absolute" && a.hasClass("absForms")) {
                    e = 2
                }
            }
        }
    }
    return e
};
Site.jumpToModulePosition = function (d, h, b) {
    var e = $("#module" + d), j = 0;
    if (e.length < 1) {
        if (!b) {
            return
        } else {
            if (b == ("/col.jsp?id=" + Fai.top._colId)) {
                return
            }
            var m = Fai.getLanCode();
            m = m == "" ? "" : "/" + m;
            document.location.href = m + b + "#fai_" + d + "_" + h
        }
    }
    if (h == "bottom") {
        j = e.height()
    }
    var l = window.location.hash;
    if (l == "") {
        window.location.hash = "fai_" + d + "_" + h
    }
    var i = Fai.top._useNavVersionTwo ? Fai.top.$("#navV2") : Fai.top.$("#nav"), c = 0;
    if (Fai.top._navPositionFixTop && i.length > 0) {
        c = i.outerHeight();
        if (!/fixed|absolute/.test(i.css("position"))) {
            c = c * 2
        }
    }
    var f = 0;
    $elem = $("#module" + d);
    var g = d;
    var k = false;
    while (!k) {
        var a = Site.checkNestModule($elem).parentId;
        if (a > 0) {
            g = a;
            $elem = $("#module" + g);
            if ($elem.attr("_modulestyle") == 29) {
                f -= $("#formTabButtonList" + g).height()
            }
            continue
        } else {
            k = true
        }
    }
    if (g == d && $("#module" + d).attr("_modulestyle") == 80) {
        f = document.getElementById("module" + d).offsetTop + j
    } else {
        f += $("#module" + d).offset().top - $("#fk-toolTopBar").height() - $("#memberBarArea").height()
    }
    f -= c;
    $("html, body, #g_main, #web").animate({scrollTop: f}, {duration: 500, easing: "swing"});
    if (b != "") {
        $("#navCenter").find(".itemHover").removeClass("itemHover")
    }
};
Site.getTopWindow = function () {
    return (typeof Fai != "undefined" && Fai.top) || window
};
Site.changeABVersion = function () {
    if (Site.isBUser()) {
        $.cookie("isBUser", "false")
    } else {
        $.cookie("isBUser", "true")
    }
    window.location.reload()
};
Site.isBUser = function () {
    var a = false;
    if (Fai.top._aid % 2 == 1) {
        a = true
    }
    if ($.cookie("isBUser") != null) {
        a = $.cookie("isBUser") === "true" ? true : false
    }
    return a
};
Site.delAuthorizer = function () {
    $.ajax({
        type: "POST", url: "/ajax/webTools_h.jsp", data: "cmd=delAuthorizer", success: function (a) {
            var b = jQuery.parseJSON(a);
            Fai.ing(b.msg, true)
        }
    })
};
(function (c, a, d) {
    a.runSiteInit = function () {
        var k = [81, 97], l = k.length, g, h, f, e;
        for (f = 0; f < l; f++) {
            g = c(".formStyle" + k[f]);
            h = g.length;
            for (e = 0; e < h; e++) {
                a.run(g.eq(e).attr("id"))
            }
        }
    };
    var b = {};
    a.init = function (e, f) {
        var g = typeof f == "number" ? f : f.moduleId;
        if (!g) {
            return
        }
        var h = "module" + g;
        b[h] = b[h] || [];
        b[h].push({runFun: e, args: f})
    };
    a.run = function (k, g) {
        var f, e, j, h;
        if (b && b[k] && b[k].length > 0) {
            j = b[k];
            f = b[k].length;
            for (e = 0; e < f; e++) {
                h = j[e];
                if (h.runFun.indexOf("ImageEffect") < 0) {
                    jzUtils.run({name: h.runFun}, h.args)
                } else {
                    jzUtils.run({name: h.runFun, callMethod: true}, h.args)
                }
            }
            return g ? true : (delete b[k])
        }
        return false
    }
})(jQuery, Site.cacheModuleFunc || (Site.cacheModuleFunc = {}));
Site.onLogout = function () {
    $("#topBarMsg").show();
    $("#topBarMsg").html(LS.topBarLogouting);
    $.ajax({
        type: "post", url: "ajax/login_h.jsp?cmd=logoutMember", error: function () {
            alert(LS.topBarLogoutError);
            $("#topBarMsg").hide()
        }, success: function (a) {
            var a = jQuery.parseJSON(a);
            if (a.success) {
                top.location.href = "index.jsp";
                return
            }
            $("#topBarMsg").html(LS.topBarLogoutError)
        }
    })
};
Site.ajaxLoadModuleDom = function (b, a, c) {
    $.ajax({
        type: "post",
        url: "ajax/ajaxLoadModuleDom_h.jsp",
        data: "cmd=loadModuleDom&_colId=" + b + "&_extId=" + a + "&ajaxOptionInfo=" + Fai.encodeUrl($.toJSON(c)) + "&anchor=" + Fai.encodeUrl(Fai.top.location.hash),
        success: function (j) {
            var j = jQuery.parseJSON(j);
            if (j.success) {
                var n = jQuery.parseJSON(j.rtInfo);
                var e = jQuery.parseJSON(j.memberInfo);
                if (n.topBar) {
                    var p = Fai.top.$("#memberBarArea");
                    p.children().remove();
                    p.append(n.topBar);
                }
                if (n.visitorCounter) {
                    var h = Fai.top.$(".visitorCounterWrap");
                    h.children().remove();
                    h.append(n.visitorCounter)
                }
                var x = n.webRightBar;
                if (x) {
                    $.getScript(x.resPath, function () {
                        new Site.webRightBar.init(x.Logined, x.mallMember, x.choiceCurrencyVal, jQuery.parseJSON(x.memberInfo_out))
                    })
                }
                if (n.moduleDomList) {
                    for (var q = 0; q < n.moduleDomList.length; q++) {
                        var u = n.moduleDomList[q];
                        var t = u.moduleId;
                        var r = u.dom;
                        loadWholeModuleDom(t, r)
                    }
                    jzUtils.run({name: "moduleAnimation.publish", base: Site})
                }
                var k = n.newsDetail;
                if (k) {
                    var f = Fai.top.$("#module" + k.moduleId);
                    if (k.style == 46) {
                        var m = f.find("#newsCommentDiv");
                        if (m.length > 0) {
                            m.children().remove();
                            m.prepend(k.newsCommentHtml)
                        }
                        f.find("#commentTotalSize").text(k.commentSize);
                        var s = f.find("#prevAndNextDiv");
                        if (s.length > 0) {
                            if (k.newsNextPreHtml) {
                                s.children().remove();
                                s.prepend(k.newsNextPreHtml)
                            } else {
                                s.remove()
                            }
                        }
                        var o = f.find(".newsViewCount");
                        if (o.length > 0) {
                            o.text(k.newsView)
                        }
                        f.prepend(k.newsDetailScripts)
                    } else {
                        if (k.style == 103) {
                            var w = f.find("#prevAndNextDivV2");
                            if (w.length > 0) {
                                if (k.newsNextPreHtml) {
                                    w.children().remove();
                                    w.prepend(k.newsNextPreHtml)
                                } else {
                                    w.remove()
                                }
                            }
                        }
                    }
                }
                var g = n.productDetail;
                if (g) {
                    var f = Fai.top.$("#module" + g.moduleId);
                    var v = f.find("#accumulativeComment");
                    if (g.productCommentHtml && v.length > 0) {
                        v.children().remove();
                        v.prepend(g.productCommentHtml)
                    }
                    f.find("#commentTotalSize").text(g.commentSize);
                    var s = f.find("#prevAndNextDiv");
                    if (g.productNextPreHtml && s.length > 0) {
                        s.children().remove();
                        s.prepend(g.productNextPreHtml)
                    }
                    f.prepend(g.productDetailScripts)
                }
                var d = n.photoDetail;
                if (d) {
                    var f = Fai.top.$("#module" + d.moduleId);
                    var l = f.find("#singlePhotopagenation" + d.moduleId);
                    if (l.length > 0) {
                        if (d.photoNextPreHtml) {
                            l.children().remove();
                            l.prepend(d.photoNextPreHtml)
                        } else {
                            l.remove()
                        }
                    }
                }
                Site.fixSiteWidth(Fai.top._manageMode);
                Site.fixWebFooterHeight()
            }
        }
    })
};

function loadWholeModuleDom(b, c) {
    var a = Fai.top.$("#module" + b);
    a.children().remove();
    a.prepend(c);
    Site.checkSideModule(a)
}

Site.getUrlParamObj = function (a) {
    var d = {};
    if (a.indexOf("?") != -1) {
        var f = a.substr(1);
        strs = f.split("&");
        for (var c = 0; c < strs.length; c++) {
            var b = decodeURIComponent(strs[c].split("=")[0]);
            var e = strs[c].split("=")[1];
            if (e) {
                d[b] = decodeURIComponent(e)
            } else {
                d[b] = ""
            }
        }
    }
    return d
};
Site.getHtmlUrl = function (a) {
    return Fai.top._allowedHtmlUrl && Fai.top._openHtmlUrl ? ("h-" + a + ".html") : (a + ".jsp")
};
Site.accumulateWidth = function (c) {
    var d = $("#fk-rbar-myItem-ImgShow-" + c), b = parseInt(d.find(".fk-rbar-myItem-Img").attr("width")),
        f = parseInt(d.find(".fk-rbar-myItem-Img").attr("height")), g = b + 20, h = f + 50, e = f + 8, a = f + 20;
    d.css({width: g + "px", height: h + "px", top: "-" + e + "px"});
    d.find(" .fk-rbar-myItem-Img").css({width: b + "px", height: f + "px"});
    d.find(" .fk-rbar-myItem-TextView").css({left: "10px", width: b + "px", top: a + "px"})
};
Site.bookingSubmitFullTips = function () {
    var c = new Array();
    c.push("<div style='width: 80px; height:80px; border-radius:50%; border: 4px solid gray; border: 4px solid gray; margin: 20px auto; padding: 0; position: relative; top:25px; box-sizing: content-box; border-color: #F8BB86;'>");
    c.push("<div style='animation: pulseWarningIns 0.75s infinite alternate; -webkit-animation: pulseWarningIns 0.75s infinite alternate;'>");
    c.push("<span style='position: absolute; width: 5px; height: 47px; left: 50%; top: 10px; webkit-border-radius: 2px; border-radius: 2px; margin-left: -2px; background-color: #F8BB86;'></span>");
    c.push("<span style='position: absolute; width: 7px; height: 7px; -webkit-border-radius: 50%; border-radius: 50%; margin-left: -3px; left: 50%; bottom: 10px; background-color: #F8BB86;'></span>");
    c.push("</div>");
    c.push("</div>");
    c.push("<div style='color:#333; font-size:16px; padding-top: 48px; text-align:center;'>" + LS.bookingSubmitFullTips + "</div>");
    c.push("<div style='text-align: center; margin-bottom: 30px; margin-top: 66px;'> ");
    c.push("<input id='confirm' class='popupBClose' style='width: 100px; height: 35px; font-size: 12px; margin: 0 20px; border: 1px solid #557ce1; background: #557ce1; border-radius: 2px; font-family: 微软雅黑; color: #fff; cursor: pointer;' type='button' value='" + LS.confirm + "'/>");
    c.push("</div>");
    var a = {htmlContent: c.join(""), width: 550, height: 350, extClass: "fk-fileUpload-del", popupBoxZIndex: 9999};
    var b = Site.popupBox(a)
};
Site.bindInTabSwitch = function () {
    $(".formStyle29").each(function () {
        var g = $(this).attr("id").replace("module", "");
        if (Fai.top["tabModule" + g + "Switch"]) {
            $(this).find(".formTabButton").off("mouseenter.tab").addClass("formTabButtonClick")
        } else {
            $(this).find(".formTabButton").off("mouseenter.tab").on("mouseenter.tab", function () {
                $(this).trigger("click")
            }).removeClass("formTabButtonClick")
        }
    });
    var b = new Array();
    var e = Fai.top.location.hash;
    var a = Fai.top.location.search;
    var d = 0;
    if (a) {
        var f = a.indexOf("pageno");
        var c = a.substring(f, a.length);
        a = a.replace(c, "");
        f = a.lastIndexOf("m");
        c = a.substring(0, f + 1);
        d = a.replace(c, "")
    }
    $(".formTabButtonList").each(function () {
        $(this).find(".formTabButton").eq(0).click();
        $.each($(this).find(".formTabButton"), function (g, h) {
            var k = $(h).attr("tabModuleId");
            if (("#module" + k) === e || $("#module" + k).find("#module" + d).length > 0) {
                b.push(parseInt(k));
                return false
            }
            var j = Fai.getUrlParam(Fai.top.location.href, "m" + k + "pageno");
            if (typeof(j) != "undefined" && j.length > 0) {
                b.push(parseInt(k))
            }
        })
    });
    $(".formTabButtonYList").each(function () {
        $(this).find(".formTabButton").eq(0).click();
        $.each($(this).find(".formTabButton"), function (g, h) {
            var k = $(h).attr("tabModuleId");
            if (("#module" + k) === e || $("#module" + k).find("#module" + d).length > 0) {
                b.push(parseInt(k));
                return false
            }
            var j = Fai.getUrlParam(Fai.top.location.href, "m" + k + "pageno");
            if (typeof(j) != "undefined" && j.length > 0) {
                b.push(parseInt(k))
            }
        })
    });
    $.each(b, function (g, h) {
        Site.changeLiCnt(h, false, 29)
    })
};
Site.changeLiCnt = function (g, d, a) {
    var c = $("#formTabCntId" + g).parent().find(".formTabCntId").eq(0).find(" >.form"), b = c.attr("id");
    if (b == ("module" + g)) {
        return
    }
    var e = $("#formTabButton" + g);
    e.find(".formTabLeft").addClass("formTabLeftHover").end().find(".formTabMiddle").addClass("formTabMiddleHover").end().find(".formTabRight").addClass("formTabRightHover").end().siblings().find(".formTabLeft").removeClass("formTabLeftHover").end().find(".formTabMiddle").removeClass("formTabMiddleHover").end().find(".formTabRight").removeClass("formTabRightHover").end();
    e.addClass("formTabButtonHover").siblings().removeClass("formTabButtonHover");
    $("#formTabCntId" + g).parent().find(".formTabCntId").each(function () {
        if ($(this).attr("show")) {
            $(this).removeAttr("show");
            $(this).removeClass("formTabCntIdHover")
        }
    });
    var f = $("#formTabCntId" + g);
    f.prependTo(f.parent());
    f.attr("show", true);
    f.addClass("formTabCntIdHover");
    Site.restartMarquee(g, d, a);
    Site.triggerGobalEvent("site_moduleTabSwitch", g);
    Site.fixModuleInTabSwitchBug(g);
    jzUtils.run({name: "moduleAnimation.publish", base: Fai.top.Site});
    jzUtils.run({name: "moduleAnimation.contentAnimationPublish", base: Fai.top.Site})
};
Site.initTabYStyle = function (d) {
    var c = Fai.top.$("#module" + d), a = c.find(".titleTable");
    if (Fai.isIE6()) {
        var e = c.find(".formMiddleCenter" + d).width(), b = a.width();
        c.find("#formTabContent" + d).css({width: (e - b - 40) + "px", "float": "left"})
    }
};
Site.fixModuleInTabSwitchBug = function (c) {
    var b = $("#module" + c), a;
    if (b.hasClass("formStyle83") && !!!b.data("fk_fixEffect")) {
        Site.adjustPhotoCardImgSize(b);
        b.data("fk_fixEffect", 1)
    }
    if (b.hasClass("formStyle85") && !!!b.data("fk_fixEffect")) {
        Site.adjustPhotoNewCardImgSize(b);
        b.data("fk_fixEffect", 1)
    }
    if (b.hasClass("formStyle98") && !!!b.data("fk_fixEffect")) {
        Site.adjustPhotoMoreCardImgSize(b);
        b.data("fk_fixEffect", 1)
    }
    if (b.hasClass("formStyle1") && !!!b.data("fk_fixEffect")) {
        Site.richMarquee(Fai.top["richMarqueeInTab" + c]);
        b.data("fk_fixEffect", 1)
    }
    if (b.hasClass("formStyle7") || b.hasClass("formStyle6")) {
        a = Fai.top["newsScrollOptions" + c];
        if ((typeof a != "undefined") && a.scroll) {
            b.find(".separatorLine").css("display", "")
        }
    }
    if ((b.hasClass("formStyle2") || b.hasClass("formStyle3") || b.hasClass("formStyle4") || b.hasClass("formStyle12") || b.hasClass("formStyle30") || b.hasClass("formStyle74") || b.hasClass("formStyle41") || b.hasClass("formStyle8")) && !!!b.data("fk_fixEffect")) {
        if (Site.ImageEffect && Site.ImageEffect.cashOptions && c.toString() in Site.ImageEffect.cashOptions) {
            jzUtils.run({name: "ImageEffect.FUNC.BASIC.Init", callMethod: true}, Site.ImageEffect.cashOptions[c]);
            b.data("fk_fixEffect", 1)
        }
    }
};
Site.isTabYModule = function (c) {
    if (c.length < 1) {
        return
    }
    var b = c.hasClass("formStyle29"), a = c.hasClass("fk-formTabY");
    return b && a
};
(function (f, a, g) {
    var c = a.data, d = a.dom, e = a.utils, b = a.event;
    e.getBaseDom = function () {
        var i = c.moduleId, k, h, j, l;
        k = Fai.top.$("#module" + i);
        if (!k.length) {
            return
        }
        if (k.hasClass("jz-moduleTabYPattern113")) {
            return
        }
        h = Site.isTabYModule(k);
        if (!h) {
            return
        }
        j = k.find(".formTabButtonYList");
        l = j.find(".formTabButton");
        if (!j.length || !l.length) {
            return
        }
        return {module: k, formTabButtonYList: j, formTabButton: l}
    };
    e.getAllFormTabButtonHeight = function () {
        var i = d.formTabButton, h = 0;
        i.each(function () {
            h += f(this).outerHeight(true)
        });
        return h
    };
    e.checkHeightEnough = function () {
        var j = c.wrapperHeight, i = c.allFormTabButtonHeight, k = c.formTabButtonLength;
        var h = j > i;
        return h || k < 2
    };
    e.getOnePageNumForFormTabButton = function () {
        var m = c.wrapperHeight, i = c.arrowHeight, h = c.formTabButtonHeight, j = c.formTabButtonHoverHeight, l, k;
        l = m - j - i;
        l = l < 0 ? 0 : l;
        k = Math.round(l / h) + 1;
        return k
    };
    e.getPageNum = function () {
        return Math.ceil(c.formTabButtonLength / c.onePageNumForFormTabButton)
    };
    b.findOrCreateArrow = function () {
        var l = d.formTabButtonYList, k = c.bgColor, h, j;
        j = l.find(".J_tabYArrow");
        j = j.length ? j : f(i()).appendTo(l);
        j.css("background-color", k);
        j.find(".J_arrowTopBg").css("border-bottom-color", k);
        j.find(".J_arrowBotomBg").css("border-top-color", k);
        return j;

        function i() {
            var m = [];
            m.push("<div class='fk-tabYArrow J_tabYArrow'>");
            m.push("<div class='f-arrowBox'>");
            m.push("<div class='f-arrowBoxTop f-arrowBoxItem J_tabYArrowUp' style='display:none;'>");
            m.push("<i class='f-arrow1 f-arrow J_arrowColor'></i>");
            m.push("<i class='f-arrow2 f-arrow J_arrowTopBg'></i>");
            m.push("</div>");
            m.push("<div class='f-arrowBoxBottom f-arrowBoxItem J_tabYArrowDown f-arrowBoxBottomIndex'>");
            m.push("<i class='f-arrow1 f-arrow J_arrowColor'></i>");
            m.push("<i class='f-arrow2 f-arrow J_arrowBotomBg'></i>");
            m.push("</div>");
            m.push("</div>");
            m.push("</div>");
            return m.join("")
        }
    };
    b.setModuleNewHeight = function () {
        var h = c.onePageNumForFormTabButton, m = c.formTabButtonHeight, l = c.arrowHeight, i = c.moduleId,
            o = c.formTabButtonHoverHeight, k = d.formTabButtonYList, n = d.arrow;
        var p = (h - 1) * m + o, j = p + l;
        n.css("top", p);
        Site.setModuleHeight2(i, j);
        return j
    };
    b.setPages = function () {
        var k = c.pageNum, j = c.onePageNumForFormTabButton, i = d.formTabButtonYList, m = d.formTabButton;
        for (var h = 0; h < k; h++) {
            for (var n = j * h, l = j * (h + 1); n < l; n++) {
                m.eq(n).addClass("tabYPage" + h).data("tabYPage", h)
            }
        }
        m.hide();
        i.find(".tabYPage0").show()
    };
    b.bindArrow = function () {
        var n = c.pageNum, i = d.arrow, o = d.formTabButton, m = d.formTabButtonYList, k = 0;
        var h = i.find(".J_tabYArrowUp"), l = i.find(".J_tabYArrowDown");
        h.off("click.page").on("click.page", function () {
            if (k == 0) {
                return
            }
            k--;
            j();
            o.hide();
            m.find(".tabYPage" + k).show().eq(0).click()
        });
        l.off("click.page").on("click.page", function () {
            if (k == n - 1) {
                return
            }
            k++;
            j();
            o.hide();
            m.find(".tabYPage" + k).show().eq(0).click()
        });
        l.one("click.pageOne", function () {
            l.removeClass("f-arrowBoxBottomIndex");
            h.show();
            j()
        });

        function j() {
            if (k == 0) {
                h.find(".J_arrowColor").addClass("f-arrowDisable")
            } else {
                h.find(".J_arrowColor").removeClass("f-arrowDisable")
            }
            if (k == n - 1) {
                l.find(".J_arrowColor").addClass("f-arrowDisable")
            } else {
                l.find(".J_arrowColor").removeClass("f-arrowDisable")
            }
        }
    };
    b.resetDataAndDom = function () {
        for (var i in c) {
            delete c[i]
        }
        for (var h in d) {
            delete d[h]
        }
    };
    a.initArrowIfNotEnough = function (h, i) {
        c.moduleId = h;
        d = f.extend(d, e.getBaseDom());
        if (f.isEmptyObject(d)) {
            return b.resetDataAndDom()
        }
        c.wrapperHeight = d.module.height();
        c.formTabButtonHeight = d.formTabButton.not(".formTabButtonHover").outerHeight(true);
        c.formTabButtonLength = d.formTabButton.length;
        c.allFormTabButtonHeight = e.getAllFormTabButtonHeight();
        if (e.checkHeightEnough()) {
            return b.resetDataAndDom()
        }
        c.bgColor = i || "#fff";
        d.arrow = b.findOrCreateArrow();
        c.arrowHeight = d.arrow.height();
        c.formTabButtonHoverHeight = d.formTabButtonYList.find(".formTabButtonHover").outerHeight(true);
        c.onePageNumForFormTabButton = e.getOnePageNumForFormTabButton();
        c.pageNum = e.getPageNum();
        c.wrapperHeight = b.setModuleNewHeight();
        if (!e.checkHeightEnough()) {
            b.setPages();
            b.bindArrow()
        } else {
            d.arrow = d.arrow || b.findOrCreateArrow();
            d.arrow.remove()
        }
        b.resetDataAndDom()
    }
})(jQuery, Site.tabDirectionY || (Site.tabDirectionY = {data: {}, dom: {}, utils: {}, event: {}}));
Site.callMusicUnload = function (a, c) {
    var b = Site.callMusicPosition(a);
    $.cookie(c, b)
};
Site.callMusicPlayButton = function (e, d, f, c) {
    $("#" + e).bind("click", function () {
        var j = $.cookie(c);
        var i = $(this);
        var h = $("#" + e).attr("bgMusicStatus");
        if (h != j) {
            $.cookie(c, h)
        }
        j = $.cookie(c);
        if (j == "true") {
            $("#" + e).attr("bgMusicStatus", "false");
            $.cookie(c, false);
            Site.reStartMusic(d);
            i.attr("title", LS.pauseMusic);
            i.removeClass("bgplayerButtonP")
        } else {
            if (i.hasClass("bgplayerButtonP")) {
                $("#" + e).attr("bgMusicStatus", "false");
                Site.reStartMusic(d);
                i.attr("title", LS.pauseMusic);
                i.removeClass("bgplayerButtonP")
            } else {
                var g = Site.callMusicPosition(d);
                $.cookie(f, g);
                $("#" + e).attr("bgMusicStatus", "true");
                $.cookie(c, true);
                Site.stopMusic(d);
                i.attr("title", LS.playMusic);
                i.addClass("bgplayerButtonP")
            }
        }
    });
    var b = $.cookie(c);
    var a = Fai.top.$("#" + e);
    if (b == "true") {
        a.attr("title", LS.playMusic);
        a.addClass("bgplayerButtonP");
        a.show()
    } else {
        a.show();
        a.attr("title", LS.pauseMusic);
        a.removeClass("bgplayerButtonP")
    }
};
Site.SetPositionZero = function () {
    $.cookie("bgplayerTime", "0");
    var a = $("#bgplayerButton");
    a.attr("title", LS.playMusic);
    a.addClass("bgplayerButtonP")
};
Site.callMusicPosition = function (a) {
    var b;
    try {
        b = Site.callMusic(a).getMusicPosition()
    } catch (c) {
    }
    return b
};
Site.stopMusic = function (a) {
    var b;
    try {
        b = Site.callMusic(a).stopMusic()
    } catch (c) {
    }
    return b
};
Site.reStartMusic = function (b) {
    var a;
    try {
        a = Site.callMusic(b).reStartMusic()
    } catch (c) {
    }
    return a
};
Site.getMusicLength = function (a) {
    var b = -1;
    try {
        while (b < 0) {
            b = Site.callMusic(a).getSoundLength()
        }
    } catch (c) {
    }
    return b
};
Site.changeVol = function (a, b) {
    try {
        Site.callMusic(a).changeVolume(b)
    } catch (c) {
        console.log(c.stack)
    }
};
Site.callMusic = function (a) {
    var b = document[a] || window[a] || Site.getTopWindow().document[a];
    return b
};
Site.bgmFlushContinue = function () {
    var a = $("#bgplayerButton").attr("bgmusicstatus");
    if (a == "false") {
        $.cookie("bgplayerPause", "false");
        $.cookie("hasMusicPlaying", "false")
    }
    if (a == "false") {
        Site.callMusicUnload("faiBgMusicPlayer", "bgplayerTime")
    }
};
Site.appendQuickTime = function (b) {
    var e = new Array(), d = b.width, c = b.height, a = b.path;
    e.push("<object width='" + d + "' height='" + c + "' classid='clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B' codebase='http://www.apple.com/qtactivex/qtplugin.cab'>");
    e.push("<param name='src' value='" + a + "'>");
    e.push("<param name='controller' value='true'>");
    e.push("<param name='type' value='video/quicktime'>");
    e.push("<param name='autoplay' value='false'>");
    e.push("<param name='target' value='myself'>");
    e.push("<param name='pluginspage' value='http://www.apple.com/quicktime/download/index.html'>");
    e.push("<embed src='" + a + "' width='" + d + "' height='" + c + "' ");
    e.push("controller='true' align='middle' target='myself' type='video/quicktime' autoplay='false' ");
    e.push("pluginspage='http://www.apple.com/quicktime/download/index.html'>");
    e.push("</embed>");
    e.push("</object>");
    $("#" + b.parentId).append(e.join(""))
};
Site.appendWMP = function (b) {
    var a = new Array(), e = b.width, d = b.height, c = b.path;
    a.push("<embed type='application/x-mplayer2' classid='clsid:6bf52a52-394a-11d3-b153-00c04f79faa6' ");
    a.push("src='" + c + "' wmode='opaque' quality='high' ");
    a.push("enablecontextmenu='false' autostart='false' windowlessVideo='true' ");
    a.push("width='" + e + "' height='" + d + "'>");
    a.push("</embed>");
    $("#" + b.parentId).append(a.join(""))
};
Site.showNavSubMenu = function (c) {
    if (Fai.top._useNavVersionTwo) {
        if (Fai.top._navStyleV2Data.snt != 0) {
            return
        }
    }
    var b = 0;
    if (c == 1) {
        b = 1
    }
    var a = Fai.top.$("#nav");
    if (Fai.top._useNavVersionTwo) {
        a = Fai.top.$("#navV2")
    }
    $.each(a.find(".navCenter .item"), function (v, r) {
        $(this).unbind();
        if (c == 100) {
            var z = $(this);
            var o = Fai.top._colId;
            var B = Fai.top._fromColId;
            var h = z.attr("colId");
            if (h == o || h == B) {
                z.addClass("itemSelected")
            }
            z.hover(function () {
                $(this).addClass("itemHover")
            }, function () {
                $(this).removeClass("itemHover")
            });
            if (z.find(".navSubMenu").length >= 1) {
                return
            }
            var p = z.attr("id");
            var l = [];
            try {
                l = Fai.fkEval(p + "SubMenu")
            } catch (w) {
                return false
            }
            if (!l || l.length < 1) {
                return
            }
            var f = 0;
            if (h == o || h == B) {
                f = 1
            } else {
                for (var v = 0; v < l.length; ++v) {
                    var d = l[v].colId;
                    if (d == o || d == B) {
                        f = 2;
                        break
                    }
                    if (!Fai.isNull(l[v].sub)) {
                        var s = l[v].sub;
                        for (var r = 0; r < s.length; ++r) {
                            var A = s[r].colId;
                            if (A == o || A == B) {
                                f = 3;
                                break
                            }
                        }
                    }
                    if (f != 0) {
                        break
                    }
                }
            }
            if (l) {
                Site.removeNavHiddenMenu(l)
            }
            if (h == o || h == B) {
                if (l && l.length >= 1) {
                    z.addClass("itemPopupSelected")
                }
            }
            if (f == 0) {
                return
            }
            if (!l || l.length < 1) {
                return
            }
            var g = $("<div class='navSubMenu'></div>");
            var t = $("<div class='content2'><table class='top' cellpadding='0' cellspacing='0'><tr><td class='left'></td><td class='center'></td><td class='right'></td></tr></table><table class='middle' cellpadding='0' cellspacing='0'><tr><td class='left'></td><td class='center'></td><td class='right'></td></tr></table><table class='bottom' cellpadding='0' cellspacing='0'><tr><td class='left'></td><td class='center'></td><td class='right'></td></tr></table></div>");
            t.appendTo(g);
            t = t.find(".middle .center");
            for (var v = 0; v < l.length; ++v) {
                var x = "";
                if (l[v].colId == o || l[v].colId == B) {
                    x = " itemSelected"
                }
                var k = "<table class='item" + x + "' cellpadding='0' cellspacing='0'><tr><td class='itemLeft'></td><td class='itemCenter'><a href='" + l[v].href + "'>" + l[v].html + "</a></td><td class='itemRight'></td></tr></table>";
                $(k).appendTo(t);
                if (f == 1) {
                    continue
                }
                if (f == 2 && o != l[v].colId && B != l[v].colId) {
                    continue
                }
                if (Fai.isNull(l[v].sub) || l[v].sub.length < 1) {
                    continue
                }
                var s = l[v].sub;
                if (f == 3) {
                    var q = false;
                    for (var r = 0; r < s.length; ++r) {
                        if (s[r].colId == o || s[r].colId == B) {
                            q = true;
                            break
                        }
                    }
                    if (!q) {
                        continue
                    }
                }
                var j = $("<div class='content3'><table class='top' cellpadding='0' cellspacing='0'><tr><td class='left'></td><td class='center'></td><td class='right'></td></tr></table><table class='middle' cellpadding='0' cellspacing='0'><tr><td class='left'></td><td class='center'></td><td class='right'></td></tr></table><table class='bottom' cellpadding='0' cellspacing='0'><tr><td class='left'></td><td class='center'></td><td class='right'></td></tr></table></div>");
                j.appendTo(t);
                j = j.find(".middle .center");
                for (var r = 0; r < s.length; ++r) {
                    var u = "";
                    if (s[r].colId == o || s[r].colId == B) {
                        u = " itemSelected"
                    }
                    var m = "<table class='item" + u + "' cellpadding='0' cellspacing='0'><tr><td class='itemLeft'></td><td class='itemCenter'><a href='" + s[r].href + "'>" + s[r].html + "</a></td><td class='itemRight'></td></tr></table>";
                    $(m).appendTo(j)
                }
            }
            g.insertAfter($(this));
            g.find(".item").hover(function () {
                $(this).addClass("itemHover");
                $(this).siblings(".outMenuTriangle").addClass("triangleHover")
            }, function () {
                $(this).removeClass("itemHover");
                $(this).siblings(".outMenuTriangle").removeClass("triangleHover")
            })
        } else {
            var z = $(this);
            var o = Fai.top._colId;
            var B = Fai.top._fromColId;
            var h = z.attr("colId");
            var p = z.attr("id");
            var l = [];
            try {
                l = Fai.fkEval(p + "SubMenu")
            } catch (w) {
                return false
            }
            var y = v + 1;
            var q = false;
            if (o == h || B == h) {
                q = true
            } else {
                if (l && l.length >= 1) {
                    for (var v = 0; v < l.length; ++v) {
                        var d = l[v].colId;
                        if (d == o || d == B) {
                            q = true;
                            break
                        }
                        if (!Fai.isNull(l[v].sub)) {
                            var s = l[v].sub;
                            for (var r = 0; r < s.length; ++r) {
                                var A = s[r].colId;
                                if (A == o || A == B) {
                                    q = true;
                                    break
                                }
                            }
                        }
                        if (q) {
                            break
                        }
                    }
                }
            }
            if (l) {
                Site.removeNavHiddenMenu(l)
            }
            if (q) {
                z.addClass("itemSelected");
                z.addClass("itemSelectedIndex" + y);
                if (l && l.length >= 1) {
                    z.addClass("itemPopupSelected")
                }
            }
            $(this).hover(function () {
                var C = $(this);
                var H = C.attr("id");
                var n = [];
                try {
                    n = Fai.fkEval(H + "SubMenu")
                } catch (F) {
                    return false
                }
                C.addClass("itemHover");
                C.addClass("itemHoverIndex" + y);
                if (n && n.length >= 1) {
                    C.addClass("itemPopupHover")
                }
                var i = "";
                if (a.hasClass("navStyle")) {
                    var E = a.attr("class").split(" ");
                    $.each(E, function (e, I) {
                        if (I.search(/navStyle/) != -1) {
                            i += I + " "
                        }
                    })
                } else {
                    if (Fai.top._isTemplateVersion2 || Fai.top._uiMode) {
                        i = "navStyle "
                    }
                }
                var D = "<div class='navSubMenu'></div>";
                var G = Site.showMenu({
                    container: D,
                    mode: b,
                    id: H + "SubMenu",
                    minWidth: C.width(),
                    host: C,
                    clsIndex: y,
                    data: n,
                    fixpos: false,
                    rulerObj: a,
                    navSysClass: i,
                    navBar: true
                });
                if (G != null) {
                    G.hover(function () {
                        C.addClass("itemHover");
                        G.find(".outMenuTriangle").addClass("triangleHover");
                        if (n.length > 0) {
                            C.addClass("itemPopupHover")
                        }
                    }, function () {
                        C.removeClass("itemHover");
                        C.removeClass("itemPopupHover");
                        G.find(".outMenuTriangle").removeClass("triangleHover")
                    })
                }
            }, function () {
                $(this).removeClass("itemHover");
                $(this).removeClass("itemHoverIndex" + y);
                $(this).removeClass("itemPopupHover");
                if ($(".navSubMenu").length == 0) {
                    $(this).removeClass("itemHover")
                }
            })
        }
    })
};
Site.removeNavHiddenMenu = function (c) {
    for (var b = c.length - 1; b >= 0; --b) {
        if (c[b].hidden) {
            c.splice(b, 1);
            continue
        }
        if (c[b].sub) {
            var a = c[b].sub;
            for (var d = a.length - 1; d >= 0; --d) {
                if (a[d].hidden) {
                    a.splice(d, 1)
                }
            }
        }
    }
};
Site.showNavItemContainer = function () {
    var b = Fai.top.$("#nav");
    if (Fai.top._useNavVersionTwo) {
        b = Fai.top.$("#navV2")
    }
    var g = b.find(".navCenter"), l = b.width();
    if (g.length > 0) {
        g.removeAttr("style")
    }
    Site.hideNavItemContainer();
    var o = b.find(".itemContainer"), q = g.outerWidth(true), d = 0;
    var k = b.find(".item"), j = b.find(".itemSep"), a = k.css("float") === "none";
    if (a) {
        return
    }
    Fai.top.$.each(k, function () {
        d += $(this).outerWidth(true)
    });
    Fai.top.$.each(j, function () {
        d += $(this).outerWidth(true)
    });
    o.off("mouseover.navigator").on("mouseover.navigator", ".item", function () {
        var r = 0;
        o.children().each(function (s, t) {
            r += $(t).outerWidth(true)
        });
        if (r > o.width()) {
            o.css("width", r)
        }
    });
    if (Fai.isIE() || Fai.isMozilla()) {
        d += 4
    }
    var f = b.find(".itemPrev"), i = b.find(".itemNext");
    if (Fai.top._isTemplateVersion2) {
        f.css("display", "none");
        i.css("display", "none")
    }
    if (Fai.isIE6() || Fai.isIE7()) {
        l = Fai.top._navStyleData.ns.w
    }

    function n(t) {
        if (Fai.top._useNavVersionTwo) {
            g.css("width", "inherit")
        }
        if (!Fai.top._cusResponsive) {
            o.css("width", d + "px")
        }
        if ((Fai.isIE() || Fai.isMozilla()) && (d == t + 4)) {
        } else {
            i.css("display", "block")
        }
        Fai.top._templateOtherStyleData.h = 0;
        var s = 0, r = 0, x = 0, w;
        if (j.is(":hidden")) {
            w = 0
        } else {
            w = j.width() / 2
        }
        var u = g.offset().left;
        var v = [];
        k.each(function (y) {
            v[y] = $(this).offset().left - u;
            r++
        });
        i.unbind("mousedown").unbind("mouseleave");
        f.unbind("mousedown").unbind("mouseleave");
        i.width(i.data("width"));
        i.mousedown(function () {
            x = v[s + 1] - v[s];
            if (s == 0) {
                x -= w
            }
            s++;
            if (s == r) {
                s = r - 1
            }
            $(this).addClass("itemNextHover");
            o.css("left", (o.position().left - x) + "px");
            if (o.position().left < 0) {
                f.css("display", "block")
            }
            if ((Math.abs(o.position().left) + t) >= d) {
                i.data("width", i.width());
                i.width(0)
            }
        }).mouseleave(function () {
            $(this).removeClass("itemNextHover")
        });
        f.mousedown(function () {
            x = v[s] - v[s - 1];
            if (s == 1) {
                x -= w
            }
            s--;
            if (s < 0) {
                s = 0
            }
            $(this).addClass("itemPrevHover");
            o.css("left", (o.position().left + x) + "px");
            if ((Math.abs(b.find(".itemContainer").position().left) + t) < d) {
                i.width(i.data("width"))
            }
            if (o.position().left >= 0) {
                f.css("display", "none")
            }
        }).mouseleave(function () {
            $(this).removeClass("itemPrevHover")
        });
        i.off("mouseover.nav").on("mouseover.nav", function () {
            $(this).addClass("itemNextHover")
        });
        f.off("mouseover.nav").on("mouseover.nav", function () {
            $(this).addClass("itemPrevHover")
        })
    }

    var m = false;
    if (Fai.top._useNavVersionTwo) {
        var c = b.find(".navContent").width();
        if (d > q && c > q) {
            m = true
        }
    }
    if (d > q && !m) {
        n(q)
    } else {
        if (b[0].className && b[0].className.indexOf("nav2") > -1 || Fai.top._useNavVersionTwo) {
            var h = o.css("margin-left") ? o.css("margin-left").replace("px", "") : 0, e = d + parseInt(h),
                p = parseInt(e) + 10;
            g.css("width", Math.min(l, p));
            if (l === Math.min(l, p) && d > l) {
                n(l)
            }
            if (Fai.isIE11()) {
                g.css("height", o.outerHeight(true) + "px")
            }
            if (Fai.top._manageMode) {
                jzUtils.run({name: "reSaveNavCenterWidth"}, e)
            }
        }
    }
    if (Fai.top._useNavVersionTwo) {
        if (top._navStyleV2Data.nct.cw != g.width()) {
            setTimeout(function () {
                top._navStyleV2Data.nct.cw = parseInt(g.width());
                top._navStyleV2Changed++
            }, 0)
        }
        if (Fai.top._manageMode) {
            Site.autoNavCenterWidth()
        }
    }
};
Site.hideNavItemContainer = function () {
    $("#nav .itemContainer").removeAttr("style");
    $("#nav").find(".itemPrev").hide();
    $("#nav").find(".itemNext").hide()
};
Site.hideNavSubMenu = function () {
    Fai.top.$.each(Fai.top.$("#nav .navCenter .item"), function (a, b) {
        $(this).unbind()
    })
};
Site.initModuleNavListGroup = function (c, b) {
    $("#module" + c + " .g_foldValueCenter").mouseover(function () {
        $(this).addClass("g_hover")
    }).mouseleave(function () {
        $(this).removeClass("g_hover")
    });
    if (b) {
        var a = $("#module" + c).find(".formMiddle" + c).find("table.g_foldContainerContent").find(".g_foldContainerContentCenter");
        var d = a.find(".g_foldContainerName");
        $.each(d, function (e, g) {
            var f = $(g);
            f.css("cursor", "pointer");
            f.click(function () {
                var h = $(this).next();
                if (h.is(":visible")) {
                    var i = $(f.find(".g_unfold")[0]);
                    i.removeClass("g_unfold").addClass("g_fold");
                    h.hide()
                } else {
                    var i = $(f.find(".g_fold")[0]);
                    i.removeClass("g_fold").addClass("g_unfold");
                    h.show()
                }
            })
        })
    }
};
Site.initModuleNavListAcrossDisplay = function (c, d, b, e) {
    var a = $("#module" + c);
    m_formMiddleWidth = a.find(".formMiddle").width(), mSOptions = {
        moduleId: c,
        clsStr: "navAcrossContainer navAPanel"
    };
    a.find(".navA_C_J .navA_J").hover(function () {
        var n = $(this), h = n.attr("_colId"), j = d[h], i = a.attr("_side"), m = a.parent(), l = a.parent().attr("id"),
            k = true;
        mSOptions.that = n;
        if (Fai.isIE6() || Fai.isIE7()) {
            k = false
        } else {
            if (i == 2) {
                k = false
            } else {
                if (i == 1) {
                    k = false
                } else {
                    if (l == "floatLeftTopForms" || l == "floatRightTopForms" || l == "floatLeftBottomForms" || l == "floatRightBottomForms") {
                        k = false
                    } else {
                        if (a.css("position") == "absolute" && m.hasClass("absForms")) {
                            k = false
                        }
                    }
                }
            }
        }
        if (j != null && j.length > 0) {
            var o = [], f = $("#navAcM" + c + "C" + h + "Panel");
            if (f.length == 0) {
                o.push("<div class='s_navList'>");
                $.each(j, function (s, r) {
                    var v = r.allowed;
                    var u = "onclick = 'Fai.ing(LS.memberLoginNoPermission, false);'";
                    if (!_isMemberLogin) {
                        v = true
                    }
                    if (v) {
                        u = " onclick = 'return true;' "
                    }
                    var q = "";
                    if (!!d[r.id]) {
                        q = " navA_more"
                    }
                    var t = "";
                    if (r.openType) {
                        t = "target='_blank';"
                    }
                    o.push("<table class='navAcrossCotent childNavA_J g_item' cellpadding='0' cellspacing='0' _colId=" + r.id + " style='*width:auto;'><tr>");
                    o.push("<td class='navAcrossCotentLeft'></td>");
                    o.push("<td class='navAcrossCotentCenter'>");
                    if (b && !!d[r.id]) {
                        o.push("<a href='javascript:void(0);' style='cursor:default;'>" + r.name + "</a></td>")
                    } else {
                        o.push('<a href="' + (v ? r.url : "javascript:void(0);") + '" ' + t + u + ">" + r.name + "</a></td>")
                    }
                    o.push("<td class='navAcrossCotentRight" + q + "'></td>");
                    o.push("</tr></table>")
                });
                o.push("</div>");
                mSOptions.idStr = "navAcM" + c + "C" + h + "Panel";
                mSOptions.contentStr = o.join("");
                f = Site.moduleSubPanel(mSOptions);
                var p = n.offset().left, g = n.offset().top;
                if (!k) {
                    p += n.outerWidth()
                }
                f.css({top: g, left: p}).show()
            }
            if (k) {
                var p = a.offset().left + a.outerWidth();
                a.css("z-index", 9030);
                f.stop(true, false).animate({left: p}, 500)
            }
            f.mouseleave(function () {
                n.removeClass("g_hover")
            });
            f.mouseover(function () {
                n.addClass("g_hover")
            });
            f.find(".childNavA_J").hover(function () {
                var s = $(this), x = s.attr("_colId"), u = d[x];
                mSOptions.that = s;
                if (u != null && u.length > 0) {
                    var r = [], t = $("#navAcM" + c + "C" + x + "Panel");
                    if (t.length == 0) {
                        r.push("<div class='s_navList'>");
                        $.each(u, function (y, C) {
                            var B = C.allowed;
                            var A = "onclick = 'Fai.ing(LS.memberLoginNoPermission, false);'";
                            if (!_isMemberLogin) {
                                B = true
                            }
                            if (B) {
                                A = "onclick = 'return true;'"
                            }
                            var z = "";
                            if (C.openType) {
                                z = "target='_blank';"
                            }
                            r.push("<table class='navAcrossCotent grandNavA_J g_item' cellpadding='0' cellspacing='0' style='*width:auto;'><tr>");
                            r.push("<td class='navAcrossCotentLeft'></td>");
                            r.push("<td class='navAcrossCotentCenter'>");
                            r.push("<a href='" + (B ? C.url : "javascript:void(0);") + "' " + z + A + ">" + C.name + "</a>");
                            r.push("<td class='navAcrossCotentRight'></td>");
                            r.push("</tr></table>")
                        });
                        r.push("</div>");
                        mSOptions.idStr = "navAcM" + c + "C" + x + "Panel";
                        mSOptions.contentStr = r.join("");
                        t = Site.moduleSubPanel(mSOptions);
                        var w = s.offset().left, v = s.offset().top;
                        if (!k) {
                            w += s.outerWidth()
                        }
                        t.css({top: v, left: w}).show();
                        if (k) {
                            var q = s.offset().left + s.outerWidth();
                            t.css("z-index", 1);
                            t.stop(true, false).animate({left: q}, 500)
                        }
                    }
                    t.find(".grandNavA_J").hover(function () {
                        $(this).addClass("g_hover")
                    }, function () {
                        $(this).removeClass("g_hover")
                    });
                    t.mouseleave(function () {
                        f.attr("_mouseIn", 0);
                        n.removeClass("g_hover");
                        s.removeClass("g_hover")
                    });
                    t.mouseover(function () {
                        f.attr("_mouseIn", 1);
                        n.addClass("g_hover");
                        s.addClass("g_hover")
                    });
                    s.mouseleave(function () {
                        f.attr("_mouseIn", 0)
                    })
                }
                s.addClass("g_hover")
            }, function (q) {
                $(this).removeClass("g_hover")
            })
        }
        n.addClass("g_hover")
    }, function (f) {
        $(this).removeClass("g_hover")
    }).mouseleave(function () {
        a.css("z-index", "")
    });
    Site.initContentSplitLine(c, e)
};
Site.onSiteFixTop = function () {
    if (Fai.top._Global._navHidden) {
        return
    }
    var q = "#nav";
    if (Fai.top._useNavVersionTwo) {
        q = "#navV2"
    }
    var d, r = false, c = false, k = false, B = Fai.isIE6(), A = Fai.isIE7(), s = Fai.top.$(q), D = Fai.top.$(window),
        x = Fai.top.$("#g_main"), i = Fai.top.$("#web"), u = Fai.top.$("body"), a = Fai.top.$(".webNavTable"),
        j = Fai.top.$(".webHeaderTable"), m = Fai.top.$(".webBannerTable"), p = Fai.top.$(".floatLeftTop"),
        e = s.parent(), v = Fai.top.$("#sitetips"), o = Fai.top.$("#webBanner"), b = Fai.top.$("#webHeader"),
        l = Fai.top.$("#webNav"), t, n = parseInt(s.css("top").replace("px", "")), E = s.offset().top,
        z = v.height() || 0, h = E - z, g = p.css("top").replace("px", "") || 0, y = Fai.top.$(window), G = y;
    if (B || A) {
        c = true;
        G = x
    }
    if (isNaN(n)) {
        n = "auto"
    } else {
        n = n + "px"
    }
    var w;
    if (s.width() == i.width()) {
        k = true;
        w = "100%"
    } else {
        w = s.width() + "px"
    }
    var f = s.offset().left - e.offset().left;
    var C, F;
    G.on("scroll.nav", function () {
        var I = G.scrollTop(), H = parseInt(p.css("top").replace("px", ""));
        g = H || 0;
        d = Site.getNavInClientPosition(s).left;
        if (!r && h < I) {
            if (B) {
                C = s.parent();
                F = s.offset().left - C.offset().left;
                u.prepend(s);
                s.css({position: "absolute", left: d + "px", top: g + "px", width: w});
                s.css("width", w)
            } else {
                s.addClass("navfixtop");
                s.css({width: w, left: d + "px", top: g + "px"});
                if (k && i.width() > D.width()) {
                    s.css("width", i.width() + "px")
                }
                if (a.find(q).length > 0) {
                    t = a
                } else {
                    if (j.find(q).length > 0) {
                        t = j
                    } else {
                        if (m.find(q).length > 0) {
                            t = m
                        }
                    }
                }
                t.css({zIndex: "30", position: "relative"});
                o.addClass("fix-zIndex");
                b.addClass("fix-zIndex");
                l.addClass("fix-zIndex")
            }
            r = true
        }
        if (r && h >= I) {
            if (B) {
                e.append(s);
                s.css({position: "", width: "", left: "", top: "", zIndex: ""})
            } else {
                s.removeClass("navfixtop");
                s.css({position: "", width: "", left: "", top: ""});
                if (t) {
                    t.css("zIndex", "")
                }
                o.removeClass("fix-zIndex");
                b.removeClass("fix-zIndex");
                l.removeClass("fix-zIndex")
            }
            r = false
        }
    });
    Fai.top.$(window).on("resize.nav", function () {
        if (B && !k && s.offset().top == 0) {
            s.css("left", C.offset().left + F)
        } else {
            if (s.hasClass("navfixtop") && k) {
                if (i.width() < D.width()) {
                    s.css("width", "")
                } else {
                    if (i.width() > D.width()) {
                        setTimeout(function () {
                            s.css("width", i.width() + "px")
                        }, 0)
                    }
                }
            }
            if (s.hasClass("navfixtop") && !k) {
                setTimeout(function () {
                    s.css("left", e.offset().left + f)
                }, 0)
            }
        }
    })
};
Site.getNavInClientPosition = function (b) {
    var a = b[0];
    if (typeof a.getBoundingClientRect !== "undefined") {
        return a.getBoundingClientRect()
    } else {
        var c = Fai.top._manageMode ? Fai.top.$("#g_main") : Fai.top.$(window), e = {left: 0, right: 0},
            d = a.offsetParent;
        e.left = a.offsetLeft;
        e.top = a.offsetTop;
        while (d !== null) {
            e.left += d.offsetLeft;
            e.top += d.offsetTop;
            d = d.offsetParent
        }
        if (b.css("position") == "fixed") {
            e.top = b.css("top")
        }
        return {left: e.left - c.scrollLeft(), top: e.top - c.scrollTop()}
    }
};
Site.onNavCntPositionFixTop = function () {
    var a = Fai.top._useNavVersionTwo ? Fai.top._navStyleV2Data.no : Fai.top._navStyleData.no;
    if (Fai.top._Global._navHidden || !a) {
        return
    }
    if (Fai.top._manageMode) {
        Site.onManageFixTop()
    } else {
        Site.onSiteFixTop()
    }
};
(function () {
    if (Fai.top != window) {
        return
    }
    var g = Fai.top.window.location.hash, d, f, b;
    var c = 0;
    var e;
    var h = $("#module" + e);
    var a = Fai.top.$("#navV2").length ? $("#navV2 a") : $("#nav a");
    f = Fai.top._manageMode ? "#g_main" : Fai.top.window;
    $(f).bind("scroll", function () {
        a.each(function () {
            e = $(this).attr("_module");
            if (e != null && e != undefined) {
                h = $("#module" + e);
                if (h.length > 0) {
                    var j = h[0].getBoundingClientRect().top;
                    var l = $(window).height();
                    var k = h.height();
                    var i;
                    if (j >= 0) {
                        i = (j < l) && (l - j) >= (k * 0.6);
                        if (i) {
                            $(this).parents(".item").addClass("itemSelected");
                            $(this).parents(".item").siblings().removeClass("itemSelected")
                        }
                    } else {
                        j = Math.abs(j);
                        i = (j < k) && (k - j) >= (k * 0.6);
                        if (i) {
                            $(this).parents(".item").addClass("itemSelected");
                            $(this).parents(".item").siblings().removeClass("itemSelected")
                        }
                    }
                }
            }
        })
    });
    $("#g_main").bind("scroll", function () {
        a.each(function () {
            e = $(this).attr("_module");
            if (e != null && e != undefined) {
                h = $("#module" + e);
                if (h.length > 0) {
                    var j = h[0].getBoundingClientRect().top;
                    var l = $(window).height();
                    var k = h.height();
                    var i;
                    if (j >= 0) {
                        i = (j < l) && (l - j) >= (k * 0.6);
                        if (i) {
                            $(this).parents(".item").addClass("itemSelected");
                            $(this).parents(".item").siblings().removeClass("itemSelected")
                        }
                    } else {
                        j = Math.abs(j);
                        i = (j < k) && (k - j) >= (k * 0.6);
                        if (i) {
                            $(this).parents(".item").addClass("itemSelected");
                            $(this).parents(".item").siblings().removeClass("itemSelected")
                        }
                    }
                }
            }
        })
    })
})();
Site.initSubNavPack = function (c, z, y, d, g, q, w) {
    var E = $("#fk-subNavPack" + c);
    if (E.length == 0) {
        var b = $("#navV2").offset().top, A = $("#navV2").height(), B = "300px", o = "100%", C = "0px",
            h = $("#web").width(), r = $("#webContainer").width(), k = (h - r) / 2, p = r, l = "", m = "";
        if (document.getElementById("g_main").scrollHeight > document.getElementById("g_main").clientHeight) {
            o = "99%"
        }
        if (q.h) {
            B = q.h + "px"
        }
        if (!d && q.w) {
            o = q.w + "px";
            if (q.l) {
                C = q.l + "px";
                if (q.l > k) {
                    k = 0
                } else {
                    k = k - q.l
                }
            }
            if (q.w < p) {
                p = q.w
            }
        } else {
            if (!d) {
                o = "";
                C = k + "px";
                k = 0
            }
        }
        if (typeof w.t == "undefined") {
            l += g;
            l == "" && (l += "#fff");
            m = (g == "transparent" || /rgba\((\d{1,3},\s*){1,3}0\)/.test(g)) ? "fk-subNavPack-no-shadow" : ""
        } else {
            l += Site.buildNavV2BgStyle(w);
            m = (w.c == "transparent" || /rgba\((\d{1,3},\s*){1,3}0\)/.test(w.c)) ? "fk-subNavPack-no-shadow" : ""
        }
        var s = "width:" + o + "; height:" + B + "; top:" + (b + A) + "px; left:" + C + "; background:" + l + ";",
            t = "width:" + p + "px; height:" + B + "; margin-left:" + k + "px;", u = "";
        if (z && (z.length == 0 || y.length == 0)) {
            if (Fai.top._manageMode) {
                $("<div id='fk-subNavPack" + c + "' class='fk-subNavPack " + m + " ' style='" + s + "'><div class='container J_subNavPack' id='fk-subNavPackContainer" + c + "' style='" + t + "'><div class='fk-elemZoneBg J_zoneContentBg elemZoneBg'></div></div></div>").appendTo("body");
                a()
            } else {
                return
            }
        } else {
            $("<div id='fk-subNavPack" + c + "' class='fk-subNavPack " + m + " ' style='" + s + "'><div class='container J_subNavPack' id='fk-subNavPackContainer" + c + "' style='" + t + "'><div class='fk-elemZoneBg J_zoneContentBg elemZoneBg'></div></div></div>").appendTo("body")
        }
        E = $("#fk-subNavPack" + c);
        for (var x = 0; x < y.length; x++) {
            E.find(".container").append(y[x])
        }
        var v = false;
        for (var x = 0; x < z.length; x++) {
            var F = z[x], n = F.id, e = F.l, j = F.t, D = F.s;
            if (!n) {
                continue
            }
            var f = Fai.top.$("#module" + n);
            if (f.length == 0) {
                continue
            }
            f.css({position: "absolute", left: e + "px", top: j + "px"});
            f.attr("_inSubNavPack", 1);
            if (D == false) {
                f.css("display", "none")
            } else {
                v = true
            }
        }
        if (Fai.top._manageMode && !v) {
            a()
        }
        if (Fai.top._manageMode) {
            if (d) {
                u = "left:" + (k + 10) + "px"
            }
            E.append("<div class='editSubNavPack' style=' " + u + " '><div class='icon'></div><div class='tit'>编辑模块</div></div>");
            E.find(".editSubNavPack").click(function () {
                if (Fai.top._subNavPackEdit == true) {
                    return
                }
                Site.logDog(200256, 2);
                E.find(".editSubNavPack").hide();
                Site.inSubNavPackEdit.subNavFreePackEdit(c)
            });
            E.off("contextmenu.stopPro").on("contextmenu.stopPro", function (i) {
                if (!Fai.top._subNavPackEdit) {
                    i.stopPropagation();
                    i.preventDefault()
                }
            });
            E.data("packSizeData", q)
        }
        E.find(".formStyle86, .editTip").css("cursor", "default")
    }

    function a() {
        var i = ($("#fk-subNavPack" + c).height() - 16) / 2;
        $("#fk-subNavPack" + c).append("<div class='subNavNoModule' style='top:" + i + "px'>当前模块无内容访客态将不显示，选择<div class='toChooseTemplate'>素材模块</div>开始编辑</div>");
        $("#fk-subNavPack" + c).find(".toChooseTemplate").click(function () {
            Site.popupWindow({
                title: "请选择素材模块进入带图样式的编辑",
                frameSrcUrl: "manage_v2/subNavPackTpl.jsp?subNavColId=" + c,
                popUpWinClass: "subNavPackTpl",
                width: 620,
                height: 880,
                version: 2
            })
        })
    }
};
Site.buildNavV2BgStyle = function (a) {
    var b = "";
    if (a.t == 2) {
        if (a.c) {
            b += a.c
        }
        if (a.ph) {
            b += " url(" + a.ph + ") ";
            if (a.ps != 2) {
                b += buildBgRepeat(a.pp)
            } else {
                b += " repeat top / 100% 100% "
            }
        }
    } else {
        b = "#ffffff"
    }
    return b
};

function buildBgRepeat(a) {
    var b = "";
    if (a == -1) {
        return b
    }
    switch (a) {
        case 11:
            b += " repeat-x top ";
            break;
        case 1:
            b += " repeat-x center ";
            break;
        case 12:
            b += " repeat-x bottom ";
            break;
        case 21:
            b += " repeat-y left ";
            break;
        case 2:
            b += " repeat-y center ";
            break;
        case 22:
            b += " repeat-y right ";
            break;
        case 3:
            b += " repeat center ";
            break;
        case 5:
            b += " repeat top / 100% ";
            break;
        case 0:
            b += " no-repeat center ";
            break;
        case 6:
            b += " no-repeat left ";
            break;
        case 7:
            b += " no-repeat right ";
            break;
        case 8:
            b += " no-repeat top ";
            break;
        case 9:
            b += " no-repeat bottom ";
            break;
        case 13:
            b += " no-repeat left top ";
            break;
        case 14:
            b += " no-repeat right top ";
            break;
        case 15:
            b += " no-repeat left bottom ";
            break;
        case 16:
            b += " no-repeat right bottom ";
            break
    }
    return b
}

Site.showSubNavPack = function () {
    if (Fai.top._useNavVersionTwo) {
        if (Fai.top._navStyleV2Data.snt != 2) {
            return
        }
    }
    var a = Fai.top.$("#navV2");

    function b(d) {
        var c = Fai.top.$("#navV2").offset().top, e = Fai.top.$("#navV2").height();
        $("#fk-subNavPack" + d).css("top", c + e + "px")
    }

    $.each(Fai.top.$("#navV2 .navCenter .item"), function (j, e) {
        var o = $(this);
        var k = Fai.top._colId;
        var h = Fai.top._fromColId;
        var d = o.attr("colId");
        $(this).unbind();
        if (d == k || d == h) {
            o.addClass("itemSelected")
        }
        var m = parseInt($(this).attr("id").replace("nav", ""));
        var g = false, c = false, f, l = false;
        o.hover(function () {
            if (a.hasClass("ui-resizable-resizing")) {
                return
            }
            if (f) {
                clearTimeout(f)
            }
            g = true;
            $(this).addClass("itemHover");
            b(m);
            if (Fai.top._navStyleV2Data.snt == 2) {
                $(".fk-subNavPack").each(function (i, n) {
                    if ($(n).css("display") == "block") {
                        l = true
                    }
                });
                if (l) {
                    $(".fk-subNavPack").hide();
                    Fai.top.$("#fk-subNavPack" + m).show()
                } else {
                    Fai.top.$("#fk-subNavPack" + m).slideDown(200)
                }
            }
        }, function () {
            if (a.hasClass("ui-resizable-resizing")) {
                return
            }
            g = false;
            $(this).removeClass("itemHover");
            f = setTimeout(function () {
                if (!c && !Fai.top._subNavPackEdit) {
                    Fai.top.$("#fk-subNavPack" + m).slideUp(100)
                }
            }, 200);
            l = false
        });
        Fai.top.$("#fk-subNavPack" + m).hover(function () {
            if (f) {
                clearTimeout(f)
            }
            c = true;
            b(m);
            if (Fai.top._navStyleV2Data.snt == 2) {
                if (!Fai.top._subNavPackEdit) {
                    Fai.top.$("#nav" + m).addClass("itemHover")
                }
                $(".fk-subNavPack").each(function (i, n) {
                    if ($(n).css("display") == "block") {
                        l = true
                    }
                });
                if (l) {
                    $(".fk-subNavPack").hide();
                    Fai.top.$("#fk-subNavPack" + m).show()
                } else {
                    Fai.top.$("#fk-subNavPack" + m).slideDown(200)
                }
            }
        }, function () {
            c = false;
            f = setTimeout(function () {
                if (!g && !Fai.top._subNavPackEdit) {
                    Fai.top.$("#nav" + m).removeClass("itemHover");
                    Fai.top.$("#fk-subNavPack" + m).slideUp(100)
                }
            }, 200);
            l = false
        })
    })
};
Site.setNavV2Wrap = function () {
    var b = $("#webContainer").width(), a = document.getElementById("g_main").scrollHeight;
    $("#navV2Wrap").css({width: b + "px", height: a + "px"})
};
Site.clearNavV2Wrap = function () {
    $("#navV2Wrap").css({width: "", height: ""})
};
Site.initModulePhotoSwitch = function (f, L, v, l) {
    var c = Fai.top.$("#module" + f), n = c.find(".formMiddleContent"), t = !L.picScale, x = n.width(), B = n.height(),
        y = L.data, d;
    c.data("photoSwitchData", L);
    c.data("photoSwitchType", v);
    if (l !== "carouselPhotos") {
    }
    if (v == 1) {
        var A = $("#photoSwitch" + f);
        A.css("margin", "0 auto");
        var J = n.width();
        var g = {id: f, switchType: "1", width: J, photoSwitch: A};
        Site.formMiddleContentWidthArray.push(g);
        A.imageSwitch(L);
        if (n.width() < A.width()) {
            A.css("width", n.width())
        }
        var j = A.find(".imageSwitchShowName").eq(0);
        var E = A.find(".imageSwitchBtnArea").eq(0);
        if (E.width() / A.width() >= 0.4) {
            A.find(".spanHiddenName").each(function () {
                $(this).css("width", ((1 - (E.width() + 20) / A.width()) * 100) + "%")
            })
        }
        E.css("bottom", "5px");
        var o = E[0].getBoundingClientRect().left;
        var C = A[0].getBoundingClientRect().left;
        E.width((E.width() + 5) + "px");
        E.css("top", "auto");
        if (j.find(".spanHiddenName") && j.css("display") == "block") {
            j.css("height", "auto");
            if (l == "carouselPhotos") {
                j.find(".spanHiddenName").each(function () {
                    var a = $(this).text();
                    if (a == "") {
                        $(this).css("height", "30px")
                    }
                });
                j.css({
                    top: "auto",
                    bottom: "0",
                    width: A.width() + "px",
                    "margin-left": "2px",
                    "margin-bottom": "2px"
                });
                E.css("bottom", "8px")
            } else {
                j.css({top: "auto", bottom: "0", "padding-bottom": "15px", width: "100%"})
            }
        }
        if (j.find(".spanHiddenName").length == 1) {
            j.css({"padding-bottom": "0", "margin-left": ""})
        }
        var u = A.find(".spanHiddenName").length;
        for (var I = 0; I < u; I++) {
            var s = A.find(".spanHiddenName").eq(I);
            s.css("max-width", "98%");
            if (L.switchWrapName == true) {
                j.css("padding-bottom", "0px");
                s.css({"word-wrap": "break-word", width: "auto"});
                if (Fai.isIE6() || Fai.isIE7()) {
                    if (u > 1) {
                        s.css("padding-bottom", "15px")
                    }
                } else {
                    var p = false;
                    if (s.css("display") == "none") {
                        s.addClass("spanShowName");
                        p = true
                    }
                    var D = C + s[0].clientWidth + 10;
                    if (p) {
                        s.removeClass("spanShowName")
                    }
                    if (o - D >= 5) {
                        s.css({"padding-top": "2px", "padding-bottom": "0px", bottom: "0px"});
                        if (l == "carouselPhotos" && s.text() == "") {
                            s.css("height", "30px")
                        }
                    } else {
                        if (u > 1) {
                            s.css("padding-bottom", "15px")
                        }
                    }
                }
            } else {
                if (u == 1) {
                    s.css({"white-space": "nowrap", width: "99%"})
                } else {
                    if ((E.width() + 20) / A.width() < 0.4) {
                        s.css({"white-space": "nowrap", width: "60%", "padding-top": "2px"})
                    } else {
                        s.css({"white-space": "nowrap", "padding-top": "2px"})
                    }
                }
            }
            if (Fai.isIE6()) {
                for (var N = 0; N < Site.formMiddleContentWidthArray.length; N++) {
                    if (Site.formMiddleContentWidthArray[N].switchType == 1) {
                        $("#photoSwitch" + Site.formMiddleContentWidthArray[N].id).css("width", Site.formMiddleContentWidthArray[N].width + "px")
                    }
                }
            }
        }
        if (L.picScale == 2) {
            var F = c.find(".switchGroup");
            var q = F.find("a").width();
            var H = F.find("a").height();
            var k = F.find("a");
            var h = F.find("img");
            for (var I = 0; I < h.length; I++) {
                var e = L.data[I];
                var K = e.widthOr;
                var b = e.heightOr;
                var G = K / b;
                var m = q / H;
                if (m <= G) {
                    h.eq(I).css("width", G * H + "px");
                    h.eq(I).css("height", H + "px");
                    h.eq(I).css("marginLeft", ((q - G * H) / 2) + "px")
                } else {
                    h.eq(I).css("height", q / G + "px");
                    h.eq(I).css("width", q + "px");
                    h.eq(I).css("marginTop", ((H - q / G) / 2) + "px")
                }
            }
        }
    } else {
        if (v == 2) {
            var w = $("#photoDotSwitch" + f);
            var J = n.width();
            var g = {id: f, switchType: "2", width: J, photoDotSwitch: w};
            Site.formMiddleContentWidthArray.push(g);
            w.imageSwitch(L);
            var j = w.find(".imageSwitchShowName").eq(0);
            var M = w.find(".imageSwitchBtnArea").eq(0);
            var z = 0;
            M.css("left", "");
            if (M.width() > w.width()) {
                M.find(".imageSwitchBtn_dot").each(function () {
                    $(this).css("marginRight", 2 + "px")
                });
                if (M.width() > w.width()) {
                    z = 1;
                    M.css("marginLeft", "-" + M.width() / 2 + "px")
                }
            }
            if (z == 0) {
                M.css("marginLeft", "-" + M.width() / 2 + "px");
                M.css("left", "50%")
            }
            if (n.width() < w.width()) {
                w.css("width", n.width())
            }
            if (j.css("display") == "block" && j.find(".spanHiddenName")) {
                if (l == "carouselPhotos") {
                    j.css({height: "auto", top: "auto", bottom: "0", "padding-bottom": "27px"});
                    var r = w.width() - 44;
                    j.css({"margin-left": "2px", "margin-bottom": "2px", width: "auto"});
                    j.find(".spanHiddenName").each(function () {
                        $(this).css({margin: "0px 22px", width: r})
                    });
                    M.css({"text-align": "center", left: "0", right: "0", "margin-left": "10px"});
                    M.find(".imageSwitchBtn_dot").css("float", "none");
                    M.css("padding-bottom", "2px")
                } else {
                    j.css({height: "auto", top: "auto", bottom: "0", "padding-bottom": "15px"});
                    j.find(".spanHiddenName").each(function () {
                        $(this).css("marginLeft", "0px")
                    });
                    j.width("100%")
                }
            }
            if (j.find(".spanHiddenName").length == 1) {
                j.css({"padding-bottom": "0", "margin-left": ""})
            }
            var u = w.find(".spanHiddenName").length;
            for (var I = 0; I < u; I++) {
                var s = w.find(".spanHiddenName").eq(I);
                if (L.switchWrapName == true) {
                    s.css("word-wrap", "break-word")
                } else {
                    s.css("white-space", "nowrap")
                }
            }
            if (Fai.isIE6()) {
                for (var N = 0; N < Site.formMiddleContentWidthArray.length; N++) {
                    if (Site.formMiddleContentWidthArray[N].switchType == 2) {
                        $("#photoDotSwitch" + Site.formMiddleContentWidthArray[N].id).css("width", Site.formMiddleContentWidthArray[N].width + "px");
                        if (Site.formMiddleContentWidthArray[N].width < 300) {
                            M.css("align", "center");
                            M.css("width", Site.formMiddleContentWidthArray[N].width + "px")
                        }
                    }
                }
            }
            if (L.picScale == 2) {
                var F = c.find(".switchGroup");
                var q = F.find("a").width();
                var H = F.find("a").height();
                var k = F.find("a");
                var h = F.find("img");
                for (var I = 0; I < h.length; I++) {
                    var e = L.data[I];
                    var K = e.widthOr;
                    var b = e.heightOr;
                    var G = K / b;
                    var m = q / H;
                    if (m <= G) {
                        h.eq(I).css("width", G * H + "px");
                        h.eq(I).css("height", H + "px");
                        h.eq(I).css("marginLeft", ((q - G * H) / 2) + "px")
                    } else {
                        h.eq(I).css("height", q / G + "px");
                        h.eq(I).css("width", q + "px");
                        h.eq(I).css("marginTop", ((H - q / G) / 2) + "px")
                    }
                }
            }
        }
    }
    if (v != 1) {
        if (l == "carouselPhotos") {
            if (L.picScale == 2) {
                var F = c.find(".switchGroup");
                var q = F.find("a").width();
                var H = F.find("a").height();
                var k = F.find("a");
                var h = F.find("img");
                for (var I = 0; I < h.length; I++) {
                    var e = L.data[I];
                    var K = e.width;
                    var b = e.height;
                    var G = K / b;
                    var m = q / H;
                    if (m <= G) {
                        h.eq(I).css("width", G * H + "px");
                        h.eq(I).css("height", H + "px");
                        h.eq(I).css("left", ((q - G * H) / 2) + "px")
                    } else {
                        h.eq(I).css("height", q / G + "px");
                        h.eq(I).css("width", q + "px");
                        $(this).css("top", ((H - q / G) / 2) + "px")
                    }
                }
            }
        }
    }
};
Site.refreshModulePhotoSwitch = function (b) {
    var c = Fai.top.$("#module" + b);
    if (c.length > 0) {
        var a = c.data("photoSwitchData");
        var d = c.data("photoSwitchType");
        if (d == 1) {
            c.find("#photoSwitch" + b).empty()
        } else {
            if (d == 2) {
                c.find("#photoDotSwitch" + b).empty()
            }
        }
        if (typeof a != "undefined") {
            Site.initModulePhotoSwitch(b, a, d)
        }
    }
};
Site.loadPhotoMarquee = function (u, F, C, n, x) {
    var e = Fai.top["Photo" + u].ieOpt, h = Fai.top["Photo" + u].tgOpt, o = Fai.top["Photo" + u].callbackArgs;
    var b = $("#module" + u);
    if (Fai.isNull(b)) {
        return
    }
    if (x == "listPhotos" || x == "carouselPhotos" || x == "photoList") {
        C = 1
    }
    b.find(".demo0>div").each(function () {
        if ($(this).attr("cloneDiv")) {
            $(this).remove()
        }
    });
    var w = 0;
    var t = b.find(".photoMarqueeForm");
    if (!C) {
        t.each(function () {
            var H = $(this).attr("faiWidth");
            var G = $(this).attr("faiHeight");
            if (Fai.isNull(G)) {
                return
            }
            var L = $(this).find(".imgDiv");
            var K = L.width();
            var I = L.height();
            var J = Fai.Img.calcSize(H, G, K, I, Fai.Img.MODE_SCALE_FILL);
            if (J.height > w) {
                w = J.height
            }
        })
    }
    if (e.effType >= 4 && e.effType < 6) {
        Site.clearImageEffectContent_photo("module" + u, "propDiv")
    }
    var d = 0;
    var i = 0;
    var D = 0;
    var g = 0;
    var B = 0;
    var p = 0;
    var E = Site.getFormMiddleContentHeight(b, u);
    t.each(function () {
        var I = $(this);
        var R = I.attr("faiHeight");
        if (Fai.isNull(R)) {
            return
        }
        var Q = I.attr("faiWidth");
        var V = I.find(".imgDiv");
        var S = V.width();
        if (C) {
            w = V.height()
        }
        var P = {width: S, height: w};
        var O = V.find(".J_photoImgPanel");
        var M = V.find("img");
        if (x != "photoGroup") {
            if (F == 2) {
                var N = M.attr("iWidth");
                var H = M.attr("iHeight");
                var L = N / H;
                var K = S / w;
                if (K <= L) {
                    M.css("width", L * w + "px");
                    M.css("height", w + "px");
                    M.css("marginTop", "");
                    M.css("marginLeft", ((S - L * w) / 2) + "px");
                    O.css({width: S, height: w, position: "relative", overflow: "hidden"})
                } else {
                    M.css("height", S / L + "px");
                    M.css("width", S + "px");
                    M.css("marginLeft", "");
                    M.css("marginTop", ((w - S / L) / 2) + "px");
                    O.css({width: S, height: w, position: "relative", overflow: "hidden"})
                }
            } else {
                if (typeof F == "number") {
                    F = !!!F
                }
                if (F) {
                    if (C) {
                        P = Fai.Img.calcSize(Q, R, S, w, Fai.Img.MODE_SCALE_FILL)
                    } else {
                        P = Fai.Img.calcSize(Q, R, S, w, Fai.Img.MODE_SCALE_DEFLATE_HEIGHT)
                    }
                }
                if (O.length > 0 || V.length > 0) {
                    O.css({
                        marginLeft: "",
                        marginTop: "",
                        width: P.width + "px",
                        height: P.height + "px",
                        position: "relative",
                        overflow: "hidden",
                        margin: "0 auto"
                    });
                    M.css("marginLeft", "").css("marginTop", "")
                }
                M.css("width", P.width + "px");
                M.css("height", P.height + "px")
            }
        }
        var J = V.width();
        if (J < P.width) {
            J = P.width
        }
        var U = I.find(".propDiv");
        if (U.width() != J) {
            U.css("width", J + "px")
        }
        if (V.width() != J) {
            V.css("width", J + "px")
        }
        if (V.height() != w) {
            V.css("height", w + "px");
            if ($.browser.msie && $.browser.version == 6) {
                V.addClass("wocaie6").removeClass("wocaie6")
            }
        }
        if (I.height() > g && (n == 0 || n == 1)) {
            g = $(this).outerHeight(true)
        }
        if (E > g && (n == 2 || n == 3)) {
            g = E
        }
        var G = I.outerWidth(true);
        var T = I.outerHeight(true);
        if (G > B) {
            B = G
        }
        d += G
    });
    i = d;
    if ($(".photoMarqueeForm").length > 0) {
        Site.unifiedAttrVal(b, ".photoMarqueeForm", "height")
    }
    var m = b.find(".demo");
    var A = b.find(".demo0");
    D = A.outerHeight();
    if (g > 0) {
        m.css("height", g + "px")
    }
    if (n == 0 || n == 1) {
        A.css("width", d + "px");
        var a = m.width(), z = A.width();
        if (z <= a) {
            jzUtils.run({name: "ImageEffect.FUNC.BASIC.Init", callMethod: true}, {
                moduleId: u,
                imgEffOption: e,
                tagetOption: h,
                callback: Site.createImageEffectContent_photo,
                callbackArgs: o
            });
            return
        }
    }
    if (n == 2 || n == 3) {
        var g = m.height(), j = A.height();
        if (j <= g) {
            jzUtils.run({name: "ImageEffect.FUNC.BASIC.Init", callMethod: true}, {
                moduleId: u,
                imgEffOption: e,
                tagetOption: h,
                callback: Site.createImageEffectContent_photo,
                callbackArgs: o
            });
            return
        }
    }
    if (t.length == 0) {
        return
    }
    var k = t.first().outerWidth(true);
    if (k == 0) {
        return
    }
    var s = 0, c = t.length - 1;
    t.each(function (H, I) {
        if (s > a) {
            return false
        }
        var G = $(I).clone().attr("cloneDiv", "true");
        tmpId = G.children("div.imgDiv").attr("id");
        G.children("div.imgDiv").attr("id", tmpId + "_clone");
        if (0 === H && (n == 2 || n == 3)) {
            $(I).css("clear", "both");
            G.css("clear", "both")
        }
        if (Fai.isIE6() || Fai.isIE7()) {
            if (H === c) {
                $(t[H]).after('<div style="clear:both;"></div>');
                G.after('<div style="clear:both;"></div>')
            }
        }
        A.append(G);
        s += G.outerWidth(true)
    });
    var r = d + s;
    if (n == 0 || n == 1) {
        A.css("width", r + "px")
    }

    function y() {
        d--;
        m.scrollLeft(d);
        if (d == 0) {
            m.scrollLeft(i);
            d = i
        }
    }

    function f() {
        var G = m.scrollLeft();
        G++;
        m.scrollLeft(G);
        if (G == d) {
            m.scrollLeft(0)
        }
    }

    function v() {
        var G = m.scrollTop();
        G--;
        m.scrollTop(G);
        if (G == 0) {
            m.scrollTop(D)
        }
    }

    function l() {
        var G = m.scrollTop();
        G++;
        m.scrollTop(G);
        if (G == D) {
            m.scrollTop(0)
        }
    }

    if (n == 0) {
        m.scrollLeft(2 * d);
        Fai.addInterval("marquee" + u, y, 35)
    } else {
        if (n == 1) {
            Fai.addInterval("marquee" + u, f, 35)
        } else {
            if (n == 2) {
                m.scrollTop(2 * D);
                Fai.addInterval("marquee" + u, v, 35)
            } else {
                if (n == 3) {
                    Fai.addInterval("marquee" + u, l, 35)
                }
            }
        }
    }
    m.mouseover(function () {
        Fai.stopInterval("marquee" + u)
    }).mouseleave(function () {
        Fai.startInterval("marquee" + u)
    });
    setTimeout(function () {
        Fai.startInterval("marquee" + u)
    }, 100);
    if (!b.data("first1")) {
        b.data("first1", true);
        b.data("options", {id: u, scale: F, fixHeight: C, phoMarqueeDirection: n, flag: x})
    }
    if (b.data("first2") && Fai.top._manageMode) {
        var q = b.data("photoOptions");
        Site.initModulePhotoListItemManage(q);
        if (x == "listPhotos") {
            Site.moduleListPhotosItemManage.init(q)
        }
    }
    jzUtils.run({name: "ImageEffect.FUNC.BASIC.Init", callMethod: true}, {
        moduleId: u,
        imgEffOption: e,
        tagetOption: h,
        callback: Site.createImageEffectContent_photo,
        callbackArgs: o
    });
    Site.restartPhotoMarquee(b)
};
Site.restartPhotoMarquee = function (a) {
    if (!a.data("first2")) {
        a.data("first2", true);
        a.on("Fai_onModuleSizeChange", function () {
            var b = a.data("options");
            Fai.stopInterval("marquee" + b.id);
            Site.loadPhotoMarquee(b.id, b.scale, b.fixHeight, b.phoMarqueeDirection, b.flag)
        });
        a.on("Fai_onModuleLayoutChange", function () {
            var b = a.data("options");
            Fai.stopInterval("marquee" + b.id);
            Site.loadPhotoMarquee(b.id, b.scale, b.fixHeight, b.phoMarqueeDirection, b.flag)
        })
    }
};
Site.getFormMiddleContentHeight = function (b, a) {
    var m = b.height(), f = b.find(".formTop").first(), e = b.find(".formBanner" + a).first(),
        i = b.find(".formMiddle").first(), k = b.find(".formBottom").first(), c = 0;
    if (f.css("display") != "none") {
        c = f.outerHeight(true)
    }
    var j = 0;
    if (e.css("display") != "none") {
        j = e.outerHeight(true)
    }
    var h = 0;
    if (k.css("display") != "none") {
        h = k.outerHeight(true)
    }
    var g = m - c - j - h - Fai.getFrameHeight(i);
    var l = i.find(".formMiddleCenter").first();
    g = g - Fai.getFrameHeight(l);
    var d = i.find(".formMiddleContent").first();
    g = g - Fai.getFrameHeight(d);
    return g
};
Site.loadPhotoGallery = function (e) {
    var m = e.id, w = e.scale, d = e.cus;
    var r = e.flag;
    var c = $("#" + m), v = c.find("div.photo-container");
    if (e.effType >= 4 && e.effType < 6) {
        Site.clearImageEffectContent_photo(e.id, "prop-container")
    }
    if (r == "listPhotos") {
        d = 1
    }
    if (v.length != 0) {
        for (var s = 0; s < v.length; s++) {
            if (r == "listPhotos") {
                if ($(v[s]).children().hasClass("J_sortDiv")) {
                    $(v[s]).children().children().unwrap()
                }
            }
            var h = $(v[s]).children("div.img-container"), f = h.width(), j = h.height();
            var y = h.find("img"), t = y.attr("fHeight"), k = y.attr("fWidth"), g = h.find(".J_photoImgPanel");
            if (w == 2) {
                var n = y.attr("iWidth");
                var x = y.attr("iHeight");
                var a = n / x;
                var o = f / j;
                if (o <= a) {
                    y.css("width", a * j + "px");
                    y.css("height", j + "px");
                    y.css("marginTop", "");
                    y.css("marginLeft", ((f - a * j) / 2) + "px");
                    g.css({width: f, height: j, position: "relative", overflow: "hidden"})
                } else {
                    y.css("height", f / a + "px");
                    y.css("width", f + "px");
                    y.css("marginLeft", "");
                    y.css("marginTop", ((j - f / a) / 2) + "px");
                    g.css({width: f, height: j, position: "relative", overflow: "hidden"})
                }
            } else {
                var l = Fai.Img.calcSize(k, t, f, j, Fai.Img.MODE_SCALE_FILL);
                if (typeof w == "number") {
                    w = !!!w
                }
                if (g.length > 0 || h.length > 0) {
                    if (w) {
                        g.css({
                            marginLeft: "",
                            marginTop: "",
                            width: l.width + "px",
                            height: l.height + "px",
                            position: "relative",
                            overflow: "hidden",
                            margin: "0 auto"
                        })
                    } else {
                        g.css({
                            marginLeft: "",
                            marginTop: "",
                            width: f + "px",
                            height: j + "px",
                            position: "relative",
                            overflow: "hidden",
                            margin: "0 auto"
                        })
                    }
                    y.css("marginLeft", "").css("marginTop", "")
                }
                if (w) {
                    y.width(l.width);
                    y.height(l.height)
                } else {
                    y.width(f);
                    y.height(j)
                }
            }
        }
        Site.photosGalleryBtn({
            id: m,
            photoContainer: "photo-container",
            imgContainer: "img-container",
            propContainer: "prop-container",
            flag: "listPhotos"
        })
    } else {
        var b = c.find("div.addNoProTips");
        c.find("div.photo-gallery").height(100).html(b)
    }
    if (c.find(".prop-wordwrap-container").length > 0) {
        c.find(".photo-container").height("auto");
        var u = 0;
        c.find(".photo-container").each(function () {
            var i = $(this).height();
            if (i > u) {
                u = i
            }
        });
        c.find(".photo-container").each(function () {
            $(this).height(u)
        });
        c.find(".photo-gallery-preview").height(u);
        Site.unifiedAttrVal(c, ".prop-wordwrap-container", "height")
    }
    var p = c.find(".gallery-control-prev"), q = c.find(".gallery-control-next");
    if (r == "listPhotos") {
        if (v.length != 0) {
            for (var s = 0; s < v.length; s++) {
                if ($(v[s]).children().hasClass("J_sortDiv")) {
                    return false
                } else {
                    $(v[s]).children().wrapAll("<div class='J_sortDiv'></div>")
                }
            }
        }
        if (p && p.length > 0) {
            p.hover(function () {
                if (!$(this).hasClass("gallery-control-prev-disabled")) {
                    $(this).addClass("g_hover")
                }
            }, function () {
                $(this).removeClass("g_hover")
            })
        }
        if (p && q.length > 0) {
            q.hover(function () {
                if (!$(this).hasClass("gallery-control-next-disabled")) {
                    $(this).addClass("g_hover")
                }
            }, function () {
                $(this).removeClass("g_hover")
            })
        }
    }
};
Site.photosGalleryBtn = function (q) {
    var E = q.id, d = q.photoContainer, z = q.imgContainer, H = q.propContainer, A = q.flag;
    if (typeof(E) == "number") {
        var c = $("#module" + E)
    } else {
        var c = $("#" + E)
    }
    var F = c.find(".gallery-control"), l = c.find(".gallery-control-prev"), L = c.find(".gallery-control-next"),
        D = l.height(), e = l.width(), a = c.find("div." + d), J = a.first(), M = J.children("div." + z),
        u = M.outerWidth(true), o = M.outerHeight(true), t = J.find("div." + H), g = 0;
    if (t.length > 0) {
        g = t.first().outerHeight(true) * t.length
    }
    if (A == "photoGroup") {
        var t = c.find("div." + H), C = [];
        t.each(function () {
            C.push($(this).outerHeight(true))
        });
        g = Math.max.apply(Math, C) || 0
    }
    var v = o + g;
    if (A != "photoGroup") {
        a.height(v)
    }
    a.find("div." + H).width(u);
    if (A != "photoGroup") {
        a.width(u)
    }
    var s = c.find("div.photo-gallery-preview");
    s.height(v);
    var r = c.find("div.photo-gallery-inner"), k = r.outerHeight();
    if (k < D) {
        var G = r.height(), K = k - G;
        var I = Math.ceil((D - k) / 2);
        var m = Math.ceil(K / 2) + I;
        r.css("padding-top", m + "px").css("padding-bottom", m + "px")
    }
    var B = (r.outerHeight() / 2) - (D / 2);
    F.css("top", B + "px");
    var b = 1, P = l.innerWidth() - e, w = c.find("div.formMiddleContent").width(), n = w - P - (e * 2),
        R = J.outerWidth(true), N = J.outerWidth(), f = R - N;
    if (n > R) {
        b = parseInt(n / R)
    }
    var y = (b * R) - f;
    s.width(y);
    var Q = a.length;
    var p = Q % b == 0 ? Q / b : Math.floor(Q / b) + 1;
    c.find("div.photo-gallery-container").width(Q * R);
    var i = a.length < b ? a.length : b;
    for (var O = 0; O < i; O++) {
        var h = $(a[O]).find("img");
        if (!h.attr("src")) {
            h.attr("src", h.attr("lzurl"))
        }
        h.show()
    }
    c.find(".photo-gallery-inner").mouseover(function () {
        if (p > 1) {
            F.css("display", "block")
        }
    }).mouseleave(function () {
        F.css("display", "none")
    });
    l.addClass("gallery-control-prev-disabled");
    if (p == 1) {
        L.addClass("gallery-control-next-disabled")
    }
    l.click(function () {
        var S = $(this);
        if (S.hasClass("gallery-control-prev-disabled")) {
            return false
        }
        var T = S.parent(), x = T.find("div.photo-gallery-container"), U = T.find(".gallery-control-next");
        if (U.hasClass("gallery-control-next-disabled")) {
            U.removeClass("gallery-control-next-disabled")
        }
        if (x.position().left == 0 || x.is(":animated")) {
            return false
        }
        var j = y + f;
        x.animate({left: "+=" + j + "px"}, function () {
            if (x.position().left == 0) {
                S.addClass("gallery-control-prev-disabled")
            }
        })
    });
    L.click(function () {
        var Y = $(this);
        if (Y.hasClass("gallery-control-next-disabled")) {
            return false
        }
        var T = Y.parent(), j = T.find("div.photo-gallery-container"), S = T.find(".gallery-control-prev");
        if (S.hasClass("gallery-control-prev-disabled")) {
            S.removeClass("gallery-control-prev-disabled")
        }
        var Z = y + f, aa = -(p - 1) * (Z);
        left_position = parseInt(j.css("left").replace("px"));
        if (left_position == aa || j.is(":animated")) {
            return false
        }
        if (!Y.data("loading_finish")) {
            var X = (Math.abs(left_position) / (R * b)) + 1;
            var x = X <= 1 ? 1 * b : X * b, V = x + b > a.length ? a.length : x + b;
            for (var U = x; U < V; U++) {
                var W = $($(a[U]).find("img")[0]);
                if (!W.attr("src")) {
                    W.attr("src", W.attr("lzurl"))
                }
                W.show()
            }
        }
        j.animate({left: "-=" + Z + "px"}, function () {
            var ab = parseInt(j.css("left").replace("px", ""));
            if (ab == aa) {
                Y.data("loading_finish", true);
                Y.addClass("gallery-control-next-disabled")
            }
        })
    })
};
var isInShareContent = false;
Site.removeModulePhotoTitle = function (a) {
    $module = $("#module" + a);
    $module.find(".imgDiv").each(function () {
        $(this).removeAttr("title")
    })
};
Site.loadPhotoResultMarquee = function (l) {
    var a = l.id, d = l.scale, b = $("#module" + a, Fai.top.document.body);
    j(b);
    i(b);
    f(b);
    h(b);
    e(b, d);

    function j(m) {
        var u = m.find(".J_imgDiv"), q = m.find(".showPhotoContent"), t = m.find(".photoMarquee"), n = null, o = 0;
        var v = u.outerWidth(true);
        var r = v * u.length;
        if (q.width() < r) {
            var s = $(".photoMarquee").html();
            $(".photoMarquee").append(s);
            t.width(r * 2);
            p()
        } else {
            t.width(r)
        }
        u = m.find(".J_imgDiv");

        function p() {
            n = setInterval(function () {
                q.scrollLeft(o);
                o++;
                if (o == r) {
                    o = 0
                }
            }, 30)
        }

        u.hover(function () {
            c.call(this, m);
            clearInterval(n)
        }, function () {
            k.call(this, m);
            n = setInterval(function () {
                q.scrollLeft(o);
                o++;
                if (o == r) {
                    o = 0
                }
            }, 30)
        });
        u.eq(0).mouseover().mouseleave()
    }

    function i(m) {
        var r = m.find(".J_imgDiv"), q = m.find(".J_photoShowPrev"), p = m.find(".J_photoShowNext");
        q.click(o);
        p.click(n);

        function n() {
            var t = m.find(".J_selectedDiv").next();
            if (t.length == 0 || !t.hasClass("J_imgFirst")) {
                t = m.find(".J_imgFirst:first")
            }
            r.removeClass("J_selectedDiv");
            $(t).addClass("J_selectedDiv");
            var s = $(t).find("img");
            g(s)
        }

        function o() {
            var t = m.find(".J_selectedDiv").prev();
            if (t.length == 0 || !t.hasClass("J_imgFirst")) {
                t = m.find(".J_imgFirst:last")
            }
            r.removeClass("J_selectedDiv");
            $(t).addClass("J_selectedDiv");
            var s = $(t).find("img");
            g(s)
        }
    }

    function f(n) {
        var p = false, o = n.find(".J_showList"), u = n.find(".J_shareContent"), r = n.find(".J_shareListMore");
        o.mouseover(t);
        o.mouseleave(q);
        u.mouseover(s);
        u.mouseleave(m);

        function t() {
            u.show();
            o.addClass("showList-hover");
            r.addClass("shareListMore-hover");
            p = true
        }

        function q() {
            setTimeout(function () {
                if (!isInShareContent) {
                    n.find(".J_shareContent").hide();
                    n.find(".J_showList").removeClass("showList-hover");
                    n.find(".J_shareListMore").removeClass("shareListMore-hover")
                }
            });
            p = false
        }

        function m() {
            isInShareContent = false;
            if (!p) {
                u.hide();
                o.removeClass("showList-hover");
                r.removeClass("shareListMore-hover")
            }
        }

        function s() {
            isInShareContent = true
        }
    }

    function h(n) {
        var m = n.find(".pageDiv");
        if (m.length === 0) {
            return
        }
        m.mouseover(function () {
            m.addClass("pageDiv-hover")
        });
        m.mouseleave(function () {
            m.removeClass("pageDiv-hover")
        })
    }

    function g(t) {
        var n = t.attr("bigpicurl"), x = t.attr("bigpicwidth"), o = t.attr("bigpicheight"), w = t.attr("_href"),
            u = t.data("basic"), p = $("#module" + a), r = p.find(".J_photoBasicContent");
        if (u) {
            r.show();
            r.html(u);
            r.attr("title", u)
        } else {
            r.hide()
        }
        var v = p.find(".photoGroupUp .imgContainer img");
        var m = p.find(".photoGroupUp .imgContainer a");
        if (!d) {
            var y = Fai.Img.calcSize(x, o, 852, 453, Fai.Img.MODE_SCALE_FILL);
            v.width(y.width);
            v.height(y.height);
            if (y.height < 452) {
                v.css("margin-top", (452 - y.height) / 2)
            } else {
                v.css("margin-top", 0)
            }
            var q = v.position();
            r.width(y.width - 240);
            r.css("left", q.left)
        } else {
            v.width(p.width());
            v.css("height", "452px");
            r.width(p.width() - 240)
        }
        var s = v.attr("src");
        if (s != n) {
            v.attr("src", n);
            v.attr("alt", t.attr("alt"))
        }
        if ($.trim(w) == "") {
            m.attr("href", "javascirpt:void(0)")
        } else {
            m.attr("href", w)
        }
        e(p, d)
    }

    function c(n) {
        var o = n.find(".J_imgDiv"), m = $(this).find("img");
        Fai.stopInterval("marquee" + a);
        o.removeClass("J_selectedDiv");
        $(this).addClass("J_selectedDiv");
        $(this).find(".imgMask").show();
        g(m)
    }

    function k(m) {
        Fai.startInterval("marquee" + a);
        $(this).find(".imgMask").hide()
    }

    function e(w, p) {
        var y = w.find(".J_photoBasicContent");
        if (y.length === 0) {
            return
        }
        var m = w.find(".imgContainer img"), r = w.find(".photoContainer"), x = y.position().left,
            o = m.position().left, v = m.outerWidth(), u = r.outerWidth(), q = 0.7, t = 0.3, n = Math.floor(v * q),
            s = Math.floor(v * t / 2), z = n + s * 2;
        if (Fai.isIE6()) {
            if (o != x) {
                y.css("left", 0)
            }
        }
        if (Fai.isIE7() && p) {
            y.css("left", 0)
        }
        if (Fai.isIE6() || Fai.isIE7() || Fai.isIE8()) {
            y.addClass("photoBasicContent-fixIEBgColor")
        }
        if (Fai.isMozilla()) {
            if (o != x) {
                y.css("left", o)
            }
        }
        if (z < v) {
            n += (v - z);
            z = n + s * 2
        }
        if (z > u) {
            n -= (z - u);
            z = n + s * 2
        }
        y.css({width: n + "px", padding: "0 " + s + "px"})
    }
};
Site.loadPhotoSmallPic = function (h) {
    var r = h.id, G = h.scale, f = h.cus;
    var y = h.flag;
    var e = $("#" + r);
    e.on("Fai_onModuleSizeChange", function () {
        Site.smallPicPhotoModuleFix(r, y)
    });
    e.on("Fai_onModuleLayoutChange", function () {
        Site.smallPicPhotoModuleFix(r, y)
    });
    var F = e.find("div.photoSmallPicBox");
    var w = e.find(".photoSmallPicUpForms").height();
    var s = e.find(".photoSmallPicDownForms").height();
    e.find(".photoSmallPicForms").height(w + s);
    var E = e.find(".photoSmallPicForms").width();
    e.find(".photoSmallPicUpForms").width(E);
    e.find(".photoSmallPicUpFormsMid").width(E);
    e.find(".photoSmallPicDownForms").width(E);
    var t = e.find(".photoSmallPrePic_control").outerWidth(true);
    e.find(".photoSmallPicDownFormsMid").css("width", E - 2 * t - 20 + "px");
    var p = e.find(".photoSmallPrePicContainer");
    var a = e.find(".photoSmallPrePicOuter").outerWidth(true);
    var D = 0;
    if (Fai.isIE6()) {
        D = 2
    }
    p.width(a * F.length + D);
    var i = p.width();
    var d = e.find(".photoSmallPicDownFormsMid").width();
    if (e.hasClass("formStyle93") && i < d) {
        p.css("margin-left", (d - i) / 2 + "px")
    }
    var z = e.find(".photoSmallPicUpFormsMid").outerHeight() / 2 - 23;
    e.find(".photoSmallPic_control").css("top", z + "px");
    var C = F.length;
    var o = Math.floor(d / a) + 1;
    var B = C % o == 0 ? C / o : Math.floor(C / o) + 1;
    if (B == 1 && d < p.width()) {
        B = 2
    }
    var q = F.length < o ? F.length : o;
    for (var x = 0; x < q; x++) {
        var H = $(F[x]).find("img");
        Site.loadPhotoSmallPicItem(H, y)
    }
    var u = e.find(".photoSmallPicDownForms a.g_imgPrev"), v = e.find(".photoSmallPicDownForms a.g_imgNext"),
        l = e.find(".photoSmallPicUpForms a.photoSmallPicArrow_left"),
        m = e.find(".photoSmallPicUpForms a.photoSmallPicArrow_right");
    u.addClass("photoSmallPic-control-prev-disabled");
    if (B == 1) {
        v.addClass("photoSmallPic-control-next-disabled")
    }
    l.addClass("photoBigPic-control-prev-disabled");
    if (C == 1) {
        m.addClass("photoBigPic-control-next-disabled")
    }
    if (!h.notBindEvent) {
        e.find(".photoSmallPicUpFormsMid").mouseover(function () {
            $(".photoSmallPic_control").css("display", "block")
        }).mouseleave(function () {
            $(".photoSmallPic_control").css("display", "none")
        });
        if (y != "carouselPhotos") {
            e.find(".photoContainerLeft").mouseenter(function () {
                var j = $(this).parents(".form").attr("id");
                if (_manageMode == true) {
                    Site.initModulePhotoSmallPicItemManage(j, h.isOpenImgEff)
                }
            }).mouseleave(function () {
                var j = $(this).parents(".form");
                var I = j.find("div.photoContainerLeft");
                if (_manageMode == true) {
                    if (h.isOpenImgEff) {
                        Site.removeEditLayer(I, null, 5)
                    } else {
                        Site.removeEditLayer(I, null, 106)
                    }
                }
            })
        }
        F.mouseover(function () {
            $(this).parent().addClass("photoSmallPrePicOuterHover").addClass("g_border").addClass("g_borderHover")
        });
        F.mouseleave(function () {
            $(this).parent().removeClass("photoSmallPrePicOuterHover").removeClass("g_borderHover").removeClass("g_border")
        });
        e.find(".photoSmallPicUpFormsMid .photoContainerLeft img").attr("onload", "Site.removePhotoSmallPicMask(" + r.replace("module", "") + ")");
        l.click(g);
        m.click(A);
        v.click(n);
        u.click(k);
        F.click(b)
    }
    F.eq(0).click();
    c(e);

    function b() {
        var S = $(this).find("img");
        var O = $("#" + r);
        var J = O.find(".photoSmallPicUpFormsMid .photoContainerLeft img");
        Site.loadPhotoSmallPicItem($(this).parent().next().find("img"), y);
        Site.loadPhotoSmallPicItem(S, y);
        var ac = h.scale;
        var N = $(this).parent();
        N.siblings(".photoSmallPrePicOuter").find("div.photoSmallPicBox").removeClass("photoSmallPrePicSelected");
        $(this).addClass("photoSmallPrePicSelected");
        N.siblings(".photoSmallPrePicOuter").removeClass("photoSmallPrePicOuterClick").removeClass("g_borderSelected");
        N.addClass("photoSmallPrePicOuterClick").addClass("g_borderSelected");
        var Z = O.hasClass("formStyle42"), Y = O.find("#bigImgDetail");
        if (Z) {
            Y.replaceWith(J)
        } else {
            Y.remove();
            O.find(".J_bigImgDetailWrap").append(J)
        }
        var I = O.find(".photoContainerLeft").width(), M = O.find(".photoContainerLeft").height();
        var T = S.attr("bigpicurl");
        var ap = S.attr("bigpicwidth");
        var Q = S.attr("bigpicheight");
        var ak = S.attr("productname");
        var ar = S.attr("ifshowname");
        var al = S.attr("aattribute");
        if (y == "carouselPhotos") {
            N.css({overflow: "visible"});
            N.siblings(".photoSmallPrePicOuter").find(".cs_triangle_up").hide();
            N.find(".cs_triangle_up").show().addClass("g_borderSelected");
            var ai = S.attr("pic");
            O.find(".imgContainer").attr("id", "photoList" + ai);
            if (_manageMode) {
                var am = O.data("carouselPhotosOptions");
                Site.moduleCarouselPhotosItemManage.init(am)
            }
        }
        if (ac == 2) {
            var R = Fai.Img.calcSize(ap, Q, I, M, Fai.Img.MODE_SCALE_FILL);
            var L = Q;
            var aq = ap;
            var an = aq / L;
            var W = I / M;
            if (W <= an) {
                J.css("width", an * M + "px");
                J.css("height", M + "px");
                if (y == "carouselPhotos") {
                    J.css("left", ((I - an * M) / 2) + "px");
                    J.css("position", "absolute");
                    J.css("top", "0")
                } else {
                    J.parent(".imgContainer").css("position", "relative");
                    J.parent(".imgContainer").css("left", ((I - an * M) / 2) + "px");
                    J.parent(".imgContainer").css("top", "0")
                }
            } else {
                J.css("height", I / an + "px");
                J.css("width", I + "px");
                if (y == "carouselPhotos") {
                    J.css("top", ((M - I / an) / 2) + "px");
                    J.css("position", "absolute");
                    J.css("left", "0")
                } else {
                    J.parent(".imgContainer").css("top", ((M - I / an) / 2) + "px");
                    J.parent(".imgContainer").css("position", "relative");
                    J.parent(".imgContainer").css("left", "0")
                }
            }
        } else {
            if (ac == 0) {
                var R = Fai.Img.calcSize(ap, Q, I, M, Fai.Img.MODE_SCALE_FILL);
                J.width(R.width);
                J.height(R.height);
                J.css("position", "")
            } else {
                J.css("width", I).css("height", M);
                J.css("position", "")
            }
        }
        var af = J.attr("src");
        if (af == T) {
            J.attr("src", "")
        }
        J.attr("src", T);
        J.css("margin", "auto");
        var U = S.attr("alt");
        J.attr("alt", U);
        if (y == "carouselPhotos") {
            O.find(".photoContainerLeft").css("margin-top", "1.5px");
            O.find(".photoContainerLeft .imgContainer").css("width", I).css("height", M)
        }
        J.wrap("<a id='bigImgDetail' " + al + "></a>");
        O.find("#imgInnerNameDiv p").html(Fai.encodeHtml(ak));
        var ae = O.find("#imgInnerNameDiv");
        var P = O.find(".J_carouselPhotos");
        if (y == "carouselPhotos") {
            var ab = parseInt(ae.css("padding-left").replace("px", "")) + parseInt(ae.css("padding-right").replace("px", ""));
            ae.width(P.width() - ab);
            O.find(".photoNameContainer").width(P.width() - ab);
            ae.css({overflow: "hidden", margin: "0 auto", bottom: "0", left: "0", right: "0"})
        } else {
            ae.width(J.width());
            O.find(".photoNameContainer").width(J.width());
            var K = (O.find(".photoContainerLeft").height() - J.height()) / 2 + J.height() - ae.outerHeight(true);
            var aj = K % 2 == 0 ? K : Math.floor(K / 2) * 2;
            ae.css("top", aj + "px");
            var j = (O.find(".photoSmallPicUpFormsMid").width() - J.width()) / 2;
            ae.css("left", j + "px").css("overflow", "hidden")
        }
        if (h.isOpenImgEff) {
            Site.bindImageEffectCusEvent_photo(O.find(".photoSmallPic_td"), h.tgOpt)
        }
        var at = O.find(".photoSmallPrePicSelected").parent().index();
        l.removeClass("photoBigPic-control-prev-disabled");
        m.removeClass("photoBigPic-control-next-disabled");
        u.removeClass("photoSmallPic-control-prev-disabled");
        v.removeClass("photoSmallPic-control-next-disabled");
        var ag = O.find(".photoSmallPicDownForms").find(".photoSmallPrePicContainer");
        var au = parseInt(ag.css("left").replace("px"));
        var ah = Math.abs(au) / a;
        var ad = ah + o - 1 > C - 1 ? C - 1 : ah + o - 1;
        var V = O.find(".photoSmallPicDownFormsMid").width();
        var aa, X;
        if (at == 0) {
            l.addClass("photoBigPic-control-prev-disabled");
            if (au == 0) {
                u.addClass("photoSmallPic-control-prev-disabled")
            }
        }
        if (at == (C - 1)) {
            m.addClass("photoBigPic-control-next-disabled");
            aa = ah;
            X = C - 1;
            if ((X - aa + 1) * a <= V && au >= (C - o - 1) * a) {
                v.addClass("photoSmallPic-control-next-disabled")
            }
        }
        O.data("positionLeft", au);
        var ao = O.find(".photoSmallPrePicSelected").attr("phoid");
        O.find("div.photoContainerLeft").attr("phoid", ao).attr("photoname", ak).attr("id", "containerLeft_PhotosmallPic" + ao);
        c(O)
    }

    function g() {
        var M = $(this);
        if (M.hasClass("photoBigPic-control-prev-disabled")) {
            return false
        }
        var I = $("#" + r);
        var j = I.find(".photoSmallPicDownForms .photoSmallPrePicContainer");
        var K = Math.ceil(I.find(".photoSmallPicDownFormsMid").width() / a);
        var P = I.data("positionLeft");
        var L = Math.abs(P) / a;
        var O = L + K - 1 > C - 1 ? C - 1 : L + K - 1;
        var N = I.find(".photoSmallPrePicSelected").parent();
        var Q = N.index();
        if (Q >= L && Q <= O) {
            if (Q == L) {
                P += a
            }
        } else {
            P = -(Q - 1) * a;
            j.css("left", "0px")
        }
        if (j.is(":animated")) {
            return false
        }
        $(".img_ProductPhoto_LR_Border").remove();
        $(".img_ProductPhoto_TB_Border").remove();
        $(".editLayer").remove();
        var J = N.prev().find("div.photoSmallPicBox");
        I.find("div.photoContainerLeft").attr("phoid", J.attr("phoid")).attr("photoname", J.find("img").attr("productname")).attr("id", "containerLeft_PhotosmallPic" + J.attr("phoid"));
        j.animate({left: P + "px"}, function () {
            N.prev().find("div.photoSmallPicBox").click()
        })
    }

    function A() {
        var M = $(this);
        if (M.hasClass("photoBigPic-control-next-disabled")) {
            return false
        }
        var I = $("#" + r);
        var j = I.find(".photoSmallPicDownForms .photoSmallPrePicContainer");
        var K = Math.ceil(I.find(".photoSmallPicDownFormsMid").width() / a);
        var P = I.data("positionLeft");
        var L = Math.abs(P) / a;
        var O = L + K - 1 > C - 1 ? C - 1 : L + K - 1;
        var N = I.find(".photoSmallPrePicSelected").parent();
        var Q = N.index();
        if (Q >= L && Q <= O) {
            if (Q == O) {
                P -= 2 * a
            }
        } else {
            P = -(Q - 1) * a;
            j.css("left", "0px")
        }
        if (j.is(":animated")) {
            return false
        }
        $(".img_ProductPhoto_LR_Border").remove();
        $(".img_ProductPhoto_TB_Border").remove();
        $(".editLayer").remove();
        var J = N.next().find("div.photoSmallPicBox");
        I.find("div.photoContainerLeft").attr("phoid", J.attr("phoid")).attr("photoname", J.find("img").attr("productname")).attr("id", "containerLeft_PhotosmallPic" + J.attr("phoid"));
        j.animate({left: P + "px"}, function () {
            N.next().find("div.photoSmallPicBox").click()
        })
    }

    function k() {
        var M = $(this);
        if (M.hasClass("photoSmallPic-control-prev-disabled")) {
            return false
        }
        var I = M.parents(".photoSmallPicDownForms").find(".photoSmallPrePicContainer");
        var O = Math.floor(e.find(".photoSmallPicDownFormsMid").width() / a) + 1;
        var L = M.parents(".photoSmallPicDownForms").find("a.g_imgNext");
        if (L.hasClass("photoSmallPic-control-next-disabled")) {
            L.removeClass("photoSmallPic-control-next-disabled")
        }
        var K = parseInt(I.css("left").replace("px"));
        var N = Math.abs(K) / a;
        var J = N - O + 1 > 0 ? N - O + 1 : 0;
        if (J == 0) {
            M.addClass("photoSmallPic-control-prev-disabled")
        }
        var j = (N - J) * a;
        if (I.is(":animated")) {
            return false
        }
        I.animate({left: "+=" + j + "px"});
        c(e)
    }

    function n() {
        var T = $(this);
        var K = $("#" + r);
        if (T.hasClass("photoSmallPic-control-next-disabled")) {
            return false
        }
        var j = T.parents(".photoSmallPicDownForms").find(".photoSmallPrePicContainer"),
            M = T.parents(".photoSmallPicDownForms").find("a.g_imgPrev"),
            L = Math.floor(K.find(".photoSmallPicDownFormsMid").width() / a) + 1;
        if (M.hasClass("photoSmallPic-control-prev-disabled")) {
            M.removeClass("photoSmallPic-control-prev-disabled")
        }
        var U = (L - 1) * a, S = parseInt(j.css("left").replace("px"));
        var R = Math.abs(S) / a;
        var V = R + L - 1 > C - 1 ? C - 1 : R + L - 1;
        var Q = K.find(".photoSmallPicDownFormsMid").width();
        if (j.is(":animated")) {
            return false
        }
        var J;
        var I, O;
        if (V >= C - 1) {
            I = R;
            O = C - 1;
            if ((O - I + 1) * a <= Q) {
                J = true;
                T.addClass("photoSmallPic-control-next-disabled")
            }
        } else {
            I = V;
            O = V + L - 1
        }
        for (var N = I; N <= O; N++) {
            var P = $(F[N]).find("img");
            Site.loadPhotoSmallPicItem(P, y)
        }
        if (!J) {
            j.animate({left: "-=" + U + "px"})
        }
        c(K)
    }

    function c(I) {
        var j = I.find(".photoSmallPicDownForms");
        Site.updateThumbnailForSmallPicForms({
            $module: e,
            listCls: ".photoSmallPicDownForms",
            itemCls: ".photoSmallPrePicOuter"
        })
    }
};
(function (a, b, d) {
    a.updateThumbnailForSmallPicForms = function (h) {
        var g = h.listCls, j = h.itemCls, i = h.$module;
        if (i.length === 0) {
            return
        }
        var f = i.find(g), k = f.find(j);
        if (k.length === 0) {
            return
        }
        e(k)
    };

    function e(f) {
        f.each(function (h, j) {
            var g = b(j), i = g.find("img"), k = i[0].complete;
            if (k) {
                c(i, g)
            } else {
                i.off("load.adjustSize").one("load.adjustSize", function () {
                    var l = b(this);
                    c(l, g)
                })
            }
        })
    }

    function c(i, m) {
        i[0].style.width = null;
        i[0].style.height = null;
        var h = i.width() / i.height(), l = m.width(), g = m.height(), k = l / g, j, f;
        if (h < k) {
            f = g;
            j = h * f
        } else {
            j = l;
            f = j / h
        }
        i.css({width: j, height: f})
    }
}(Site, jQuery));
Site.removePhotoSmallPicMask = function (a) {
    $("#module" + a).find(".loadingImg").remove()
};
Site.loadPhotoSmallPicItem = function (e, d) {
    var g = {width: 100, height: 100};
    if (!e.attr("src")) {
        e.attr("src", Fai.transforThumbpath(e.attr("lzurl"), g))
    }
    var f = parseInt(e.attr("sWidth")), b = parseInt(e.attr("sHeight"));
    var a = f > b ? f : b;
    var c = f > b ? "width" : "height";
    if (a > 71) {
        if (d == "carouselPhotos") {
            if (a > 76) {
                e.css(c, 76);
                e.css("height", 60);
                e.css("width", 76)
            }
        } else {
            e.css(c, 71)
        }
    } else {
        e.css("width", f).css("height", b)
    }
    e.show()
};
Site.smallPicPhotoModuleFix = function (v, r) {
    var c = $("#" + v), y = c.find("div.photoSmallPicBox");
    var p = c.find(".photoSmallPicUpForms").height();
    var l = c.find(".photoSmallPicDownForms").height();
    c.find(".photoSmallPicForms").height(p + l);
    var x = c.find(".photoSmallPicForms").width();
    c.find(".photoSmallPicUpFormsMid").width(x);
    c.find(".photoSmallPicDownForms").width(x);
    c.find(".photoSmallPicUpForms").width(x);
    var m = c.find(".photoSmallPrePic_control").outerWidth(true);
    c.find(".photoSmallPicDownFormsMid").css("width", x - 2 * m - 20 + "px");
    var d = $(".photoSmallPicUpForms").width();
    var i = c.find(".photoSmallPrePicContainer");
    var a = $(".photoSmallPrePicOuter").outerWidth(true);
    var w = 0;
    if (Fai.isIE6()) {
        w = 2
    }
    i.width(a * y.length + w);
    var e = i.width();
    var b = c.find(".photoSmallPicDownFormsMid").width();
    var s = c.find(".photoSmallPicUpFormsMid").outerHeight() / 2 - 46;
    c.find(".photoSmallPic_control").css("top", s + "px");
    var u = y.length;
    var h = Math.floor(b / a) + 1;
    var t = u % h == 0 ? u / h : Math.floor(u / h) + 1;
    if (t == 1 && b < i.width()) {
        t = 2
    }
    var n = c.find(".photoSmallPicDownForms a.g_imgPrev"), o = c.find(".photoSmallPicDownForms a.g_imgNext"),
        f = c.find(".photoSmallPicUpForms a.photoSmallPicArrow_left"),
        g = c.find(".photoSmallPicUpForms a.photoSmallPicArrow_right");
    if (t == 1) {
        n.addClass("photoSmallPic-control-prev-disabled");
        o.addClass("photoSmallPic-control-next-disabled")
    }
    var k = y.length < h ? y.length : h;
    for (var q = 0; q < k; q++) {
        var z = $(y[q]).find("img");
        if (!z.attr("src")) {
            Site.loadPhotoSmallPicItem(z, r)
        }
    }
    c.find(".photoSmallPrePicSelected").click()
};
Site.loadPhotoList = function (b, e, f, j, g, h) {
    var c = $("#module" + b);
    if (Fai.isNull(c)) {
        return
    }
    var k = 0;
    if (g == "listPhotos" || g == "photoList") {
        f = 1
    }
    if (!f) {
        c.find(".photoForm").each(function () {
            var m = $(this).attr("faiWidth");
            var l = $(this).attr("faiHeight");
            if (Fai.isNull(l)) {
                return
            }
            var q = $(this).find(".imgDiv");
            var p = q.width();
            var n = q.height();
            var o = Fai.Img.calcSize(m, l, p, n, Fai.Img.MODE_SCALE_FILL);
            if (o.height > k) {
                k = o.height
            }
        })
    }
    if (j >= 4 && j < 6) {
        Site.clearImageEffectContent_photo("module" + b, "parametersDiv")
    }
    var i = c.find(".nameWordWrap");
    if (i.length > 0) {
        var a = 0;
        i.each(function () {
            var l = $(this).height();
            if (l > a) {
                a = l
            }
        });
        i.each(function () {
            $(this).height(a)
        })
    }
    var d = 0;
    c.find(".photoForm").each(function () {
        var u = $(this);
        var y = $(this).attr("faiHeight");
        if (Fai.isNull(y)) {
            return
        }
        var x = $(this).attr("faiWidth");
        var A = $(this).find(".imgDiv");
        var z = A.width();
        if (f) {
            k = A.height()
        }
        var w = {width: z, height: k};
        var q = A.find("img");
        var v = A.find(".J_photoImgPanel");
        if (e == 2) {
            var r = q.attr("iWidth");
            var l = q.attr("iHeight");
            var p = r / l;
            var m = z / k;
            A.css("height", k + "px");
            if (m <= p) {
                q.css("width", p * k + "px");
                q.css("height", k + "px");
                q.css("marginTop", "");
                q.css("marginLeft", ((z - p * k) / 2) + "px");
                v.css({width: z, height: k, position: "relative", overflow: "hidden"})
            } else {
                q.css("height", z / p + "px");
                q.css("width", z + "px");
                q.css("marginLeft", "");
                q.css("marginTop", ((k - z / p) / 2) + "px");
                v.css({width: z, height: k, position: "relative", overflow: "hidden"})
            }
        } else {
            if (typeof e == "number") {
                e = !!!e
            }
            if (e) {
                w = Fai.Img.calcSize(x, y, z, k, Fai.Img.MODE_SCALE_FILL)
            }
            if (v.length > 0 || A.length > 0) {
                v.css({
                    marginLeft: "",
                    marginTop: "",
                    width: w.width + "px",
                    height: w.height + "px",
                    position: "relative",
                    overflow: "hidden",
                    margin: "0 auto"
                });
                q.css("marginLeft", "").css("marginTop", "")
            }
            q.css("width", w.width + "px");
            q.css("height", w.height + "px");
            A.css("height", k + "px");
            var o = c.hasClass("formStyle27");
            if (o) {
                var n = $.isFunction(Site.getModuleAttrPattern);
                if (!f) {
                    var t = {};
                    if (h == 1) {
                        t = {width: 160, height: 160}
                    } else {
                        if (h == 3) {
                            t = {width: 290, height: 200};
                            u.css("margin-bottom", "20px")
                        } else {
                            if (h == 4) {
                                t = {width: 260, height: 200}
                            } else {
                                if (h == 5) {
                                    t = {width: 300, height: 210}
                                }
                            }
                        }
                    }
                    var w = Fai.Img.calcSize(x, y, t.width, t.height, Fai.Img.MODE_SCALE_FILL);
                    q.css("width", w.width + "px");
                    q.css("height", w.height + "px");
                    A.css(t);
                    u.css({width: t.width});
                    if (e === false) {
                        q.css(t)
                    }
                }
            }
        }
        $(this).find(".photoParameters").css("height", "auto");
        var s = $(this).height();
        if (s > d) {
            d = s
        }
    });
    c.find(".photoForm").css("height", d + "px");
    Site.switchJump()
};
Site.multiPhoto = function (n, m, e) {
    var f = false;
    var p = "leftIcon";
    var s = "rightIcon";
    var r = "horizontal";
    var b = false;
    var o = {};
    o = $.extend({}, o, e);
    if (o.leftIconID != null) {
        p = o.leftIconID
    }
    if (o.rightIconID != null) {
        s = o.rightIconID
    }
    if (o.direction != null) {
        r = o.direction
    }
    if (o.zoom != null) {
        b = o.zoom == "true" ? true : false
    }
    var h = n;
    var t = n.width();
    var c = n.height();
    var i = h.find("> ul");
    var d = h.find("li");
    var l = h.find("li .g_border");
    var a = d.outerWidth(true);
    var g = d.outerHeight(true);
    var k = d.length;
    var q = 0;
    if (r == "horizontal") {
        q = parseInt(t / a)
    } else {
        q = parseInt(c / g)
    }
    if (r == "horizontal") {
        if (Fai.isIE6()) {
            a++
        }
        var j = (a) * k;
        i.css("width", j + "px")
    } else {
        var u = g * k;
        i.css("height", u + "px")
    }
    if (n.hasClass("J_imgDivsStyle5")) {
        f = true
    }
    $("#" + p).mouseover(function () {
        if ((k >= q) && ((Math.abs(i.position().left) + h.width()) >= i.width())) {
            $(this).addClass("g_imgPrevHover")
        }
    }).mouseout(function () {
        $(this).removeClass("g_imgPrevHover")
    }).click(function () {
        if (i.position().left < 0 || i.position().top < 0) {
            if (i.is(":animated")) {
                return
            }
            if (r == "horizontal") {
                i.animate({left: (i.position().left + a) + "px"}, "slow")
            } else {
                if (r == "vertical") {
                    i.animate({top: (i.position().top + g) + "px"}, "slow")
                }
            }
            if (Math.abs(i.position().left) <= a) {
                $(this).addClass("g_imgPrevNotClick")
            }
            $("#" + s).removeClass("g_imgNextNotClick")
        }
    });
    $("#" + s).mouseover(function () {
        if ((k >= q) && ((Math.abs(i.position().left) + h.width()) <= i.width())) {
            $(this).addClass("g_imgNextHover")
        }
    }).mouseout(function () {
        $(this).removeClass("g_imgNextHover")
    }).click(function () {
        if (i.is(":animated")) {
            return
        }
        if (k >= q) {
            if (r == "horizontal") {
                if ((Math.abs(i.position().left) + h.width()) < i.width()) {
                    if ((Math.abs(i.position().left) + h.width() + a) >= i.width()) {
                        $(this).addClass("g_imgNextNotClick")
                    }
                    $("#" + p).removeClass("g_imgPrevNotClick");
                    i.animate({left: (i.position().left - a) + "px"}, "slow")
                } else {
                    $(this).removeClass("g_imgNextHover");
                    $(this).addClass("g_imgNextNotClick")
                }
            } else {
                if ((Math.abs(i.position().top) + h.height()) < i.height()) {
                    i.animate({top: (i.position().top - g) + "px"}, "slow")
                } else {
                    $(this).removeClass("g_imgNextHover");
                    $(this).addClass("g_imgNextNotClick")
                }
            }
        }
    });
    d.mouseover(function () {
        d.removeClass("g_borderHover");
        $(this).addClass("g_borderHover");
        if (f) {
            if (_manageMode && b) {
                Site.removeEditLayer(m, null, 106)
            }
            d.removeClass("fk-mainBorderColor");
            $(this).addClass("fk-mainBorderColor")
        }
        var v = $(this).find("a").attr("href");
        if (v == m.find("a").attr("href")) {
            return
        }
        m.find("a").attr("href", v);
        var B = $(this).attr("faiWidth");
        var E = $(this).attr("faiHeight");
        var C = m.width();
        var y = m.height();
        if (m.data("divWidth")) {
            C = m.data("divWidth")
        }
        if (m.data("divHeight")) {
            y = m.data("divHeight")
        }
        var D;
        if (f) {
            D = Fai.Img.calcSize(B, E, C, y, Fai.Img.MODE_SCALE_FILL)
        } else {
            D = Fai.Img.calcSize(B, E, C, y, Fai.Img.MODE_SCALE_DEFLATE_FILL)
        }
        var z = m.find("img");
        if (z.is(":animated")) {
            return
        }
        var x = m.find("td");
        var w = x.width();
        var F = x.height();
        var A = [];
        A.push("<div class='ProductDetailloadingImg' style='width:" + w + "px;height:" + F + "px;'>");
        A.push("<table cellspacing='0' cellpadding='0' class='ProductDetailloadingImgTable' style='width:" + w + "px;height:" + F + "px;'><tbody><tr><td class='ProductDetailloadingImgTd'>");
        A.push("<div class='ajaxLoading2' style='margin:0 auto;'></div>");
        A.push("</td></tr></tbody></table>");
        A.push("</div>");
        x.append(A.join(""));
        $(z).load(function () {
            $(".ProductDetailloadingImg").remove();
            $(".multiPhotoImgLoad").fadeOut("slow", function () {
                $(this).remove()
            })
        });
        setTimeout(function () {
            if (!$(z).load()) {
                var G = $("<div class='multiPhotoImgLoad'></div>");
                if (m.find(".multiPhotoImgLoad").length == 0) {
                    G.appendTo(m)
                }
            }
        }, 1000);
        z.css("width", D.width + "px");
        z.css("height", D.height + "px");
        z.attr("src", v);
        m.attr("faiHref", v);
        if (b) {
            m.find(".cloud-zoom").data("zoom").destroy();
            m.find(".cloud-zoom").CloudZoom({imageWidth: B, imageHeight: E})
        }
    }).mouseleave(function () {
    })
};
Site.createImageEffectContent_photo = function (j, l, c, p) {
    var f = $(j).parents("." + c.targetParent);
    var k = $(j).find(".imageEffects");
    var d = $(f).attr("photoName");
    var m = $(f).attr("photoDisc");
    d = Fai.encodeHtml(d);
    m = Fai.encodeHtml(m);
    var i = l[Site.ImageEffect.DATA.KEY.FULL_MASK_OPEN_DISC];
    var n = l[Site.ImageEffect.DATA.KEY.HALF_MASK_OPEN_DISC];
    var o = c.nameHidden;
    if (o && !i && !n) {
        return
    }
    g();
    h(l, c.nameWordWrap);

    function g() {
        var s = [];
        var q = l.effType;
        var r = "";
        if (q == 4) {
            r = "photoFullMask"
        } else {
            if (q == 5) {
                r = "photoHalfMask"
            }
        }
        s.push("<div class='props " + r + "'>");
        s.push("<div class='propList g_specialClass'>");
        if (!o) {
            s.push("<div class='photoName g_specialClass'>" + d + "</div>")
        }
        if (i && m.length > 0 && q == 4) {
            s.push("<div class='photoDisc'>" + m + "</div>")
        }
        if (n && m.length > 0 && q == 5) {
            s.push("<div class='photoDisc'>" + m + "</div>")
        }
        s.push("</div>");
        s.push("</div>");
        $(k).append(s.join(""))
    }

    function h(w, q) {
        var u = $(k).find(".photoName");
        var z = $(k).find(".photoDisc");
        var A = 3;
        if (u.length != 0 && !o) {
            e(w, q);
            Site.clamp($(u)[0], {clamp: A})
        }
        if (z.length != 0 && w.effType == 4 && i) {
            b(w);
            Site.clamp($(z)[0], {clamp: A});
            setTimeout(function () {
                var C = $(k).height();
                var E = $(k).find(".props").height();
                if (E > C && !o) {
                    var B = $(z).height();
                    var D = E - C;
                    A = (B) - D + "px";
                    Site.clamp($(z)[0], {clamp: A})
                }
            }, 100)
        }
        if (w.effType == 4) {
            var s = k.parent().find(".J_photoImg");
            if (s.attr("picsca") === "2") {
                var v = s.css("margin-top");
                if (v.replace("px", "") !== "0") {
                    k.css("margin-top", v)
                }
            }
        }
        if (w.effType == 5) {
            var r = $(k).height() / 3;
            var y = $(k).find(".props");
            var x = $(y).height() + 10;
            var t = r;
            a(w);
            if (x > r) {
                t = x
            }
            $(k).css("height", t).css("bottom", "-" + t + "px")
        }
    }

    function e(u, v) {
        var r = $(k).find(".photoName");
        var t = "";
        $(r).removeAttr("style");
        if (u.effType == 4) {
            var s = u[Site.ImageEffect.DATA.KEY.FULL_MASK_CUS_NAME];
            var w = u[Site.ImageEffect.DATA.KEY.FULL_MASK_NAME_ALIG];
            var q = u[Site.ImageEffect.DATA.KEY.FULL_MASK_NAME_STYLE];
            if (s && typeof q == "string" && q.length > 0) {
                q = $.parseJSON(q);
                t += "color: " + q.fc + ";";
                t += (q.fb == 1) ? " font-weight: bold;" : ""
            }
            if (typeof w == "number") {
                t += " text-align:" + ((w == 1) ? "center;" : (w == 2) ? "left;" : "right;")
            }
        }
        if (v) {
            if (l.effType == 4) {
                t += " word-wrap: break-word;"
            } else {
                t += " overflow: visible; text-overflow: clip; white-space: normal; word-wrap: break-word;"
            }
        } else {
            t += " overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"
        }
        $(r).attr("style", t)
    }

    function b(w) {
        var q = $(k).find(".photoDisc");
        var v = "";
        var s = w[Site.ImageEffect.DATA.KEY.FULL_MASK_CUS_DISC];
        var r = w[Site.ImageEffect.DATA.KEY.FULL_MASK_DISC_STYLE];
        var u = w[Site.ImageEffect.DATA.KEY.FULL_MASK_DISC_ALIG];
        $(q).removeAttr("style");
        if (s && typeof r == "string" && r.length > 0) {
            r = $.parseJSON(r);
            v += " color: " + r.fc + ";"
        }
        if (typeof u == "number") {
            v += " text-align:" + ((u == 1) ? "center;" : (u == 2) ? "left;" : "right;")
        }
        if (!o) {
            var t = (Fai.isIE6() || Fai.isIE7()) ? 16 : 18;
            v += " margin-top: " + t + "px;"
        }
        $(q).attr("style", v)
    }

    function a(v) {
        var s = $(k).find(".photoDisc");
        var u = "";
        var t = v[Site.ImageEffect.DATA.KEY.HALF_MASK_CUS_DISC];
        var w = v[Site.ImageEffect.DATA.KEY.HALF_MASK_DISC_STYLE];
        var r = v[Site.ImageEffect.DATA.KEY.HALF_MASK_DISC_ALIG];
        var q = v[Site.ImageEffect.DATA.KEY.HALF_MASK_OPEN_DISC];
        if (!q) {
            return
        }
        if (t && typeof w == "string" && w.length > 0) {
            w = $.parseJSON(w);
            u += " color: " + w.fc + ";"
        }
        if (typeof r == "number") {
            u += " text-align:" + ((r == 1) ? "center;" : (r == 2) ? "left;" : "right;")
        }
        $(s).attr("style", u)
    }
};
Site.clearImageEffectContent_photo = function (b, a) {
    $("#" + b).find("." + a).remove()
};
Site.bindImageEffectCusEvent_photo = function (g, c) {
    var f = $(g).find(".imageEffects");
    var a = true;
    var e = $(g).parents("." + c.targetParent).find("a");
    var d = $(e).attr("href");
    var b = (typeof d == "undefined" || d.length == 0 || d.indexOf("javascirpt") > 0 || d.indexOf("return") > 0 || e.length == 0) ? false : true;
    if (!b) {
        a = false
    }
    if (a) {
        $(f).css("cursor", "pointer")
    } else {
        $(f).css("cursor", "default")
    }
    $(f).unbind("click").bind("click", function () {
        var l = $(this).parents("." + c.targetParent).find("a");
        if (Fai.isNull(l)) {
            return
        }
        var i = $(l).attr("href");
        var h = $(l).attr("onclick");
        var j = $(l).attr("target");
        var k = (typeof i == "undefined" || i.length == 0 || i.indexOf("javascirpt") > 0 || i.indexOf("return") > 0 || e.length == 0) ? false : true;
        if (typeof h != "undefined") {
            $(l).click()
        } else {
            if (k) {
                window.open(i, j)
            }
        }
    })
};
Site.formMiddleContentWidthArray = new Array();
Site.loadPhotoGroup = function (g, f, e, a, b) {
    var c = $("#module" + g);
    if (Fai.isNull(c)) {
        return
    }
    var d = 0;
    c.find(".photoForm").css("height", "auto").each(function () {
        var j = $(this), h = j.attr("faiHeight"), i = j.attr("faiWidth");
        if (Fai.isNull(h)) {
            return
        }
        var o = j.find(".imgDiv"), n = o.width(), m = o.height();
        j.css("width", n + "px");
        var l = f ? Fai.Img.calcSize(i, h, n, m, Fai.Img.MODE_SCALE_FILL) : {width: n, height: m};
        o.find("img").css({width: l.width, height: l.height});
        j.find(".photoParameters").css("height", "auto");
        var k = j.height();
        d = k > d ? k : d
    }).css("height", d + "px");
    Site.photoGroupImageEffect.bind(c)
};
Site.initPhotoGroupSelect = function (c, e) {
    var a = Fai.top.location.hash;
    var d = e.style;
    if (a.length < 2) {
        return
    }
    if (Fai.getHashParam(a, "_php") && d == 27) {
        var f = Site.decodeQsToUrl(Fai.getHashParam(a, "_php"), "_php", e);
        var b = Fai.getHashParam(f, "groupId");
        Fai.top.$("#module" + c).find("table").find("[groupid=" + b + "]").addClass("g_selected")
    }
};
(function (b, e, d) {
    e(window).load(f);
    b.photoGroupImageEffect = e.extend({}, b.photoGroupImageEffect, {bind: g});

    function f() {
        var h = e(".formStyle27", e("#web")), i = "mousemove.bindImaEff";
        if (h.length === 0) {
            return
        }
        h.each(function (k, l) {
            var m = e(l), j = (m.find(".J_photoImg").length > 0);
            if (!j) {
                return
            }
            m.off(i).one(i, function () {
                g(e(this), true)
            })
        })
    }

    function g(k, i) {
        var j = b.photoGroupImageEffect, h = k.find(".J_photoImg").length > 0;
        if (!c(k)) {
            return
        }
        if (!h) {
            return
        }
        if (i) {
            setTimeout(function () {
                a(j, k)
            })
        } else {
            a(j, k)
        }
    }

    function a(k, l) {
        var i = l.find(".imgDiv"), j = "mouseenter.imageEffect", h = "mouseleave.imageEffect";
        k.init(l);
        i.off(j).off(h);
        i.on(j, function (m) {
            k.use(l, e(this).parent())
        }).on(h, function (m) {
            k.unUse(l, e(this).parent())
        })
    }

    function c(h) {
        return h.hasClass("formStyle27")
    }
}(Site, jQuery));
(function (c, f, e) {
    c.photoGroupImageEffect = f.extend({}, c.photoGroupImageEffect, {use: a, unUse: d, init: i, fix: g, refresh: h});

    function i(k, j) {
        b("init", arguments)
    }

    function a(k, j) {
        b("use", arguments)
    }

    function d(k, j) {
        b("unUse", arguments)
    }

    function g(k, j) {
        b("fix", arguments)
    }

    function h(k, j) {
        b("refresh", arguments)
    }

    function b(m, j) {
        var l = c.photoGroupImageEffect.getImageEffect(j[0]), k;
        if (f.isPlainObject(l)) {
            k = l[m]
        }
        if (f.isFunction(k)) {
            k.apply(l, j)
        }
    }
}(Site, jQuery));
(function (c, e, d) {
    c.photoGroupImageEffect = e.extend({}, c.photoGroupImageEffect, {
        adjustImgEffSize: i,
        adjustModuleImgEffSize: a,
        getImageEffect: f,
        wrapModuleImage: b,
        computeWrapImageSize: g
    });

    function a(k, j) {
        k.find(".photoForm").each(function (l, m) {
            i(e(m))
        })
    }

    function i(m) {
        var j = m.find("img"), o = m.find(".imageEffects"), p = m.find(".imgDiv"), n = 1, k = j.width(), r = j.height(),
            l = j.position().left, q = j.position().top;
        k = k - n * 2;
        r = r - n * 2;
        o.css({left: l, top: q, width: k, height: r})
    }

    function f(m) {
        var k = m.find(".J_photoForms").attr("_imgefftype"), n = c.photoGroupImageEffect, l = function () {
        }, j = {
            1: {},
            2: n.border,
            3: n.magnifier,
            4: n.textDescFull,
            5: n.textDescHalf,
            6: n.imgScale,
            7: n.bgTranslate,
            8: n.photoReplace
        };
        return j[k]
    }

    function b(k, j) {
        k.find(".photoForm").each(function (l, m) {
            h(e(m))
        })
    }

    function h(m) {
        var p = e('<div class="J_tmpImgWrap"></div>'), o = m.find(".imgDiv"), j = m.find("img"),
            q = (j.parent().hasClass(".J_tmpImgWrap") > 1), k = j.width(), r = j.height(), l, n;
        if (q) {
            return
        }
        p.css({position: "relative", width: k, height: r, display: "inline-block"});
        if (k === o.width() && r === o.height()) {
            l = true
        } else {
            l = false
        }
        n = {initImgRatio: k / r, isImgFull: l};
        p.data("wrapData", n);
        j.wrap(p)
    }

    function g(p) {
        var j = p.find("img"), s = p.find(".J_tmpImgWrap"), n = s.data("wrapData"), q = p.width(), m = p.height(),
            l = q / m, o = n.initImgRatio, k, r;
        if (n.isImgFull) {
            k = q;
            r = m
        } else {
            if (o > l) {
                k = q;
                r = k / o
            } else {
                r = m;
                k = r * o
            }
        }
        return {width: k, height: r}
    }
}(Site, jQuery));
(function (b, c, e) {
    b.photoGroupImageEffect = c.extend({}, b.photoGroupImageEffect, {border: {init: d, fix: a}});

    function d(h) {
        var g, f;
        h.find(".imageEffects").remove();
        h.removeData("imageEffectData");
        h.find(".photoForm").each(function (r, n) {
            var l = c(n), i = l.find(".photoImg"), j = i.parent(), q = (j.find(".imageEffects").length > 0),
                m = "solid #000 1px", s = 0, o = "absolute", t = 0, k, p;
            if (q) {
                return
            }
            p = c(Site.ImageEffect.DATA.imageEffectHtml);
            j.append(p);
            if (i.width() < j.width()) {
                k = j.width() - i.width();
                k /= 2
            }
            p.css({border: m, opacity: s, position: o, top: t, left: k})
        });
        g = {effType: 2, imgShapeType: 1};
        f = {moduleId: h.attr("_moduleid"), imgEffOption: g, tagetOption: {target: "imgDiv"}};
        h.data("imageEffectData", f);
        b.ImageEffect.FUNC.BASIC.Init(f)
    }

    function a(g, f) {
        b.photoGroupImageEffect.adjustModuleImgEffSize(g, f)
    }
}(Site, jQuery));
(function (b, d, c) {
    b.photoGroupImageEffect = d.extend({}, b.photoGroupImageEffect, {magnifier: {init: e, fix: a}});

    function e(f) {
        f.find(".imageEffects").remove();
        b.ImageEffect.FUNC.BASIC.Init({
            moduleId: f.attr("_moduleid"),
            imgEffOption: {effType: 3, borderType: false},
            tagetOption: {target: "imgDiv a"}
        })
    }

    function a(g, f) {
        b.photoGroupImageEffect.adjustModuleImgEffSize(g, f)
    }
}(Site, jQuery));
(function (b, f, h) {
    b.photoGroupImageEffect = f.extend({}, b.photoGroupImageEffect, {textDescFull: {use: c, init: g, fix: a}});

    function g(i) {
        i.find(".imageEffects").remove();
        b.ImageEffect.FUNC.BASIC.Init({
            moduleId: i.attr("_moduleid"),
            imgEffOption: {effType: 4, borderType: false},
            tagetOption: {target: "imgDiv a"}
        });
        i.find(".imageEffects").css("zIndex", 1);
        i.find(".J_photoForm").each(function (k, m) {
            var j = f(m);
            var l = j.find(".imageEffects");
            var n = j.attr("_photogroupdesc");
            d(l, n)
        })
    }

    function c(i) {
        e(i)
    }

    function a(j, i) {
        b.photoGroupImageEffect.adjustModuleImgEffSize(j, i);
        e(j)
    }

    function e(i) {
        i.find(".imgDiv").each(function (j, m) {
            var o = f(m);
            var k = o.find(".imageEffects");
            var l = o.find(".J_desc");
            var n = o.find(".propList");
            n.css({padding: "0 7.5%", position: "absolute", top: (k.height() - n.height()) / 2, left: 0})
        })
    }

    function d(k, j) {
        if (k.find(".J_mask").length > 0) {
            return
        }
        var i = f(['<div class="props photoFullMask J_mask">', '<div class="propList g_specialClass">', '<div class="photoName g_specialClass" style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; -webkit-box-orient: vertical; display: -webkit-box; -webkit-line-clamp: 3;"></div>', '<div class="photoDisc J_desc" style="max-height:48px;text-align: center;overflow: hidden; text-overflow: ellipsis; -webkit-box-orient: vertical; display: -webkit-box; -webkit-line-clamp: 3;">' + (j || "") + "</div>", "</div>", "</div>"].join(""));
        i.css("overflow", "hidden");
        k.append(i)
    }
}(Site, jQuery));
(function (b, e, g) {
    b.photoGroupImageEffect = e.extend({}, b.photoGroupImageEffect, {textDescHalf: {use: c, init: f, fix: a}});

    function f(h) {
        h.find(".imageEffects").remove();
        b.ImageEffect.FUNC.BASIC.Init({
            moduleId: h.attr("_moduleid"),
            imgEffOption: {effType: 5, borderType: false},
            tagetOption: {target: "imgDiv a"}
        });
        h.find(".imageEffects").css("zIndex", 1);
        h.find(".J_photoForm").each(function (j, l) {
            var i = e(l);
            var k = i.find(".imageEffects");
            var m = i.attr("_photogroupdesc");
            d(k);
            k.find(".J_desc").text(m)
        });
        a(h)
    }

    function c(l, h) {
        var n = h.find(".imgDiv");
        var k = h.find(".imageEffects");
        var j = h.find("img");
        var m = j.position().left;
        var i = k.position().left;
        if (m !== i) {
            k.css("left", 0)
        }
    }

    function d(j, i) {
        if (j.find(".J_mask").length > 0) {
            return
        }
        var h = e(['<div class="props photoHalfMask J_mask">', '<div class="propList g_specialClass">', '<div class="photoName g_specialClass" style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; -webkit-box-orient: vertical; display: -webkit-box; -webkit-line-clamp: 3;"></div>', '<div class="photoDisc J_desc" style=" text-align:center;">' + (i || "") + "</div>", "</div>", "</div>"].join(""));
        j.append(h)
    }

    function a(h) {
        h.find(".imgDiv").each(function (i, m) {
            var o = e(m);
            var k = o.find(".imageEffects");
            var j = o.find("img"), l = j.width(), n = j.offset().left - o.offset().left;
            k.css({width: l, left: n})
        })
    }
}(Site, jQuery));
(function (a, c, e) {
    a.photoGroupImageEffect = c.extend({}, a.photoGroupImageEffect, {imgScale: {init: d, refresh: b}});

    function d(g) {
        g.find(".imageEffects").remove();
        a.ImageEffect.FUNC.BASIC.Init({
            moduleId: g.attr("_moduleid"),
            imgEffOption: {effType: 6, borderType: false},
            tagetOption: {target: "imgDiv a", picScale: 2}
        });
        a.photoGroupImageEffect.wrapModuleImage(g)
    }

    function b(k, h, i) {
        var j = i.width, g = i.height, l = a.photoGroupImageEffect.computeWrapImageSize;
        if (!c.isFunction(l)) {
            return
        }
        if (!j || !g) {
            return
        }
        k.find(".imgDiv").each(function (o, s) {
            var t = c(s);
            var q = l(t);
            var n = t.find(".J_tmpImgWrap");
            var p = t.find("img");
            var r = q.width;
            var m = q.height;
            n.css({width: r, height: m});
            p.attr("_initwidth", r);
            p.attr("_initheight", m);
            p.css({width: r, height: m, margin: 0})
        })
    }

    function f(m) {
        var g = m.find("img"), p = m.find(".J_tmpImgWrap"), k = p.data("wrapData"), n = m.width(), j = m.height(),
            i = n / j, l = k.initImgRatio, h, o;
        if (k.isImgFull) {
            h = n;
            o = j
        } else {
            if (l > i) {
                h = n;
                o = h / l
            } else {
                o = j;
                h = o * l
            }
        }
        return {width: h, height: o}
    }
}(Site, jQuery));
(function (a, c, e) {
    a.photoGroupImageEffect = c.extend({}, a.photoGroupImageEffect, {bgTranslate: {init: d, refresh: b}});

    function d(f) {
        f.find(".imageEffects").remove();
        f.find(".imgDiv").each(function (g, i) {
            var k = c(i);
            var j = k.find("a");
            var h = j.attr("style") || {};
            j.data("initW", h.width);
            j.data("initH", h.height);
            j.css({width: j.width(), height: j.height()})
        });
        a.ImageEffect.FUNC.BASIC.Init({
            moduleId: f.attr("_moduleid"),
            imgEffOption: {effType: 7, borderType: false},
            tagetOption: {target: "imgDiv a"}
        });
        a.photoGroupImageEffect.wrapModuleImage(f)
    }

    function b(j, g, h) {
        var i = h.width, f = h.height, k = a.photoGroupImageEffect.computeWrapImageSize;
        if (!c.isFunction(k)) {
            return
        }
        if (!i || !f) {
            return
        }
        j.find(".imgDiv").each(function (n, r) {
            var s = c(r), p = k(s), m = p.width, q = p.height, l = s.find(".J_tmpImgWrap"), o = s.find("img");
            l.parent().css({width: m, height: q});
            l.css({width: m, height: q});
            o.css({width: m + 10, height: q})
        })
    }
}(Site, jQuery));
(function (c, f, e) {
    c.photoGroupImageEffect = f.extend({}, c.photoGroupImageEffect, {photoReplace: {init: g, use: a, unUes: d}});

    function g(k) {
        k.find(".imageEffects").remove();
        var j = k.find(".J_photoForm");
        j.each(function (p, r) {
            var o = f(r), q = o.find(".J_photoImg"), s = o.find(".J_imgDiv"), n = q.attr("_iehoverphotosrc");
            var m = f('<div class="imageEffect J_hovIE"><img class="J_hovImg"></div>');
            var l = m.find(".J_hovImg");
            m.css({
                width: q.width(),
                height: q.height(),
                position: "absolute",
                left: q.offset().left - s.offset().left,
                top: q.offset().top - s.offset().top
            });
            l.css({width: "100%", height: "100%"});
            l.attr("src", n);
            m.hide();
            m.insertAfter(q)
        });
        c.ImageEffect.FUNC.BASIC.Init({
            moduleId: k.attr("_moduleid"),
            imgEffOption: {effType: 8, borderType: false},
            tagetOption: {target: "imgDiv a"}
        })
    }

    function a(l, j) {
        var k = {$photoForm: j};
        j.find(".J_photoImg").parent().off("mouseleave.useie").off("mouseenter.useie").off("mousemove.useie").one("mousemove.useie", k, i).on("mouseenter.useie", k, i).on("mouseleave.useie", k, b);
        h(l)
    }

    function d(k, j) {
        j.find(".J_photoImg").off("mouseleave.useie").off("mouseenter.useie")
    }

    function h(k) {
        var j = k.find(".J_photoForm");
        j.each(function (o, q) {
            var n = f(q), p = n.find(".J_photoImg"), r = n.find(".J_imgDiv"), m = n.find(".J_hovIE"),
                l = m.find(".J_hovImg");
            m.css({
                width: p.width(),
                height: p.height(),
                position: "absolute",
                left: p.offset().left - r.offset().left,
                top: p.offset().top - r.offset().top
            })
        })
    }

    function i(o) {
        var l = o.data.$photoForm, m = l.find(".J_photoImg"), k = l.find(".J_hovIE"), j = l.find(".J_hovImg"),
            n = (j.length > 0 && m.attr("_iehoverphotosrc"));
        if (n) {
            j.attr("src", j.attr("_hovImg"));
            k.css({width: m.width(), height: m.height(), opacity: 0});
            k.show();
            k.stop().animate({opacity: 1}, 300)
        }
    }

    function b(o) {
        var l = o.data.$photoForm, m = l.find(".J_photoImg"), k = l.find(".J_hovIE"), j = l.find(".J_hovImg"),
            n = (j.length > 0 && m.attr("_iehoverphotosrc"));
        if (n) {
            j.attr("src", j.attr("_hovImg"));
            k.stop().animate({opacity: 0}, 300, function () {
                f(this).hide()
            })
        }
    }
}(Site, jQuery));
Site.initModuleDate = function () {
    var a = ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"],
        c = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], d, e, b;
    return {
        init: function (f, g) {
            d = f, e = g;
            b = $("#module" + d + "Date");
            this.start()
        }, start: function () {
            this.go();
            if (e == 2 || e == 3 || e == 5 || e == 7 || e == 8) {
                setInterval(this.go, 8001)
            }
        }, go: function () {
            var n = new Date(), l = n.getFullYear(), i = n.getMonth() + 1, p = n.getDate(), o = n.getDay(), f = a[o],
                j = c[o], k = n.getHours() + "", g = n.getMinutes() + "", q = "";
            if (k.length == 1) {
                k = "0" + k
            }
            if (g.length == 1) {
                g = "0" + g
            }
            if (e == 1) {
                q = l + "年" + i + "月" + p + "日 " + f
            } else {
                if (e == 2) {
                    q = l + "年" + i + "月" + p + "日 " + k + ":" + g
                } else {
                    if (e == 3) {
                        q = l + "年" + i + "月" + p + "日 " + f + " " + k + ":" + g
                    } else {
                        if (e == 4) {
                            q = l + "-" + i + "-" + p
                        } else {
                            if (e == 5) {
                                q = l + "-" + i + "-" + p + " " + k + ":" + g
                            } else {
                                if (e == 6) {
                                    q = i + "/" + p + "/" + l + " " + j
                                } else {
                                    if (e == 7) {
                                        q = i + "/" + p + "/" + l + " " + k + ":" + g
                                    } else {
                                        q = i + "/" + p + "/" + l + " " + j + " " + k + ":" + g
                                    }
                                }
                            }
                        }
                    }
                }
            }
            b.text(q)
        }
    }
}();
(function (a) {
    jQuery.fn.extend({
        bannerImageSwitch: function (j) {
            if (typeof Fai == "undefined") {
                alert("must import fai.js");
                return
            }
            var b = a.extend({
                title: true,
                desc: false,
                btn: true,
                repeat: "no-repeat",
                position: "50% 50%",
                titleSize: 14,
                titleFont: "Verdana,宋体",
                titleColor: "#FFF",
                titleTop: 4,
                titleLeft: 4,
                descSize: 12,
                descFont: "Verdana,宋体",
                descColor: "#FFF",
                descTop: 2,
                descLeft: 4,
                btnWidth: 15,
                btnHeight: 15,
                btnMargin: 4,
                btnType: 1,
                playTime: 4000,
                animateTime: 1500,
                animateStyle: "o",
                index: 0,
                wideScreen: false,
                btnFunc: function () {
                }
            }, j);
            var h = {
                0: {name: "arrow", classes: "arrowImg", switchType: "Slide"},
                1: {name: "Num", classes: "numImg", switchType: "Fade"},
                2: {name: "Dot", classes: "dotImg", switchType: "Fade"},
                3: {name: "Box", classes: "boxImg", switchType: "Fade"},
                4: {name: "NoColorArrow", classes: "arrowImg", switchType: "Slide"},
                5: {name: "RightColorArrow", classes: "arrowImg", switchType: "Slide"},
                6: {name: "AdsorptionRound", classes: "adsorptionRoundImg", switchType: "Fade"},
                7: {name: "BottomRound", classes: "bottomRoundImg", switchType: "Fade"},
                8: {name: "BottomPhoto", classes: "bottomPhotoImg", switchType: "Fade"}
            };
            var d = h[b.btnType].switchType === "Slide";
            var i = h[b.btnType].switchType === "Fade";
            var f = h[b.btnType].name;
            var e = (function () {
                var k = {};
                var m = "arrow Num Dot Box NoColorArrow RightColorArrow AdsorptionRound BottomRound BottomPhoto".split(" ");
                for (var l = 0; l < m.length; l++) {
                    k["is" + m[l]] = (function (n) {
                        return function (o) {
                            return o === n
                        }
                    })(m[l])
                }
                return k
            })();

            function c(m, r, s, q, n, k, o) {
                if (e.isNum(f)) {
                    m = a('<a class="imageSwitchBtn" />').appendTo(r).html("<span>" + (s + 1) + "</span>");
                    if (s === q) {
                        m.addClass("imageSwitchBtnSel")
                    }
                } else {
                    if (e.isDot(f)) {
                        m = a('<a class="imageSwitchBtn_dot" />').appendTo(r);
                        if (s === q) {
                            m.addClass("imageSwitchBtnSel_dot")
                        }
                    } else {
                        if (e.isBox(f)) {
                            m = a('<a class="fk_imageSwitchBtn_box"><div class="f_box_height"></div></a>').appendTo(r);
                            if (s === q) {
                                m.addClass("fk_imageSwitchBtnSel_box")
                            }
                        } else {
                            if (e.isAdsorptionRound(f)) {
                                if (s === 0) {
                                    a('<div class="fk_adsorptionRound_current"></div>').appendTo(r)
                                }
                                m = a('<a class="fk_imageSwitchBtn_adsorptionRound"><span class="fk_adsorptionRound_num">' + (s + 1) + "</span></a>").appendTo(r);
                                if (s === q) {
                                    if (!Site.checkBrowser()) {
                                        m.addClass("fk_imageSwitchBtn_ar_current")
                                    }
                                    m.find(".fk_adsorptionRound_num").addClass("fk_adsorptionRound_num_current")
                                }
                                if (s === n - 1) {
                                    var p = "";
                                    p = '<svg style="height: 0;" xmlns="http://www.w3.org/2000/svg" version="1.1" width="740"><defs><filter id="AR"><feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur"></feGaussianBlur><feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 15 -5" result="AR"></feColorMatrix><feBlend in="SourceGraphic" in2="AR" /></filter></defs></svg>';
                                    a(p).appendTo(r)
                                }
                            } else {
                                if (e.isBottomRound(f)) {
                                    m = a('<a class="fk_imageSwitchBtn_bottomRound"></a>').appendTo(r);
                                    if (s < n - 1) {
                                        m.after('<div class="fk_imageSwitchBtn_line"><div class="f-animal J_bottomRoundlinear"></div></div>')
                                    }
                                    if (s === q) {
                                        m.addClass("fk_imageSwitchBtnSel_bottomRound")
                                    }
                                } else {
                                    if (e.isBottomPhoto(f)) {
                                        if (s === 0 && n > o) {
                                            a('<div class="fk_imageSwitchBtn_bottomPhoto_prev clearFix" ><div class="f-icon_prev"></div></div>').appendTo(r)
                                        }
                                        m = a('<a class="fk_imageSwitchBtn_bottomPhoto"></a>').appendTo(r);
                                        var l = a(k.join("")).find(".J_bannerItem").clone();
                                        l.css("background-size", "cover");
                                        l.attr("onclick", "return false");
                                        l[0].innerHTML = "";
                                        m.append(l);
                                        if (s === n - 1 && n > o) {
                                            a('<div class="fk_imageSwitchBtn_bottomPhoto_next clearFix"><div class="f-icon_next"></div></div>').appendTo(r)
                                        }
                                        if (s === q) {
                                            m.addClass("fk_imageSwitchBtnSel_bottomPhoto")
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                return m
            }

            function g(n, t, s, k, u, p, q, r, l, w, m) {
                if (n > 1) {
                    if (!d) {
                        if (Fai.top.$("#" + t).length) {
                            if (e.isNum(f)) {
                                if (s >= k) {
                                    r.css("right", "40px")
                                } else {
                                    r.css("right", "50%");
                                    r.css("marginRight", "-" + s / 2 + "px")
                                }
                                r.css("top", (p - r.height() - 6) + "px")
                            } else {
                                if (e.isDot(f) || e.isBox(f) || e.isAdsorptionRound(f) || e.isBottomRound(f) || e.isBottomPhoto(f)) {
                                    if (e.isAdsorptionRound(f)) {
                                        r.css({bottom: "24px", width: "740px", filter: "url(#AR)"});
                                        var v = r.find("a").eq(m).position().left;
                                        if (Site.checkBrowser()) {
                                            a(".fk_adsorptionRound_current").css("transform", "translate3d(" + v + "px, 0px, 0px) scale(1.5, 1.5)")
                                        } else {
                                            a(".fk_adsorptionRound_current").hide()
                                        }
                                    }
                                    r.css("marginLeft", "-" + r.width() / 2 + "px");
                                    r.css("left", "50%");
                                    if (e.isDot(f)) {
                                        r.css("bottom", "5px")
                                    }
                                    if (e.isBox(f) || e.isBottomPhoto(f)) {
                                        r.css("bottom", "40px")
                                    }
                                    if (e.isBottomRound(f)) {
                                        var o = k - s;
                                        if (s <= k) {
                                            o = o - o * 0.5
                                        } else {
                                            o = 40
                                        }
                                        l.css({left: o, top: "50%", marginTop: "-" + l.height() / 2 + "px"});
                                        w.css({right: o, top: "50%", marginTop: "-" + w.height() / 2 + "px"});
                                        r.css({
                                            bottom: 0,
                                            background: "rgba(255, 255, 255, .7)",
                                            height: "30px",
                                            padding: "0 20px 12px"
                                        })
                                    }
                                }
                            }
                        } else {
                            r.css("left", (u - q) + "px")
                        }
                    } else {
                        var o = k - s;
                        if (s <= k) {
                            o = o - o * 0.5
                        } else {
                            o = 40
                        }
                        if (e.isRightColorArrow(f)) {
                            l.css({right: o, top: "50%", marginTop: "-" + l.height() + "px"});
                            w.css({right: o, top: "50%"})
                        } else {
                            l.css("top", "50%");
                            l.css("marginTop", "-" + l.height() / 2 + "px");
                            w.css("top", "50%");
                            w.css("marginTop", "-" + w.height() / 2 + "px");
                            l.css({left: o, top: "50%", marginTop: "-" + l.height() / 2 + "px"});
                            w.css({right: o, top: "50%", marginTop: "-" + w.height() / 2 + "px"})
                        }
                    }
                }
            }

            return a(this).each(function () {
                var p = a(this);
                var ac = b.width || p.width();
                var at = b.height || p.height();
                var ao = b.data.length;
                var aq = b.index;
                var o = ac < p.width() ? ac : p.width();
                var ad = p.width();
                var k = Fai.top._useBannerVersionTwo ? true : false;
                var v = k ? Fai.top._bannerV2Data : Fai.top._bannerData;
                var K = (Site.checkBrowser() && v.at > 0) ? true : false;
                var A = 1000;
                var U = 8;
                var Q = Site.getWebBackgroundData();
                var al = (b.width <= p.width()) ? b.width : "100%";
                var s = k ? "bannerV2" : "banner";
                var y = false;
                var N = false;
                var ai;
                var W;
                var ax;
                var Z;
                var u = 4;
                if (k) {
                    N = v.bla == 0 ? true : false;
                    y = (v.blw.t == 1 && N) ? true : false;
                    if (v.blw.t === 2) {
                        ai = b.width
                    } else {
                        var ab = Fai.top.$("#webContainer").width();
                        if (v.blw.t === 0) {
                            if (!Fai.top._wideBanner) {
                                var Y = Fai.top.$("#webBanner").width();
                                ai = Y
                            } else {
                                ai = ab
                            }
                        }
                        if (v.blw.t === 1) {
                            ai = ab
                        }
                    }
                } else {
                    y = Q.wbs ? true : false
                }
                if (y) {
                    var ag = Fai.top._manageMode ? Fai.getScrollWidth() : 0;
                    at = (at >= A) ? A : at;
                    var B, O = false;
                    if ((Fai.top.$(".g_web").width() + ag) > a(window).width()) {
                        B = Fai.top.$(".g_web").width() + ag
                    } else {
                        B = a(window).width();
                        O = true
                    }
                    ad = ad > (B - ag) ? B - ag : ad;
                    al = ad;
                    o = ad;
                    if (Fai.top._wideBanner && O) {
                        Fai.top.$("#g_main").width("auto");
                        Fai.top.$("#web").width("auto")
                    }
                }
                if (ad < 960) {
                    u = 3
                }
                p.css("overflow", "hidden");
                p.height(at);
                var aw = a('<div class="imageSwitchShowName" />').appendTo(p);
                if (ao == 0) {
                    aw.css("visibility", "hidden")
                }
                var ak = "none";
                if (b.data.length > 1) {
                    ak = b.btn ? "block" : "none"
                }
                if (i) {
                    var ay = a('<div class="imageSwitchBtnArea clearFix"/>').appendTo(p).css("position", "absolute").css("zIndex", 3).css("display", ak)
                }
                a("<div />").appendTo(p);
                var av = "";
                if (K) {
                    av = "billboard billboard" + v.at
                }
                var x = a('<div class="switchGroup switchGroup_' + s + " " + av + '"/>').appendTo(p).css("width", al).css("position", "relative").height("y,show-y".indexOf(b.animateStyle) != -1 ? at * ao : at).css("overflow", "hidden").css("margin", "0 auto");
                if (b.wideScreen) {
                    x.css("width", "100%")
                }
                var aB = 0;
                var I = "100%";
                if (d) {
                    b.animateStyle = "x"
                }
                var ar = [];
                var aC = "";
                var J = "";
                var q = "";
                var r = "";
                var S = "";
                var z = "";
                aC = h[b.btnType].classes;
                a.each(b.data, function (aF, aI) {
                    var aE = "";
                    var aH = "";
                    var aD = "";
                    S = "";
                    z = "";
                    if (a.trim(aI.edgeLeft) != "") {
                        S = "background:" + aI.edgeLeft + ";"
                    }
                    if (a.trim(aI.edgeRight) != "") {
                        z = "background:" + aI.edgeRight + ";"
                    }
                    if (!aI.href) {
                        aE = "onclick='return false;'"
                    }
                    if (aI.onclick) {
                        aE = 'onclick="' + Fai.decodeHtml(aI.onclick) + '"'
                    }
                    ar = [];
                    J = "";
                    J += "position:absolute;width:100%;";
                    if (d) {
                        if (b.wideScreen || y) {
                            J += "left:" + ((aF - aq) * ad) + "px;"
                        } else {
                            J += "left:" + ((aF - aq) * b.width) + "px;"
                        }
                    }
                    if (K) {
                        ar.push("<div class='J_billboardItem billboard_item " + aC + "'>\n")
                    } else {
                        ar.push("<div class='J_billboardItem " + aC + "' id='" + aC + aF + "' style='" + J + "'>\n")
                    }
                    q = "";
                    q += "width:100%;";
                    q += "height:" + at + "px;";
                    q += "cursor:" + (aI.href ? "pointer" : "default") + ";";
                    q += "background-position:" + b.position + ";";
                    q += "background-repeat:" + b.repeat + ";";
                    q += "overflow:hidden;";
                    q += "display:block;";
                    q += "outline:none;";
                    q += "margin:0 auto;";
                    q += "position:relative;";
                    q += "z-index:1;";
                    if (y || N) {
                        q += "background-size:cover;"
                    }
                    if (aI.width && aI.width > 0) {
                        r = ("<img src='" + aI.src + "' width='" + aI.width + "' height='" + aI.height + "' />\n")
                    } else {
                        r = "";
                        q += "background-image:url(" + aI.src + ");"
                    }
                    if (b.wideScreen && !k) {
                        ar.push("<a class='J_bannerEdge J_bannerEdgeLeft bannerEdge bannerEdgeLeft' hidefocus='true' title='" + (aI.tip ? aI.tip : "") + "' href='" + (aI.href ? Fai.encodeHtml(aI.href) : "javascript:;") + "' target='" + (aI.target ? aI.target : "") + "' " + aE + " style='" + S + "'></a>");
                        ar.push("<a class='J_bannerEdge J_bannerEdgeRight bannerEdge bannerEdgeRight' hidefocus='true' title='" + (aI.tip ? aI.tip : "") + "' href='" + (aI.href ? Fai.encodeHtml(aI.href) : "javascript:;") + "' target='" + (aI.target ? aI.target : "") + "' " + aE + " style='" + z + "'></a>")
                    }
                    if (aI.href) {
                        ar.push("<a class='J_bannerItem f-bannerItem' hidefocus='true' title='" + (aI.tip ? aI.tip : "") + "' href='" + Fai.encodeHtml(aI.href) + "' target='" + (aI.ot == 1 ? "_blank" : "") + "' style='" + q + "' " + aE + ">\n")
                    } else {
                        ar.push("<div class='J_bannerItem f-bannerItem' title='" + (aI.tip ? aI.tip : "") + "' style='" + q + "'>\n")
                    }
                    ar.push(r);
                    if (k) {
                        ar.push("<div id='fk-inBannerListZone-" + aF + "' _sys='1' _banId=" + aI.i + " style='text-align: left;' class='elemZone elemZoneModule fk-moduleZone fk-inBannerListZone forms sideForms J_moduleZone '>\n");
                        ar.push("<div class='fk-inBannerListZoneBg fk-elemZoneBg J_zoneContentBg elemZoneBg'></div>\n");
                        ar.push("</div>\n")
                    }
                    if (aI.href) {
                        ar.push("</a>\n")
                    } else {
                        ar.push("</div>\n")
                    }
                    ar.push("</div>\n");
                    x.append(ar.join(""));
                    if (k) {
                        Fai.top.Fai.setCtrlStyleCssList("styleWebSite", "", [{
                            cls: "#bannerV2 .fk-inBannerListZone",
                            key: "width",
                            value: ai + "px"
                        }, {cls: "#bannerV2 .fk-inBannerListZone", key: "margin-left", value: "-" + ai / 2 + "px"}]);
                        var aG = Fai.top.$(".fk-inBannerListZone-tmp").find(".form");
                        aG.each(function (aJ, aK) {
                            if (a(this).parent().hasClass("fk-inBannerListZone-tmp")) {
                                if (a(this).attr("_banid") === aI.i && parseInt(a(this).attr("_sys")) === 1) {
                                    a("#fk-inBannerListZone-" + aF).append(a(this))
                                }
                            }
                        });
                        if (Fai.top._manageMode) {
                            jzUtils.run({name: "_elemZone.sortModuleZone", base: Fai.top})
                        }
                        Site.bannerV2.stopBannerPropagation()
                    }
                    if (aF == aq) {
                        aD = "spanShowName"
                    }
                    a('<span class="spanHiddenName ' + aD + '"/>').appendTo(aw);
                    W = c(W, ay, aF, aq, ao, ar, u);
                    if (e.isNum(f)) {
                        aB += Fai.getDivWidth(W)
                    }
                });
                if (ao > 1) {
                    var au = {};
                    au.position = "absolute";
                    au.zIndex = 3;
                    if (e.isarrow(f)) {
                        Z = a('<a class="imageSwitchBtn_arrow arrow_prev" />').appendTo(p).css(au);
                        ax = a('<a class="imageSwitchBtn_arrow arrow_next" />').appendTo(p).css(au)
                    } else {
                        if (e.isNoColorArrow(f)) {
                            Z = a('<a class="fk_noColorArrowsImg fk_noColorArrowsImg_prev" />').appendTo(p).css(au);
                            ax = a('<a class="fk_noColorArrowsImg fk_noColorArrowsImg_next" />').appendTo(p).css(au)
                        } else {
                            if (e.isRightColorArrow(f)) {
                                Z = a('<a class="fk_rightColorArrowsImg fk_rightColorArrowsImg_prev"><div class="f-icon_prev"></div><div class="f-horizontal-line"></div></a>').appendTo(p).css(au);
                                ax = a('<a class="fk_rightColorArrowsImg fk_rightColorArrowsImg_next"><div class="f-icon_next"></div></a>').appendTo(p).css(au)
                            } else {
                                if (e.isBottomRound(f)) {
                                    Z = a('<a class="fk_bottomRoundImg fk_bottomRoundImg_prev"><div class="f-background-prev"></div></a>').appendTo(p).css(au);
                                    ax = a('<a class="fk_bottomRoundImg fk_bottomRoundImg_next"><div class="f-background-next"></div></a>').appendTo(p).css(au)
                                } else {
                                    if (e.isBottomPhoto(f)) {
                                        ay.children("a").wrapAll('<div class="fk_imageSwitchPanel"><div class="fk_imageSwitchReal"></div></div>');
                                        var aj = ay.find(".fk_imageSwitchBtn_bottomPhoto");
                                        var l = ay.find(".fk_imageSwitchPanel");
                                        var R = ay.find(".fk_imageSwitchReal");
                                        var aA = +aj.css("marginRight").replace("px", "");
                                        var aa = Math.ceil(ao / u);
                                        var C = ao % u;
                                        var ap = aj.outerWidth(true) * (ao < u ? ao : u);
                                        var F = aj.outerHeight(true);
                                        l.width(ap - aA);
                                        l.height(F);
                                        R.width(ap * aa);
                                        R.height(F);
                                        if (Fai.isIE6()) {
                                            l.parent().width(ap + 60)
                                        }
                                        R.attr("index", 0)
                                    }
                                }
                            }
                        }
                    }
                }
                if (e.isNum(f)) {
                    ay.width(aB)
                }
                var V = aw.children("span");
                var w = p.parent();
                var L = w.width();
                if (a.browser.msie && a.browser.version == 6) {
                    L = w.parent().width()
                }
                var an = w.height();
                if (L > b.width) {
                    L = b.width + (L - b.width) / 2
                }
                if (L > p.width()) {
                    L = p.width()
                }
                if (an > at) {
                    an = at
                }
                g(ao, s, ac, p.width(), L, an, aB, ay, Z, ax, aq);
                if (i) {
                    var ah = ay.children("a");
                    var P = x.find(".J_bannerItem");
                    if (e.isBottomRound(f)) {
                        var m = ax;
                        var T = Z
                    } else {
                        if (e.isBottomPhoto(f) && ao > 1) {
                            ah = R.children("a")
                        }
                    }
                } else {
                    var m = ax;
                    var T = Z
                }
                if ("o, show, none".indexOf(b.animateStyle) != -1) {
                    P.each(function (aD, aE) {
                        if (aq != aD) {
                            if (!K) {
                                a(this).hide()
                            }
                            if (b.wideScreen) {
                                a(this).siblings(".J_bannerEdge").hide()
                            }
                        }
                    })
                }

                function n() {
                    if (k) {
                        jzUtils.run({name: "moduleAnimation.publish", base: Fai.top.Site});
                        jzUtils.run({name: "moduleAnimation.contentAnimationPublish", base: Fai.top.Site})
                    }
                }

                function am() {
                    if (e.isBottomRound(f)) {
                        m.on("click", function () {
                            if (P.is(":animated") || Site.bannerAnimate.animating) {
                                return
                            }
                            var aD = aq;
                            if (K) {
                                Site.bannerAnimate.stop()
                            } else {
                                P.eq(aD).fadeOut(b.animateTime, "failinear", function () {
                                    Site.triggerGobalEvent("site_BannerV2Switch");
                                    n()
                                });
                                ah.eq(aD).removeClass("fk_imageSwitchBtnSel_bottomRound")
                            }
                            if (aD == ao - 1) {
                                aD = -1
                            }
                            ++aD;
                            if (K) {
                                Site.bannerAnimate.goTo(aD)
                            } else {
                                P.eq(aD).fadeIn(b.animateTime, "failinear", function () {
                                    Site.triggerGobalEvent("site_BannerV2Switch");
                                    n()
                                });
                                ah.eq(aD).addClass("fk_imageSwitchBtnSel_bottomRound")
                            }
                            aq = aD
                        });
                        T.on("click", function () {
                            if (P.is(":animated") || Site.bannerAnimate.animating) {
                                return
                            }
                            var aD = aq;
                            if (K) {
                                Site.bannerAnimate.stop()
                            } else {
                                P.eq(aD).fadeOut(b.animateTime, "failinear", function () {
                                    Site.triggerGobalEvent("site_BannerV2Switch");
                                    n()
                                });
                                ah.eq(aD).removeClass("fk_imageSwitchBtnSel_bottomRound")
                            }
                            if (aD == 0) {
                                aD = ao
                            }
                            --aD;
                            if (K) {
                                Site.bannerAnimate.goTo(aD)
                            } else {
                                P.eq(aD).fadeIn(b.animateTime, "failinear", function () {
                                    Site.triggerGobalEvent("site_BannerV2Switch");
                                    n()
                                });
                                ah.eq(aD).addClass("fk_imageSwitchBtnSel_bottomRound")
                            }
                            aq = aD
                        })
                    }
                }

                function M() {
                    if (e.isBottomPhoto(f)) {
                        var aE = ay.find(".fk_imageSwitchBtn_bottomPhoto_prev");
                        var aD = ay.find(".fk_imageSwitchBtn_bottomPhoto_next");
                        if (aq < u) {
                            aD.addClass("fk_imageSwitchBtn_bottomPhoto_next_active")
                        }
                        aE.on("click", function () {
                            var aF = parseInt(R.attr("index"));
                            if (!a(this).hasClass("fk_imageSwitchBtn_bottomPhoto_next_active")) {
                                return
                            }
                            if (aF === aa - 1 && aa === 2) {
                                aD.addClass("fk_imageSwitchBtn_bottomPhoto_next_active");
                                a(this).removeClass("fk_imageSwitchBtn_bottomPhoto_next_active")
                            } else {
                                if (aF === aa - 2) {
                                    a(this).removeClass("fk_imageSwitchBtn_bottomPhoto_next_active");
                                    aD.addClass("fk_imageSwitchBtn_bottomPhoto_next_active")
                                } else {
                                    aD.addClass("fk_imageSwitchBtn_bottomPhoto_next_active")
                                }
                            }
                            R.attr("index", --aF);
                            R.animate({marginLeft: -ap * aF}, 1000)
                        });
                        aD.on("click", function () {
                            var aG = parseInt(R.attr("index"));
                            var aF = (u - C) * aj.outerWidth(true);
                            var aH;
                            if (!a(this).hasClass("fk_imageSwitchBtn_bottomPhoto_next_active")) {
                                return
                            }
                            if (aG === 0 && aG === aa - 2) {
                                aE.addClass("fk_imageSwitchBtn_bottomPhoto_next_active");
                                a(this).removeClass("fk_imageSwitchBtn_bottomPhoto_next_active")
                            } else {
                                if (aG === aa - 2) {
                                    a(this).removeClass("fk_imageSwitchBtn_bottomPhoto_next_active");
                                    aE.addClass("fk_imageSwitchBtn_bottomPhoto_next_active")
                                } else {
                                    aE.addClass("fk_imageSwitchBtn_bottomPhoto_next_active")
                                }
                            }
                            R.attr("index", ++aG);
                            if (aG === aa - 1 && C !== 0) {
                                aH = ap * aG - aF
                            } else {
                                aH = ap * aG
                            }
                            R.animate({marginLeft: -aH}, 1000)
                        })
                    }
                }

                function E(aJ, aD) {
                    var aG = ay.find(".fk_imageSwitchBtn_bottomPhoto_prev");
                    var aE = ay.find(".fk_imageSwitchBtn_bottomPhoto_next");
                    var aI = parseInt(R.attr("index"));
                    var aF = Math.floor(aJ / u);
                    var aK;
                    if (aF - aI === 1) {
                        aE.click()
                    } else {
                        if (aF - aI === -1 && (aJ + 1 > aD - C || C === 0)) {
                            aG.click()
                        } else {
                            if (aI - aF > 1) {
                                R.animate({marginLeft: 0}, 1000);
                                aG.removeClass("fk_imageSwitchBtn_bottomPhoto_next_active");
                                aE.addClass("fk_imageSwitchBtn_bottomPhoto_next_active");
                                R.attr("index", 0)
                            } else {
                                if (aF - aI > 1) {
                                    var aH = (aa - C) * aj.outerWidth(true);
                                    if (aF === aa - 1) {
                                        aK = ap * 2 - aH
                                    } else {
                                        aK = ap * 2
                                    }
                                    R.animate({marginLeft: -aK}, 1000);
                                    aE.removeClass("fk_imageSwitchBtn_bottomPhoto_next_active");
                                    aG.addClass("fk_imageSwitchBtn_bottomPhoto_next_active");
                                    R.attr("index", 2)
                                }
                            }
                        }
                    }
                }

                if (ao == 1) {
                    V.eq(0).addClass("spanShowName")
                }
                if (ao > 1) {
                    if (K) {
                        Site.bannerAnimate.init({
                            container: Fai.top.$("#" + s + " .switchGroup_" + s + ""),
                            effectIndex: v.at,
                            currentIndex: b.index,
                            speed: v.a,
                            duration: v.i,
                            _isBannerV2: k
                        });
                        if (i) {
                            ah.click(function (aE) {
                                aE.stopPropagation();
                                var aD = ah.index(this);
                                Site.bannerAnimate.stop();
                                Site.bannerAnimate.goTo(aD);
                                aq = aD
                            });
                            am();
                            M()
                        } else {
                            if (d) {
                                m.click(function (aD) {
                                    aD.stopPropagation();
                                    Site.bannerAnimate.next()
                                });
                                m.hover(function () {
                                    m.addClass(h[b.btnType].name + "_next_hover")
                                }, function () {
                                    m.removeClass(h[b.btnType].name + "_next_hover")
                                });
                                T.click(function (aD) {
                                    aD.stopPropagation();
                                    Site.bannerAnimate.prev()
                                });
                                T.hover(function () {
                                    T.addClass(h[b.btnType].name + "_prev_hover")
                                }, function () {
                                    T.removeClass(h[b.btnType].name + "_prev_hover")
                                })
                            }
                        }
                        p.mouseover(function () {
                            Site.bannerAnimate.stop()
                        });
                        p.mouseout(function () {
                            Site.bannerAnimate.autoPlay()
                        })
                    } else {
                        if (i) {
                            var ae = false;
                            am();
                            M();
                            ah.click(function (aH) {
                                if (P.is(":animated")) {
                                    return
                                }
                                aH.stopPropagation();
                                var aF = ah.index(this);
                                if (aF == aq) {
                                    return
                                }
                                V.eq(aq).removeClass("spanShowName");
                                V.eq(aF).addClass("spanShowName");
                                if (e.isNum(f)) {
                                    ah.eq(aq).removeClass("imageSwitchBtnSel");
                                    ah.eq(aF).addClass("imageSwitchBtnSel")
                                } else {
                                    if (e.isBox(f)) {
                                        ah.eq(aq).removeClass("fk_imageSwitchBtnSel_box");
                                        ah.eq(aF).addClass("fk_imageSwitchBtnSel_box")
                                    } else {
                                        if (e.isAdsorptionRound(f)) {
                                            ah.eq(aq).find(".fk_adsorptionRound_num").removeClass("fk_adsorptionRound_num_current");
                                            ah.eq(aF).find(".fk_adsorptionRound_num").addClass("fk_adsorptionRound_num_current");
                                            if (!Site.checkBrowser()) {
                                                ah.eq(aq).removeClass("fk_imageSwitchBtn_ar_current");
                                                ah.eq(aF).addClass("fk_imageSwitchBtn_ar_current")
                                            }
                                            var aD = a(".fk_adsorptionRound_current");
                                            var aE = ah.eq(aq).position().left;
                                            var aG = ah.eq(aF).position().left;
                                            aD.animate({a: aG}, {
                                                step: function (aJ, aK) {
                                                    aK.start = aE;
                                                    if (aJ > aK.start && aK.start < aG || (aJ < aK.start && aK.start > aG)) {
                                                        aD.css("transform", "translate3d(" + aJ + "px, 0px, 0px) scale(1.5, 1.5")
                                                    }
                                                }, duration: 600
                                            })
                                        } else {
                                            if (e.isBottomRound(f)) {
                                                ah.eq(aq).removeClass("fk_imageSwitchBtnSel_bottomRound");
                                                if (ae) {
                                                    ay.find(".J_bottomRoundlinear").eq(aq).addClass("f-animal-linear").css({
                                                        "transition-duration": "transform " + b.animateTime / 1000 + "s linear",
                                                        "-webkit-transition": "-webkit-transform " + b.animateTime / 1000 + "s linear"
                                                    })
                                                } else {
                                                    ah.eq(aF).addClass("fk_imageSwitchBtnSel_bottomRound")
                                                }
                                            } else {
                                                if (e.isBottomPhoto(f)) {
                                                    ah.eq(aq).removeClass("fk_imageSwitchBtnSel_bottomPhoto");
                                                    ah.eq(aF).addClass("fk_imageSwitchBtnSel_bottomPhoto");
                                                    E(aF, ao)
                                                } else {
                                                    ah.eq(aq).removeClass("imageSwitchBtnSel_dot");
                                                    ah.eq(aF).addClass("imageSwitchBtnSel_dot")
                                                }
                                            }
                                        }
                                    }
                                }
                                switch (b.animateStyle) {
                                    case"o":
                                        P.eq(aq).fadeOut(b.animateTime, "failinear", function () {
                                            Site.triggerGobalEvent("site_BannerV2Switch");
                                            n()
                                        });
                                        P.eq(aF).fadeIn(b.animateTime, "failinear", function () {
                                            Site.triggerGobalEvent("site_BannerV2Switch");
                                            n();
                                            if (e.isBottomRound(f) && ae) {
                                                ay.find(".J_bottomRoundlinear").removeClass("f-animal-linear").css({
                                                    "transition-duration": "",
                                                    "-webkit-transition": ""
                                                });
                                                ah.eq(aF).addClass("fk_imageSwitchBtnSel_bottomRound");
                                                ae = false
                                            }
                                        });
                                        if (b.wideScreen) {
                                            P.eq(aq).siblings().fadeOut(b.animateTime, "failinear");
                                            P.eq(aF).siblings().fadeIn(b.animateTime, "failinear")
                                        }
                                        break;
                                    case"x":
                                        x.animate({marginLeft: -aF * ac}, b.animateTime);
                                        break;
                                    case"y":
                                        x.animate({marginTop: -aF * at}, b.animateTime);
                                        break;
                                    case"show":
                                    case"show-x":
                                    case"show-y":
                                        P.eq(aq).hide(b.animateTime);
                                        P.eq(aF).show(b.animateTime);
                                        break;
                                    case"none":
                                        P.eq(aq).hide();
                                        P.eq(aF).show();
                                        if (b.wideScreen) {
                                            P.eq(aq).siblings().hide();
                                            P.eq(aF).siblings().show()
                                        }
                                        break
                                }
                                aq = aF;
                                var aI = Fai.top.$("#bannerGetHref");
                                if (aI) {
                                    aI.css({
                                        width: b.data[aF].imgWidth,
                                        left: (p.width() - b.data[aF].imgWidth) / 2 + "px"
                                    });
                                    aI.css({
                                        height: b.data[aF].imgHeight,
                                        top: (p.height() - b.data[aF].imgHeight) / 2 + "px"
                                    })
                                }
                            });

                            function H() {
                                ae = true;
                                ah.eq((aq + 1) % ao).click()
                            }
                        } else {
                            if (d) {
                                var G = aq;
                                V.eq(G).addClass("spanShowName");

                                function D(aE) {
                                    aE.stopPropagation();
                                    if (Fai.top.$(".arrowImg").is(":animated")) {
                                        return
                                    }
                                    V.eq(G).removeClass("spanShowName");
                                    if (G == ao - 1) {
                                        G = -1
                                    }
                                    ++G;
                                    V.eq(G).addClass("spanShowName");
                                    var aD = o;
                                    if (b.wideScreen) {
                                        aD = ad
                                    }
                                    a(function () {
                                        aD = Fai.top.$(".arrowImg").width();
                                        Fai.top.$(".arrowImg").css({display: "block"});
                                        Fai.top.$("#arrowImg" + G).css({left: aD + "px"});
                                        Fai.top.$(".arrowImg").animate({left: "-=" + aD + "px"}, b.animateTime, function () {
                                            Site.triggerGobalEvent("site_BannerV2Switch");
                                            n();
                                            Fai.top.$(".arrowImg").css({display: "none"});
                                            Fai.top.$("#arrowImg" + G).css({display: "block"})
                                        });
                                        var aF = Fai.top.$("#bannerGetHref");
                                        if (aF) {
                                            aF.css({
                                                width: b.data[G].imgWidth,
                                                left: (p.width() - b.data[G].imgWidth) / 2 + "px"
                                            });
                                            aF.css({
                                                height: b.data[G].imgHeight,
                                                top: (p.height() - b.data[G].imgHeight) / 2 + "px"
                                            })
                                        }
                                    })
                                }

                                m.on("click", D);
                                m.hover(function () {
                                    m.addClass(h[b.btnType].name + "_next_hover")
                                }, function () {
                                    m.removeClass(h[b.btnType].name + "_next_hover")
                                });

                                function t(aE) {
                                    aE.stopPropagation();
                                    if (Fai.top.$(".arrowImg").is(":animated")) {
                                        return
                                    }
                                    V.eq(G).removeClass("spanShowName");
                                    if (G == 0) {
                                        G = ao
                                    }
                                    var aD = o;
                                    if (b.wideScreen) {
                                        aD = ad
                                    }
                                    a(function () {
                                        aD = Fai.top.$(".arrowImg").width();
                                        --G;
                                        V.eq(G).addClass("spanShowName");
                                        Fai.top.$(".arrowImg").css({display: "block"});
                                        Fai.top.$("#arrowImg" + G).css({left: "-" + aD + "px"});
                                        Fai.top.$(".arrowImg").animate({left: "+=" + aD + "px"}, b.animateTime, function () {
                                            Site.triggerGobalEvent("site_BannerV2Switch");
                                            n();
                                            Fai.top.$(".arrowImg").css({display: "none"});
                                            Fai.top.$("#arrowImg" + G).css({display: "block"})
                                        });
                                        var aF = Fai.top.$("#bannerGetHref");
                                        if (aF) {
                                            aF.css({
                                                width: b.data[G].imgWidth,
                                                left: (p.width() - b.data[G].imgWidth) / 2 + "px"
                                            });
                                            aF.css({
                                                height: b.data[G].imgHeight,
                                                top: (p.height() - b.data[G].imgHeight) / 2 + "px"
                                            })
                                        }
                                    })
                                }

                                T.on("click", t);
                                T.hover(function () {
                                    T.addClass(h[b.btnType].name + "_prev_hover")
                                }, function () {
                                    T.removeClass(h[b.btnType].name + "_prev_hover")
                                });

                                function X() {
                                    m.click()
                                }
                            }
                        }
                        var az = "imageSwitch" + Math.random() + "banner";
                        if (b.btnType != 0 && b.btnType != 4) {
                            Fai.addInterval(az, H, parseInt(b.playTime + b.animateTime))
                        } else {
                            Fai.addInterval(az, X, parseInt(b.playTime + b.animateTime))
                        }
                        var af = setTimeout(function () {
                            if (i) {
                                H()
                            } else {
                                if (d) {
                                    X()
                                }
                            }
                            Fai.startInterval(az)
                        }, b.playTime);
                        if (typeof b.mouseoverId != "undefined") {
                            a(Fai.top.$(p).find("." + b.mouseoverId)[0]).mouseover(function () {
                                af && clearTimeout(af);
                                Fai.stopInterval(az)
                            });
                            a(Fai.top.$(p).find("." + b.mouseoverId)[0]).mouseout(function () {
                                af && clearTimeout(af);
                                Fai.startInterval(az)
                            })
                        } else {
                            p.mouseover(function () {
                                af && clearTimeout(af);
                                Fai.stopInterval(az)
                            });
                            p.mouseout(function () {
                                af && clearTimeout(af);
                                Fai.startInterval(az)
                            })
                        }
                    }
                }
            })
        }
    })
})(jQuery);
Site.initBanner = function (v, e, g) {
    if (Fai.top._uiMode) {
        return
    }
    var o = false;
    var a = Fai.top.$("#webBanner");
    var c = Fai.top.$("#banner");
    var x = Site.getWebBackgroundData();
    var u = x.wbs ? true : false;
    if (Fai.top._templateLayout == 0 || Fai.top._templateLayout == 1 || Fai.top._templateLayout == 9 || Fai.top._templateLayout == 10) {
        var p = Fai.top._manageMode ? Site.getWebBackgroundData().wbh : Fai.top._webBannerHeight;
        if (p > -1) {
            v.height = p;
            if (c.siblings(".nav, #navV2Wrap").length > 0) {
                var q = c.attr("normalheight");
                if (q == -1) {
                    q = c.css("height").replace("px", "")
                }
                var s = c.siblings(".nav, #navV2Wrap").height() || 0;
                if (p > -1) {
                    v.height = a.height() - s;
                    if (a.height() < (parseInt(q) + parseInt(s))) {
                        o = true
                    }
                }
                if (c.attr("normalheight") == -1 && o) {
                    c.css({height: v.height + "px"})
                }
            }
        }
    }
    if (v._open) {
        if (e._open && Fai.flashChecker().f) {
            v.mouseoverId = "bannerGetHref"
        } else {
            v.mouseoverId = "switchGroup"
        }
        c.children().remove();
        c.bannerImageSwitch(v);
        var r = c.width();
        var b = c.height();
        var i = Fai.top._manageMode ? Fai.getScrollWidth() : 0;
        var n = Fai.top.$(window).width() > Fai.top.$("#web").width() ? Fai.top.$(window).width() : Fai.top.$("#web").width();
        if (o) {
            b = v.height
        }
        if (u) {
            r = Fai.top.$("#webBanner").width();
            r = (r > n) ? n - i : r;
            b = Fai.top.$("#webBanner").height()
        }
        var d = (Fai.top.$("#containerFormsCenter").find("div").eq(0).attr("id"));
        var l = Fai.top.$("#banner .switchGroup");
        Fai.top.$("#banner .switchGroup .J_bannerItem").each(function (A) {
            if (!v.data[A]) {
                return false
            }
            var z = v.data[A] ? v.data[A].imgWidth : 0;
            if (r >= z && !u) {
                $(this).css("width", v.data[A].imgWidth);
                var y = l.width() - v.data[A].imgWidth;
                if (Fai.isIE()) {
                    y = y + (y % 2)
                }
                $(this).siblings(".J_bannerEdge").css("width", y / 2)
            } else {
                $(this).css("width", r);
                var y = l.width() - r;
                if (Fai.isIE()) {
                    y = y + (y % 2)
                }
                $(this).siblings(".J_bannerEdge").css("width", y / 2)
            }
            if (b >= v.data[A].imgHeight && !u) {
                if (Site.checkBrowser() && Fai.top._bannerData.at > 0) {
                    $(this).css("height", b)
                } else {
                    $(this).css("height", v.data[A].imgHeight);
                    $(this).parent().css("paddingTop", (b - v.data[A].imgHeight) / 2 + "px")
                }
                $(this).siblings(".J_bannerEdge").height(v.data[A].imgHeight);
                $(this).siblings(".J_bannerEdge").css("top", (b - v.data[A].imgHeight) / 2 + "px")
            } else {
                $(this).css("height", b);
                $(this).siblings(".J_bannerEdge").height(b)
            }
        });
        c.css("background", "none")
    } else {
        Site.refreshDefaultBannerEdge()
    }
    if (e._open && Fai.flashChecker().f) {
        if ($.browser.mozilla && $.browser.version == "49.0") {
            return
        }
        var h = 0;
        var w = 0;
        var f = Fai.top.$("#banner").width();
        if (f > 960) {
            f = 960;
            h = parseInt((Fai.top.$("#webBanner").width() - 960) / 2)
        }
        var j = Fai.top.$("#banner").height();
        if (e.position == 1) {
            f = f / 2
        } else {
            if (e.position == 2) {
                f = f / 2;
                h += f
            } else {
                if (e.position == 3) {
                    h += e.positionLeft;
                    w = e.positionTop
                }
            }
        }
        if (typeof Fai != "undefined" && typeof Fai.top._resRoot != "undefined") {
            resRoot = Fai.top._resRoot
        }
        if (typeof e.color1 == "undefined") {
            e.color1 = "#000"
        }
        if (typeof e.color2 == "undefined") {
            e.color2 = "#FFFFFF"
        }
        var t = "text1=" + Fai.encodeUrl(e.text1) + "&text2=" + Fai.encodeUrl(e.text2) + "&size1=" + e.size1 + "&size2=" + e.size2 + "&color1=0x" + e.color1.substr(1, e.color1.length - 1) + "&color2=0x" + e.color2.substr(1, e.color2.length - 1) + "&style1=" + e.style1 + "&style2=" + e.style2;
        var m = ['<div class="effectShow" id="effectShow" style="position:absolute; top:' + w + "px; left:" + h + 'px; z-index:1;">', '<object id="effectShow_swf" type="application/x-shockwave-flash"  data="' + Fai.top._resRoot + "/image/site/effects/" + e.type + ".swf?" + $.md5(t) + '" width="' + f + '" height="' + j + '">', '<param name="movie" value="' + Fai.top._resRoot + "/image/site/effects/" + e.type + ".swf?" + $.md5(t) + '"/>', '<param name="quality" value="high" />', '<param name="wmode" value="transparent" />', '<param name="flashvars" value="' + t + '"/>', '<embed id="effectShowEmbed" name="effectShow_swf" type="application/x-shockwave-flash" classid="clsid:d27cdb6e-ae6d-11cf-96b8-4445535400000" src="', Fai.top._resRoot, "/image/site/effects/" + e.type + ".swf?" + $.md5(t) + '" wmode="transparent" quality="high" menu="false" play="true" loop="true" width="', f, '" height="', j, 'flashvars="' + t + '"', '" >', "</embed>", "</object>", "</div>"];
        m = m.join("");
        if (g == 4) {
            var k = '<div id="bannerGetHref" class="bannerGetHref" style="position:absolute; top:0; left:' + h + "px; width:" + f + "px; height:100%; z-index:1; background:url('" + resRoot + '/image/site/transpace.png\');" onmouseover="Site.bannerInitHref();"  onmouseout="Site.startBannerInterval();" onclick="Site.bannerGetHref();"></div>';
            m = m + k
        }
        c.append(m);
        var b = c.height();
        var r = c.width();
        if (v.data && v.data.length > 0) {
            Fai.top.$("#bannerGetHref").css({
                width: v.data[0].imgWidth,
                height: v.data[0].imgHeight,
                left: (r - v.data[0].imgWidth) / 2 + "px",
                top: (b - v.data[0].imgHeight) / 2 + "px"
            })
        }
    }
    if (v._open && $(".webBanner").width() != 960) {
        $(window).resize(function (y) {
            if (!y.target.nodeType || y.target.nodeType == 9) {
                setTimeout(function () {
                    Site.refreshBanner(0)
                }, 500)
            }
        })
    }
    Site.adjustBannerFlash()
};
Site.adjustBannerWidth = (function () {
    function b() {
        var i = Fai.top.$(window), f = Fai.top.$("#webBanner"), e = Fai.top.$("#web");
        webBgData = Site.getWebBackgroundData();
        if (f.length < 1 || Fai.top._useBannerVersionTwo) {
            return
        }
        if (webBgData.wbw != -1) {
            var d = Fai.top._manageMode ? Fai.getScrollWidth() : 0,
                h = (parseInt(f.css("borderLeftWidth").replace("px", "")) + parseInt(f.css("borderRightWidth").replace("px", ""))) || 0,
                g = webBgData.wbw + h, c = e.width();
            if (c - d < g && c < g) {
                a(c - h)
            }
            i.off("resize.banner");
            i.on("resize.banner", function () {
                if (Fai.top._isTemplateVersion2 && webBgData.wbws == 2) {
                } else {
                    c = e.width();
                    if (i.width() - d < g && c < g) {
                        a(c - h)
                    } else {
                        a(webBgData.wbw)
                    }
                }
            })
        } else {
            i.off("resize.banner")
        }
    }

    function a(c) {
        Fai.top.Fai.setCtrlStyleCss("styleWebSite", "", ".webBanner", "width", c + "px !important");
        Fai.top.Fai.setCtrlStyleCss("styleWebSite", "", ".webBanner .banner", "width", "auto !important");
        Fai.top.Fai.setCtrlStyleCss("styleWebSite", "", ".webBanner .switchGroup", "width", c + "px")
    }

    return b
})();
Site.startBannerInterval = function () {
    var a = 0;
    if (Fai.intervalFunc != undefined) {
        a = Fai.intervalFunc.length
    }
    if (a > 0) {
        var b = Fai.intervalFunc[0].id;
        if (typeof b != "undefined" && b.substring(0, 11) == "imageSwitch") {
            Fai.startInterval(b)
        }
    }
    if (Fai.top._bannerData.n && Fai.top._bannerData.n.length > 1 && Site.checkBrowser() && Fai.top._bannerData.at > 0) {
        Site.bannerAnimate.autoPlay()
    }
};
Site.stopBannerInterval = function () {
    var a = 0;
    if (Fai.intervalFunc != undefined) {
        a = Fai.intervalFunc.length
    }
    if (a > 0) {
        var b = Fai.intervalFunc[0].id;
        if (typeof b != "undefined" && b.substring(0, 11) == "imageSwitch") {
            Fai.stopInterval(b)
        }
    }
    if (Fai.top._bannerData.n && Fai.top._bannerData.n.length > 1 && Site.checkBrowser() && Fai.top._bannerData.at > 0) {
        Site.bannerAnimate.stop()
    }
};
Site.bannerInitHref = function () {
    Site.stopBannerInterval();
    var c = false;
    var a = Fai.top.$("#banner");
    var b = -1;
    a.find(".spanHiddenName").each(function (d, e) {
        if ($(this).hasClass("spanShowName")) {
            b = d;
            return false
        }
    });
    if (b == -1) {
        return
    }
    a.find(".switchGroup").children().each(function (d, e) {
        if (d == b && Fai.top.$(e).find("a").eq(0).attr("href") != "javascript:;") {
            Fai.top.$("#bannerGetHref").css("cursor", "pointer");
            c = true;
            return false
        }
    });
    if (c == false) {
        Fai.top.$("#bannerGetHref").css("cursor", "default")
    }
};
Site.bannerGetHref = function () {
    var a = Fai.top.$("#banner");
    var c = -1;
    a.find(".spanHiddenName").each(function (d, e) {
        if ($(this).hasClass("spanShowName")) {
            c = d;
            return false
        }
    });
    if (c == -1) {
        return
    }
    var b = "";
    a.find(".switchGroup").children().each(function (d, f) {
        if (d == c) {
            var e = Fai.top.$(f).find("a").eq(0);
            b = e.attr("href");
            if (typeof b != "undefined" && b == "javascript:;") {
                $(e).click()
            }
            return false
        }
    });
    if (typeof b != "undefined" && b != "javascript:;") {
        window.open(b)
    }
};
Site.adjustBannerFlash = function () {
    var b = Fai.top.$("#banner");
    var c = Fai.top.$("#imgPageFlash");
    if (c.length > 0) {
        var a = b.width();
        var d = c.width();
        if (a < d) {
            c.css({position: "absolute", left: -(d - a) / 2 + "px"})
        } else {
            c.css({position: "", left: ""})
        }
    }
};
Site.refreshBanner = function (i) {
    if (Fai.top._uiMode) {
        return
    }
    var a = Fai.top.$("#webBanner");
    var e = Fai.top.$("#banner");
    if (Fai.top._bannerData.h) {
        Fai.top.$("#banner").css("display", "none");
        return
    }
    if (typeof i == "undefined") {
        i = 0
    }
    if (Fai.top._bannerData.s == 3 && !Fai.top._bannerData.f.p) {
        Fai.top._bannerData.s = 0
    }
    if (Fai.top._bannerData.s == 4 && Fai.top._bannerData.n.length == 0) {
        Fai.top._bannerData.s = 0
    }
    Fai.top.$("#banner").css("display", "block");
    if (Fai.top._bannerData.s == 0) {
        Fai.top.$("#banner").removeAttr("style");
        Fai.top.$("#banner").children().remove();
        var o = [];
        o.push("<div class='" + e.attr("class") + " defaultBannerMain'></div>");
        o.push("<div class='defaultBannerEdge defaultBannerEdgeLeft'></div>");
        o.push("<div class='defaultBannerEdge defaultBannerEdgeRight'></div>");
        e.append(o.join(""));
        if (Fai.top._templateLayout == 0 || Fai.top._templateLayout == 1 || Fai.top._templateLayout == 9 || Fai.top._templateLayout == 10) {
            var j = Fai.top._manageMode ? Site.getWebBackgroundData().wbh : Fai.top._webBannerHeight;
            if (j > -1) {
                if (e.siblings(".nav, #navV2Wrap").length > 0) {
                    var f = e.css("height").replace("px", "");
                    var d = e.siblings(".nav, #navV2Wrap").height();
                    if (a.height() < (parseInt(f) + d)) {
                        f = a.height() - d;
                        e.css({height: f + "px"})
                    }
                }
            }
        }
        Site.refreshDefaultBannerEdge()
    } else {
        if (Fai.top._bannerData.s == 3) {
            Fai.top.$("#banner").css("background", "none");
            Fai.top.$("#banner").css("height", Fai.top._bannerData.f.h + "px");
            Fai.top.$("#banner").children().remove();
            var g = '<embed type="application/x-shockwave-flash" classid="clsid:d27cdb6e-ae6d-11cf-96b8-4445535400000" id="imgPageFlash" src="' + Fai.top._bannerData.f.p + '" wmode="opaque" quality="high" menu="false" play="true" loop="true" width="' + Fai.top._bannerData.f.w + '" height="' + Fai.top._bannerData.f.h + '" ></embed>';
            Fai.top.$("#banner").append(g);
            Site.adjustBannerFlash()
        } else {
            if (Fai.top._bannerData.s == 4) {
                Fai.top.Site.refreshBannerImageSwitch(i)
            }
        }
    }
    if (Fai.top._bannerData.o) {
        if ($.browser.mozilla && $.browser.version == "49.0") {
            return
        }
        var p = 0;
        var m = 0;
        var l = Fai.top.$("#banner").width();
        var c = Fai.top.$("#banner").height();
        if (l > 960) {
            l = 960;
            p = parseInt((Fai.top.$("#webBanner").width() - 960) / 2)
        }
        if (Fai.top._bannerData.p == 1) {
            l = l / 2
        } else {
            if (Fai.top._bannerData.p == 2) {
                l = l / 2;
                p += l
            } else {
                if (Fai.top._bannerData.p == 3) {
                    p += Fai.top._bannerData.pl;
                    m = Fai.top._bannerData.pt
                }
            }
        }
        if (typeof Fai != "undefined" && typeof Fai.top._resRoot != "undefined") {
            resRoot = Fai.top._resRoot
        }
        if (typeof Fai.top._bannerData.ce.c1 == "undefined") {
            Fai.top._bannerData.ce.c1 = "#000"
        }
        if (typeof Fai.top._bannerData.ce.c2 == "undefined") {
            Fai.top._bannerData.ce.c2 = "#FFFFFF"
        }
        var k = "text1=" + Fai.encodeUrl(Fai.top._bannerData.ce.t1) + "&text2=" + Fai.encodeUrl(Fai.top._bannerData.ce.t2) + "&size1=" + Fai.top._bannerData.ce.sz1 + "&size2=" + Fai.top._bannerData.ce.sz2 + "&color1=0x" + Fai.top._bannerData.ce.c1.substr(1, Fai.top._bannerData.ce.c1.length - 1) + "&color2=0x" + Fai.top._bannerData.ce.c2.substr(1, Fai.top._bannerData.ce.c2.length - 1) + "&style1=" + Fai.top._bannerData.ce.s1 + "&style2=" + Fai.top._bannerData.ce.s2;
        var h = Fai.top._resRoot + "/image/site/effects/" + Fai.top._bannerData.t + ".swf?" + $.md5(k);
        var b = ['<div class="effectShow" id="effectShow" style="position:absolute; top:' + m + "px; left:" + p + 'px; z-index:1;">', '<object id="effectShow_swf"  type="application/x-shockwave-flash"  data="' + h + '" width="' + l + '" height="' + c + '">', '<param name="movie" value="' + h + '" />', '<param name="quality" value="high" />', '<param name="flashvars" value="' + k + '"/>', '<param name="wmode" value="transparent" />', '<embed name="effectShow_swf"  wmode="transparent" pluginspage="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash" type="application/x-shockwave-flash" classid="clsid:d27cdb6e-ae6d-11cf-96b8-4445535400000" id="effectFlash" src="' + h + '" quality="high" menu="false" play="true" loop="true" width="' + l + '" height="' + c + '" flashvars="' + k + '" >', "</embed>", "</object>", "</div>"];
        b = b.join("");
        if (Fai.top._bannerData.s == 4) {
            var n = '<div id="bannerGetHref" class="bannerGetHref" style="position:absolute; top:0; left:' + p + "px; width:" + l + "px; height:100%;z-index:1; background:url('" + resRoot + '/image/site/transpace.png\');"  onmouseover="Site.bannerInitHref();" onmouseout="Site.startBannerInterval();" onclick="Site.bannerGetHref();"></div>';
            b = b + n
        }
        Fai.top.$("#banner").append(b);
        if (Fai.top._bannerData.n && Fai.top._bannerData.n.length > 0) {
            Fai.top.$("#bannerGetHref").css({
                width: Fai.top._bannerData.n[i].w,
                height: Fai.top._bannerData.n[i].h,
                left: (Fai.top.$("#banner").width() - Fai.top._bannerData.n[i].w) / 2 + "px",
                top: (Fai.top.$("#banner").height() - Fai.top._bannerData.n[i].h) / 2 + "px"
            })
        }
    } else {
        Fai.top.$("#effectShow").remove()
    }
};
Site.getWebBackgroundData = function () {
    return Fai.top._Global._useTemplateBackground ? Fai.top._templateBackgroundData : Fai.top._customBackgroundData
};
Site.refreshBannerImageSwitch = function (g) {
    var c = 0;
    var q = 0;
    var h = new Array();
    var i = new Array();
    var s = new Array();
    var k = Fai.top._bannerData.bt;
    var o = false;
    var b = Fai.top.$("#webBanner");
    var e = Fai.top.$("#banner");
    var u = Site.getWebBackgroundData();
    var t = u.wbs ? true : false;
    $.each(Fai.top._bannerData.n, function (x, B) {
        var z = B.el || "";
        var A = B.er || "";
        var w = parseInt(B.h);
        var y = parseInt(B.w);
        if (w > c) {
            c = w
        }
        if (y > q) {
            q = y
        }
        if (B.e != 0) {
            var v = B.jUrl || "javascript:;";
            if (Fai.top._manageMode) {
                if ($(".panelLibItem[vid=" + B.i + "]").data("JURL") != undefined) {
                    v = $(".panelLibItem[vid=" + B.i + "]").data("JURL")
                }
                if (B.urlChange == 1) {
                    v = B.jUrl || "javascript:;"
                }
            }
            if (v.length > 12 && v.substring(0, 10) == "javascript") {
                h.push({
                    src: B.p,
                    href: "javascript:;",
                    onclick: v.substring(11) + "return false;",
                    ot: B.ot,
                    imgWidth: y,
                    imgHeight: w,
                    edgeLeft: z,
                    edgeRight: A
                })
            } else {
                h.push({src: B.p, href: v, ot: B.ot, imgWidth: y, imgHeight: w, edgeLeft: z, edgeRight: A})
            }
        } else {
            h.push({src: B.p, imgWidth: y, imgHeight: w, edgeLeft: z, edgeRight: A})
        }
        i.push(y);
        s.push(w)
    });
    if (Fai.top._templateLayout == 0 || Fai.top._templateLayout == 1 || Fai.top._templateLayout == 9 || Fai.top._templateLayout == 10) {
        var d = Fai.top._manageMode ? Site.getWebBackgroundData().wbh : Fai.top._webBannerHeight;
        if (d > -1) {
            c = d;
            if (e.siblings(".nav, #navV2Wrap").length > 0) {
                var p = e.attr("normalheight");
                if (p == -1) {
                    p = e.css("height").replace("px", "")
                }
                var r = r = e.siblings(".nav, #navV2Wrap").height() || 0;
                if (d > -1 && b.height() < (p + r)) {
                    o = true;
                    c = b.height() - r
                }
            }
        }
    }
    c = t ? e.height() : c;
    Fai.top.$("#banner").css("background", "none");
    Fai.top.$("#banner").children().remove();
    Fai.top.$("#banner").css("height", c + "px");
    Fai.top.$("#banner").bannerImageSwitch({
        data: h,
        index: g,
        width: q,
        height: c,
        from: "banner",
        playTime: Fai.top._bannerData.i,
        animateTime: Fai.top._bannerData.a,
        btnType: k,
        wideScreen: Fai.top._bannerData.ws
    });
    var a = Fai.top.$("#banner").width();
    var l = Fai.top.$("#banner").height();
    var j = Fai.top._manageMode ? Fai.getScrollWidth() : 0;
    var n = Fai.top.$(window).width() > Fai.top.$("#web").width() ? Fai.top.$(window).width() : Fai.top.$("#web").width();
    if (o) {
        l = c
    }
    if (t) {
        a = Fai.top.$("#webBanner").width();
        a = (a > n) ? n - j : a
    }
    var f = (Fai.top.$("#containerFormsCenter").find("div").eq(0).attr("id"));
    var m = Fai.top.$("#banner .switchGroup");
    Fai.top.$("#banner .switchGroup .J_bannerItem").each(function (w) {
        if (a >= i[w] && !t) {
            $(this).css("width", i[w]);
            var v = m.width() - i[w];
            if (Fai.isIE()) {
                v = v + (v % 2)
            }
            $(this).siblings(".J_bannerEdge").css("width", (v / 2) + "px")
        } else {
            $(this).css("width", a);
            var v = m.width() - a;
            if (Fai.isIE()) {
                v = v + (v % 2)
            }
            $(this).siblings(".J_bannerEdge").css("width", (v / 2) + "px")
        }
        if (l >= s[w] && !t) {
            if (Site.checkBrowser() && Fai.top._bannerData.at > 0) {
                $(this).css("height", l)
            } else {
                $(this).css("height", s[w]);
                $(this).parent().css("paddingTop", (l - s[w]) / 2 + "px")
            }
            $(this).siblings(".J_bannerEdge").css("height", s[w]);
            $(this).siblings(".J_bannerEdge").css("top", (l - s[w]) / 2 + "px")
        } else {
            $(this).css("height", l);
            $(this).siblings(".J_bannerEdge").css("height", l)
        }
    })
};
Site.refreshBannerHeight = function () {
    var d = Fai.top.$("#webBanner"), b = Fai.top.$("#banner"), a = b.height();
    var f = Fai.top._manageMode ? Site.getWebBackgroundData().wbh : Fai.top._webBannerHeight;
    if (f > -1) {
        a = f;
        if (b.siblings(".nav, #navV2Wrap").length > 0) {
            var e = b.attr("normalheight");
            if (e == -1) {
                e = b.css("height").replace("px", "")
            }
            var c = b.siblings(".nav, #navV2Wrap").height() || 0;
            if (f > -1 && d.height() < (e + c)) {
                fixHeightFlag = true;
                a = d.height() - c
            }
        }
    }
    Fai.top.$("#banner").css("height", a + "px")
};
Site.refreshDefaultBannerEdge = function () {
    var b = Fai.top.$("#banner");
    if (b.length > 0) {
        var c = b.attr("defaultwidth") || 960;
        if (b.children(".defaultBannerEdge").length > 0) {
            var a = b.width() - c;
            a = (a + (a % 2)) / 2;
            b.children(".defaultBannerEdge").css("width", a)
        }
    }
};
Site.checkBrowser = (function () {
    var c = ["animation", "MozAnimation", "webkitAnimation", "msAnimation", "OAnimation"],
        e = ["transform", "MozTransform", "webkitTransform", "msTransform", "OTransform"],
        b = ["opacity", "MozOpacity", "webkitOpacity", "msOpacity", "OOpacity"], d = document.createElement("div"),
        a = {};
    return function (g) {
        if (typeof a[g] == "boolean") {
            return a[g]
        }
        switch (g) {
            case"animation":
                props = c;
                break;
            case"transform":
                props = e;
                break;
            case"opacity":
                props = b;
                break;
            default:
                props = c
        }
        for (var h = 0, f = props.length; h < f; h++) {
            if (d.style[props[h]] !== undefined) {
                a[g] = true;
                return a[g]
            }
        }
        a[g] = false;
        return a[g]
    }
})();
Site.bannerAnimate = {};
(function (j, u, k) {
    var G = false, y = 1, c = 0, i = -1, f = -1,
        d = {autoPlay: true, currentIndex: 0, speed: 1500, duration: 4000, effectIndex: 1}, I, A = true, q, s, C = 0,
        E = 0, m = 0, w, o, e, b, l;
    var x = {
        0: {name: "arrow", classes: "arrowImg", switchType: "Slide"},
        1: {name: "Num", classes: "numImg", switchType: "Fade"},
        2: {name: "Dot", classes: "dotImg", switchType: "Fade"},
        3: {name: "Box", classes: "boxImg", switchType: "Fade"},
        4: {name: "NoColorArrow", classes: "arrowImg", switchType: "Slide"},
        5: {name: "RightColorArrow", classes: "arrowImg", switchType: "Slide"},
        6: {name: "AdsorptionRound", classes: "adsorptionRoundImg", switchType: "Fade"},
        7: {name: "BottomRound", classes: "bottomRoundImg", switchType: "Fade"},
        8: {name: "BottomPhoto", classes: "bottomPhotoImg", switchType: "Fade"}
    };
    u.animating = false;
    u.init = function (J) {
        G = Site.checkBrowser();
        if (!G) {
            return
        }
        if (!J.container) {
            return
        }
        p();
        H(J);
        g();
        n();
        D()
    };

    function g() {
        if (Fai.isSafari()) {
        } else {
            if (navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)) {
            } else {
                return
            }
        }
        Fai.top.$("#" + o).addClass("fk-fixPerspective")
    }

    function p() {
        u.animating = false;
        clearTimeout(q);
        for (var J = 0; J < C; J++) {
            v(w.eq(J)[0], t)
        }
    }

    function D() {
        r();
        if (I.autoPlay) {
            F()
        }
    }

    function F() {
        if (!u.animating) {
            clearTimeout(q);
            q = setTimeout(u.next, I.duration)
        }
    }

    function z() {
        if (Fai.top._useBannerVersionTwo) {
            e = x[l.bt].classes;
            var K = "J_billboardItem billboard_item " + e;
            Fai.top.$("#bannerV2").find(".J_billboardItem").attr("class", K).attr("style", "");
            b = "billboard billboard" + l.at;
            var J = "switchGroup switchGroup_bannerV2 " + b;
            Fai.top.$("#bannerV2 .switchGroup_bannerV2").attr("class", J);
            Site.bannerAnimate.init({
                container: Fai.top.$("#bannerV2 .switchGroup_bannerV2"),
                effectIndex: 13,
                currentIndex: c,
                speed: I.speed,
                duration: I.duration,
                _isBannerV2: true
            })
        } else {
            Site.refreshBanner(c)
        }
    }

    u.autoPlay = function () {
        A = true;
        F()
    };
    u.next = function () {
        var J = c + 1;
        if (J >= w.length) {
            J = 0
        }
        u.goTo(J, false)
    };
    u.prev = function () {
        var J = c - 1;
        if (J < 0) {
            J = w.length - 1
        }
        u.goTo(J, true)
    };
    u.stop = function () {
        if (!A) {
            return
        }
        A = false;
        clearTimeout(q)
    };
    u.goTo = function (Q, S) {
        if (isNaN(Q) || Q >= C || Q < 0 || Q == c) {
            return
        }
        if (this.animating) {
            return
        }
        f = Q;
        if (typeof S === "undefined") {
            var S = (f > c ? false : true)
        }
        var ah = Fai.top.$("#" + o).find(".imageSwitchBtnArea"), V = Fai.top.$("#" + o).find(".imageSwitchShowName"),
            ad = V.children("span"), U = l.bt == 8 ? ah.find(".fk_imageSwitchReal").children("a") : ah.children("a"),
            R = w.eq(c), T = 4, O = ah.find(".fk_imageSwitchReal"), aa = parseInt(O.attr("index")), P = w.eq(f);
        if (l.bt == 0) {
        } else {
            if (l.bt == 1) {
                U.removeClass("imageSwitchBtnSel");
                U.eq(f).addClass("imageSwitchBtnSel")
            } else {
                if (l.bt == 2) {
                    U.removeClass("imageSwitchBtnSel_dot");
                    U.eq(f).addClass("imageSwitchBtnSel_dot")
                } else {
                    if (l.bt == 3) {
                        U.removeClass("fk_imageSwitchBtnSel_box");
                        U.eq(f).addClass("fk_imageSwitchBtnSel_box")
                    } else {
                        if (l.bt == 6) {
                            U.eq(c).find(".fk_adsorptionRound_num").removeClass("fk_adsorptionRound_num_current");
                            U.eq(f).find(".fk_adsorptionRound_num").addClass("fk_adsorptionRound_num_current");
                            if (!Site.checkBrowser()) {
                                U.eq(c).removeClass("fk_imageSwitchBtn_ar_current");
                                U.eq(f).addClass("fk_imageSwitchBtn_ar_current")
                            }
                            var Y = j(".fk_adsorptionRound_current");
                            var ac = U.eq(c).position().left;
                            var X = U.eq(f).position().left;
                            Y.animate({a: X}, {
                                step: function (al, am) {
                                    am.start = ac;
                                    if (al > am.start && am.start < X || (al < am.start && am.start > X)) {
                                        Y.css("transform", "translate3d(" + al + "px, 0px, 0px) scale(1.5, 1.5")
                                    }
                                }, duration: 500
                            })
                        } else {
                            if (l.bt == 7) {
                                U.removeClass("fk_imageSwitchBtnSel_bottomRound");
                                if (A) {
                                    ah.find(".J_bottomRoundlinear").eq(c).addClass("f-animal-linear").css({
                                        "transition-duration": "transform " + l.a / 1000 + "s linear",
                                        "-webkit-transition": "-webkit-transform " + l.a / 1000 + "s linear"
                                    })
                                } else {
                                    U.eq(f).addClass("fk_imageSwitchBtnSel_bottomRound")
                                }
                            } else {
                                if (l.bt == 8) {
                                    U.removeClass("fk_imageSwitchBtnSel_bottomPhoto");
                                    U.eq(f).addClass("fk_imageSwitchBtnSel_bottomPhoto");
                                    if (s.width() < 960) {
                                        T = 3
                                    }
                                    var Z = ah.find(".fk_imageSwitchBtn_bottomPhoto");
                                    var ag = ah.find(".fk_imageSwitchPanel");
                                    var ai = Z.outerWidth(true) * T;
                                    var J = C % T;
                                    var W = Math.ceil(C / T);
                                    var af = (T - J) * Z.outerWidth(true);
                                    var L = Math.floor(Q / T);
                                    var M = ah.find(".fk_imageSwitchBtn_bottomPhoto_prev");
                                    var N = ah.find(".fk_imageSwitchBtn_bottomPhoto_next");
                                    var ae;
                                    if (L - aa === 1) {
                                        N.click()
                                    } else {
                                        if (L - aa === -1 && (f + 1 > C - J || J === 0)) {
                                            M.click()
                                        } else {
                                            if (aa - L > 1) {
                                                O.animate({marginLeft: 0}, 1000);
                                                M.removeClass("fk_imageSwitchBtn_bottomPhoto_next_active");
                                                N.addClass("fk_imageSwitchBtn_bottomPhoto_next_active");
                                                O.attr("index", 0)
                                            } else {
                                                if (L - aa > 1) {
                                                    if (L === W - 1) {
                                                        ae = ai * 2 - af
                                                    } else {
                                                        ae = ai * 2
                                                    }
                                                    O.animate({marginLeft: -ae}, 1000);
                                                    N.removeClass("fk_imageSwitchBtn_bottomPhoto_next_active");
                                                    M.addClass("fk_imageSwitchBtn_bottomPhoto_next_active");
                                                    O.attr("index", 2)
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
        ad.removeClass("spanShowName");
        ad.eq(f).addClass("spanShowName");
        P.css("display", "block");
        if (y == 11) {
            var K = ["15% 15%", "85% 85%", "15% 85%", "85% 15%"];
            var ab = ["billboardItem_11_on_zoomOut", "billboardItem_11_on_zoomIn"];
            var ak = K[Math.floor(Math.random() * K.length)];
            var aj = ab[Math.floor(Math.random() * ab.length)];
            P.addClass(aj).removeClass("billboardItem_11_off");
            B(P, "transformOrigin", ak);
            R.addClass("billboardItem_11_off");
            R.removeClass("billboardItem_11_on_zoomIn billboardItem_11_on_zoomOut billboardItem_11_start")
        } else {
            R.removeClass("billboardItem_" + y + "_on billboardItem_" + y + "_on_reverse");
            R.addClass("billboardItem_" + y + "_off");
            P.removeClass("billboardItem_" + y + "_off billboardItem_" + y + "_off_reverse");
            P.addClass("billboardItem_" + y + "_on");
            if (S) {
                R.addClass("billboardItem_" + y + "_off_reverse");
                P.addClass("billboardItem_" + y + "_on_reverse")
            }
        }
        u.animating = true;
        i = c;
        c = f;
        h(P[0], t)
    };

    function t() {
        if (v(this, t)) {
            u.animating = false;
            w.eq(i).css("display", "none");
            if (A) {
                clearTimeout(q);
                if (I.effectIndex == 13) {
                    z()
                } else {
                    q = setTimeout(function () {
                        u.next()
                    }, I.duration)
                }
                if (l.bt == 7) {
                    var L = Fai.top.$("#" + o).find(".imageSwitchBtnArea");
                    var J = L.children("a");
                    var K = L.find(".J_bottomRoundlinear");
                    K.removeClass("f-animal-linear").css({"transition-duration": "", "-webkit-transition": ""});
                    J.eq(c).addClass("fk_imageSwitchBtnSel_bottomRound")
                }
            } else {
                if (I.effectIndex == 13) {
                    z()
                }
            }
            if (Fai.top._useBannerVersionTwo && Fai.top.$(".fk-inBannerListZone").find(".form").length) {
                Site.triggerGobalEvent("site_BannerV2Switch");
                jzUtils.run({name: "moduleAnimation.publish", base: Fai.top.Site});
                jzUtils.run({name: "moduleAnimation.contentAnimationPublish", base: Fai.top.Site})
            }
        }
    }

    function r() {
        var L;
        for (var K = 0; K < w.length; K++) {
            L = w.eq(K);
            B(L, "animationDuration", I.speed + "ms")
        }
        var J = w.eq(I.currentIndex);
        J.addClass("billboardItem_" + y + "_start");
        w.css("display", "none");
        J.css("display", "block")
    }

    function h(J, K) {
        J.addEventListener("animationend", K, false);
        J.addEventListener("webkitAnimationEnd", K, false);
        J.addEventListener("oAnimationEnd", K, false);
        J.addEventListener("oanimationend", K, false);
        J.addEventListener("msAnimationEnd", K, false);
        return true
    }

    function v(J, K) {
        J.removeEventListener("animationend", K, false);
        J.removeEventListener("webkitAnimationEnd", K, false);
        J.removeEventListener("oAnimationEnd", K, false);
        J.removeEventListener("oanimationend", K, false);
        J.removeEventListener("msAnimationEnd", K, false);
        return true
    }

    function n() {
        E = s.width() || 0;
        m = Fai.top.$("#" + o).height() || 0;
        var S;
        var Q = Site.getWebBackgroundData();
        var O = false;
        var M = Fai.top._manageMode ? Fai.getScrollWidth() : 0;
        var J = Fai.top.$(window).width() - M;
        if (Fai.top._useBannerVersionTwo) {
            O = Fai.top._bannerV2Data.bla == 0 ? true : false
        } else {
            O = Q.wbs ? true : false
        }
        if (O) {
            E = (E > J) ? J : E
        }
        if (I.effectIndex == 13) {
            s.addClass("billboard" + y)
        }
        s.css("height", m + "px");
        for (var L = 0; L < w.length; L++) {
            S = w.eq(L);
            S.addClass("billboardItem_" + y + " billboardAnim");
            S.css({width: "100%", height: m + "px"});
            if (y == 6) {
                B(S, "transformOrigin", "50% 50% " + (-E / 2) + "px")
            } else {
                if (y == 7) {
                    B(S, "transformOrigin", "50% 50% " + (-m / 2) + "px")
                } else {
                    if (y == 8 || y == 9) {
                        var P = j(document.createElement("div"));
                        P.addClass("billboard_item billboardItem_" + y + " billboardItem_" + y + "_" + (L + 1));
                        for (var K = 1; K <= 3; K++) {
                            var N = j(document.createElement("div"));
                            N.addClass("billboardTile billboardTile_" + K + " billboardAnim");
                            B(N, "animationDuration", I.speed + "ms");
                            if (y == 8) {
                                B(N, "transformOrigin", "50% 50% " + (-E / 2) + "px")
                            } else {
                                B(N, "transformOrigin", "50% 50% " + (-m / 2) + "px")
                            }
                            var T = S.clone();
                            T.attr("class", "billboardImg").removeAttr("style");
                            T.find(".J_bannerItem").addClass("billboardImgInner");
                            j(N).append(T);
                            j(P).append(N)
                        }
                        S.before(P);
                        S.remove()
                    } else {
                        if (y == 10 || y == 12) {
                            var P = j(document.createElement("div"));
                            P.addClass("billboard_item billboardItem_" + y + " billboardItem_" + y + "_" + (L + 1));
                            P.css({width: "100%", height: m + "px"});
                            for (var K = 1; K <= 4; K++) {
                                var N = j(document.createElement("div"));
                                N.addClass("billboardTile billboardTile_" + K);
                                var R = j(document.createElement("div"));
                                R.addClass("billboardAnim billboardTileImg");
                                B(R, "animationDuration", I.speed + "ms");
                                N.append(R);
                                var T = S.clone();
                                T.attr("class", "billboardImg").removeAttr("style");
                                T.find(".J_bannerItem").addClass("billboardImgInner");
                                R.append(T);
                                P.append(N)
                            }
                            S.before(P);
                            S.remove()
                        }
                    }
                }
            }
        }
        if (y == 8 || y == 9 || y == 10 || y == 12) {
            w = s.children();
            C = w.length
        }
    }

    function H(J) {
        i = -1;
        f = -1;
        I = j.extend({}, d, J);
        y = I.effectIndex;
        if (I.effectIndex == 13) {
            y = a(4, 7)
        }
        c = I.currentIndex;
        A = I.autoPlay;
        s = I.container;
        w = s.children();
        C = w.length;
        o = I._isBannerV2 ? "bannerV2" : "banner";
        l = I._isBannerV2 ? Fai.top._bannerV2Data : Fai.top._bannerData
    }

    function B(L, M, K) {
        var J = M.substring(0, 1).toUpperCase() + M.substring(1);
        L.css("Webkit" + J, K);
        L.css("Moz" + J, K);
        L.css("ms" + J, K);
        L.css("O" + J, K);
        L.css(M, K)
    }

    function a(M, J) {
        var K = J - M + 1;
        var L = Math.floor(Math.random() * K + M);
        if (Fai.top._useBannerVersionTwo) {
            if (L == 8 || L == 9 || L == 10 || L == 12) {
                return a(M, J)
            }
        }
        return L
    }
})(jQuery, Site.bannerAnimate);
Site.changeTxtLenght = function () {
    var b = Fai.top.$(".head_txt").length;
    var a = [];
    for (var d = 0; d < b; d++) {
        var c = $(".head_txt").eq(d).width();
        a.push(c)
    }
    var e = Math.max.apply(null, a);
    $(".head_txt").css("width", e)
};
Site.initPopupBox = function (f, d, e) {
    var b = ["<div style='text-align:center;width: 100%;font-size: 12px; color:#636363;position:absolute;top:20px;'>", f, "</div>"];
    b.push("<div class='memberHeadEdit'>");
    if (d == "confirm") {
        b.push("<div style='display: inline-block;width: 100%; text-align:center;position:absolute;top:50px;'>");
        b.push("		<div class='confirmBtn' style='display: inline-block;zoom: 1;*display: inline;    padding: 0 10px !important;height: 25px; text-align: center;margin: 10px 10px 10px auto;line-height:25px; border: 1px solid #0064B5;background:#49A3FF;color: #FFFFFF;font-size: 12px; border-radius: 2px;'>确 定</div>");
        b.push("		<div class='cancelBtn' style='display: inline-block;zoom: 1;*display: inline;height: 25px;padding: 0 10px !important;text-align: center;margin: 10px auto 10px 10px;height: 25px;line-height: 25px;     border: 1px solid #8F8F8F;background: #F5F5F5;color: #666666;font-size: 12px; border-radius: 2px;' >取 消</div>");
        b.push("</div>")
    } else {
        b.push("		<div class='confirmBtn' style='position:absolute;top:60px;zoom: 1;height: 25px; text-align: center;line-height:25px; border: 1px solid #0064B5;background:#49A3FF;color: #FFFFFF;font-size: 12px;left:100px;padding: 0 10px !important;border-radius: 2px;'>确 定</div>")
    }
    b.push("</div>");
    var a = {};
    a.htmlContent = b.join("");
    a.width = 255;
    a.height = 122;
    var c = Site.popupBox(a);
    c.find(".popupBClose").css("margin", "10px 0px auto auto");
    c.on("click", ".confirmBtn", function () {
        c.find(".popupBClose").click();
        e()
    });
    c.on("click", ".cancelBtn", function () {
        c.find(".popupBClose").click()
    })
};
Site.enablePopupBtn = function (c, a) {
    var b = $("#" + c);
    if (a) {
        b.removeAttr("disabled");
        b.removeClass("saveButton-disabled");
        b.faiButton("enable")
    } else {
        b.attr("disabled", true);
        b.faiButton("disable")
    }
};
Site.loadPdCollectionList = function (c, b, d, e, a) {
    this.pIdList = b;
    this.mid = c;
    this.isNewUser = d;
    this.colorStyleType = e;
    this.colorStyle = a;
    this.panel = $(".memberCollectionPanel")
};
(function (d, n, e) {
    var j = n.prototype, t, g, h, s, q, k, m = [], u = 12, b, c = [];
    j.init = function () {
        g = this.pIdList, k = this.panel;
        t = this.mid;
        h = this.isNewUser;
        s = this.colorStyleType;
        q = this.colorStyle;
        r();
        a();
        var x = g.slice(0, u);
        b = x.length;
        p(x);
        i()
    };

    function r() {
        d.post("ajax/product_h.jsp", {mid: t, cmd: "updateCollections", ids: d.toJSON(g)}, function (x) {
            if (x.success) {
                g = x.list
            }
        }, "json")
    }

    function p(x) {
        d.ajax({
            url: "ajax/product_h.jsp",
            data: {cmd: "batchGetPd", ids: d.toJSON(x)},
            async: false,
            type: "POST",
            dataType: "json",
            success: function (y) {
                if (y.success) {
                    d(function () {
                        o(x, y.list)
                    })
                }
            }
        })
    }

    function v(y) {
        var x = false, z;
        d.each(c, function (A, B) {
            if (y == B.lid) {
                x = true;
                z = B
            }
        });
        if (!x) {
            z = l(y)
        }
        return z
    }

    function l(x) {
        var y = {lid: x};
        d.ajax({
            url: "ajax/productProp_h.jsp?cmd=list&lid=" + x,
            async: false,
            type: "POST",
            dataType: "json",
            success: function (z) {
                if (z.success) {
                    var A = false, B = false;
                    d.each(z.list, function (C, D) {
                        if (D.fieldKey == "mallMarketPrice") {
                            B = true
                        }
                        if (D.fieldKey == "mallPrice") {
                            A = true
                        }
                    });
                    y.showMarketPrice = B;
                    y.showPrice = A;
                    c.push(y)
                }
            }
        });
        return y
    }

    function w() {
        var y = {}, x = false;
        y.productCollections = g.reverse() + "";
        d.ajax({
            url: "ajax/member_h.jsp",
            data: {cmd: "set", id: t, info: d.toJSON(y)},
            async: false,
            type: "POST",
            dataType: "json",
            success: function (z) {
                if (z.success) {
                    x = true
                } else {
                    x = false
                }
            }
        });
        return x
    }

    function a() {
        var x = Math.ceil(g.length / u);
        if (k.find(".pagination").length == 0) {
            k.append('<div class="pagination"><a id="upPage">' + LS.prevPager + '</a> <span id="currentPage">1</span>/<span id="totalPage">' + x + '</span>页 <a id="downPage">' + LS.nextPager + "</a></div>")
        } else {
            d("#totalPage").text(x)
        }
        if (x > Number(d("#currentPage").text())) {
            d("#downPage").addClass("g_border")
        } else {
            d("#downPage").removeClass("g_border")
        }
        if (d("#currentPage").text() != "1") {
            d("#upPage").addClass("g_border")
        } else {
            d("#upPage").removeClass("g_border")
        }
    }

    function o(x, y) {
        var z = [];
        d.each(y, function (B, A) {
            var C = v(A.lid);
            z.push("<li>");
            z.push('	<div class="pdImg">');
            z.push('		<a href="pd.jsp?id=' + A.id + '">');
            z.push('			<div class="delColl" data-id="' + A.id + '">');
            z.push('				<div class="delCollBg"></div>');
            z.push('				<div class="delCollIcon"></div>');
            z.push("			</div>  ");
            z.push('			<img src="' + A.picPath + '" />');
            z.push("		</a>");
            z.push("	</div>  ");
            z.push('	<div class="pdName">' + A.name + "</div>");
            z.push('	<div class="pdPrice">');
            if (A.mallPrice != -1 && C.showPrice) {
                z.push('		<div class="mallPrice mallPrice' + (h && (s > 0) ? q : "") + '">' + Fai.top.choiceCurrencyVal + " " + A.mallPrice + "</div>")
            }
            if (A.mallMarketPrice != -1 && C.showMarketPrice) {
                z.push('		<div class="mallMarketPrice">' + Fai.top.choiceCurrencyVal + " " + A.mallMarketPrice + "</div>")
            }
            z.push("	</div>");
            z.push("</li>")
        });
        k.find(".collectionList").append(z.join(""))
    }

    function i() {
        k.on({
            hover: function () {
                d(this).find(".delColl").show()
            }, mouseleave: function () {
                if (d(this).parents(".memberCollectionNewPanel").length == 0) {
                    d(this).find(".delColl").hide()
                }
            }
        }, ".pdImg");
        k.on("click", ".delColl", function () {
            var y = d(this);
            y.parents("a").attr("href", "javascript:;");
            var x = y.attr("data-id");
            var A = g.indexOf(Number(x));
            if (A > -1) {
                g.splice(A, 1)
            }
            var B = ["<div class='fk-cancelOrder'>", "<div style='padding:10px;'>", LS.sureDelCollection, "</div>", "<div style='padding:10px 0 18px 0;'>", "<span class='J-rpt-cancel popupBClose' style='margin-right:20px;'>", LS.cancel, "</span>", "<span class='J-rpt-save con-hover'>" + LS.confirm + "</span>", "</div>", "</div>"];
            var D = parseInt(Math.random() * 10000);
            var z = {boxId: D, title: "", htmlContent: B.join(""), width: 300};
            var C = Site.popupBox(z);
            C.find(".J-rpt-save").on("click", function () {
                if (w()) {
                    y.parents("li").remove()
                } else {
                    Fai.ing(LS.systemError);
                    return
                }
                a();
                if (g.length > b) {
                    var G = g[b];
                    b = b + 1;
                    var F = [];
                    F.push(G);
                    p(F)
                }
                f();
                if (g.length == 0) {
                    k.find(".collectionList").html("<div class='noCollIcon'></div><div class='noCollTip'>" + LS.notCollection + "</div>");
                    k.find(".pagination").remove()
                }
                var E = true;
                d(".collectionList li").each(function () {
                    if (!d(this).is(":hidden")) {
                        E = false;
                        return true
                    }
                });
                if (E) {
                    d("#upPage").click()
                }
                C.find(".popupBClose").click()
            })
        });
        k.on("click", "#downPage", function () {
            if (d(this).hasClass("g_border")) {
                d("#currentPage").text(Number(d("#currentPage").text()) + 1);
                a();
                if (g.length > b) {
                    var x = g.slice(b, b + u);
                    b = b + x.length;
                    if (x.length > 0) {
                        p(x)
                    }
                }
                f()
            }
        });
        k.on("click", "#upPage", function () {
            if (d(this).hasClass("g_border")) {
                d("#currentPage").text(Number(d("#currentPage").text()) - 1);
                a();
                f()
            }
        })
    }

    function f() {
        var x = Number(d("#currentPage").text()) - 1;
        k.find(".collectionList").children().hide();
        var z = x * u;
        for (var y = z; y < z + 12; y++) {
            k.find(".collectionList li:eq(" + y + ")").show()
        }
    }
})(jQuery, Site.loadPdCollectionList);
Site.loadCouponList = (function (e) {
    function f(m) {
        this.mid = m
    }

    var g = f.prototype, k, b = 0;
    pageno = [1, 1, 1], pageSize = 9;
    var j = [];
    j[0] = new Array(), j[1] = new Array(), j[2] = new Array(), couponColorList = ["red", "orange", "yellow", "green", "blue", "pink", "purple", "gray"];
    g.init = function (n, m) {
        k = this;
        if (_manageMode) {
            var o = {
                id: 0,
                couponName: "示例优惠券",
                savePrice: 10,
                orderMinPrice: 10,
                couponLeaveAmount: 999,
                flag: 0,
                receiveCount: 1,
                state: true,
                validity: "无时间限制",
                cdId: 73,
                bg: 0,
                status: 0,
                redeemCode: "1111111"
            };
            j[0] = [o, o, o];
            e(".couponList").append(i(n, m));
            return
        }
        c(n, m);
        l(n, m)
    };

    function c(n, m) {
        var o = k;
        e.ajax({
            url: "ajax/mallCoupon_h.jsp?cmd=getCouponByMid",
            data: "mid=" + o.mid,
            dataType: "json",
            success: function (p) {
                if (p.success) {
                    if (p.receiveList) {
                        j[0] = p.receiveList
                    }
                    if (p.usedList) {
                        j[1] = p.usedList
                    }
                    if (p.expireList) {
                        j[2] = p.expireList
                    }
                    a(n, m)
                }
            },
            error: function () {
            }
        })
    }

    function a(o, n) {
        var s = k;
        var r = e(".couponList");
        var q = [];
        q.push('<div class="tabList">');
        q.push('<div class="coupon-tab"><span class="">' + (o ? LS.myCoupon : LS.notUse) + '(<span class="couponAmount">' + j[0].length + "</span>)</span><em></em></div>");
        q.push('<div class="coupon-tab"><span>' + (o ? LS.usedCoupon : LS.used) + '(<span class="couponAmount">' + j[1].length + "</span>)</span><em></em></div>");
        q.push('<div class="coupon-tab"><span>' + (o ? LS.expiredCoupon : LS.expired) + '(<span class="couponAmount">' + j[2].length + "</span>)</span><em></em></div>");
        q.push("</div>");
        r.append(q.join(""));
        var p = e(".coupon-tab").eq(b), m = e(".g_selected").css("background-color");
        h(p, o, n);
        p.addClass("g_selected");
        p.find("em").css({"border-top-color": m})
    }

    function l(n, m) {
        var o = k;
        e("body").on("click", ".coupon-tab", function () {
            if (b == Number(e(this).index())) {
                return
            }
            h(e(this), n, m)
        });
        e("body").on("click", ".coupon-delete", function () {
            var p = e(this).parents(".coupon").attr("data_id"), w = e(this).parents(".coupon-warp");
            var q = LS.delCouponWillUnavail;
            if (b != 0) {
                q = LS.confirmDelCoupon
            }
            var u;
            var r = j[b];
            var v = r.length;
            var t = ["<div class='fk-cancelOrder'>", "<div style='padding:10px;'>", q, "</div>", "<div style='padding:10px 0 18px 0;'>", "<span class='J-rpt-cancel popupBClose' style='margin-right:20px;'>", LS.cancel, "</span>", "<span class='J-rpt-save con-hover'>" + LS.confirm + "</span>", "</div>", "</div>"];
            var x = parseInt(Math.random() * 10000);
            var y = {boxId: x, title: "", htmlContent: t.join(""), width: 300};
            var s = Site.popupBox(y);
            s.find(".J-rpt-save").on("click", function () {
                for (var z = 0; z < v; z++) {
                    if (parseInt(p) == r[z].cdId) {
                        u = z;
                        break
                    }
                }
                j[b].splice(z, 1);
                e.ajax({
                    url: "ajax/member_h.jsp?cmd=delCoupon",
                    data: "mid=" + o.mid + "&cdid=" + p,
                    dataType: "json",
                    success: function (A) {
                        if (A.success) {
                            w.remove();
                            d(b, pageno[b], n, m);
                            e(".coupon-tab").eq(b).find(".couponAmount").text(j[b].length)
                        }
                    },
                    error: function () {
                    }
                });
                s.find(".popupBClose").click()
            })
        })
    }

    function h(p, o, n) {
        var m = e(".g_selected").css("background-color");
        e(".coupon-tab").removeClass("g_selected");
        e(".coupon-tab").find("em").css({"border-top-color": ""});
        p.addClass("g_selected");
        p.find("em").css({"border-top-color": m});
        b = p.index();
        e(".show-coupon-list").remove();
        e(".couponList").append(i(o, n));
        if (j[b].length > pageSize) {
            e(".couponList").append("<div class='pagenation' id='pagenation" + b + "'></div>");
            new Site.Pagenation(b, {pageNo: 1, pageSize: pageSize, totalSize: j[b].length}, d)
        } else {
            e(".memberCouponPanel .pagenation").remove()
        }
    }

    function i(p, o) {
        var r = k, n = [], m = pageno[b];
        n = j[b].slice((m - 1) * pageSize, m * pageSize);
        var q = [];
        q.push("<div class='show-coupon-list'>");
        if (n.length > 0) {
            e.each(n, function (t, s) {
                if (b != 0) {
                    s.bg = 7
                }
                if (p == "new") {
                    q.push("<div class='coupon-warp'>");
                    q.push("<div class='coupon-code-new'>" + LS.couponNumber + "：" + s.redeemCode + "</div>");
                    q.push("<div class='coupon coupon-new' data_id='" + s.cdId + "'>");
                    q.push("<div class='coupon-content-new " + ((b == 1 || b == 2) ? "coupon-background" : "") + " coupon-color-" + couponColorList[s.bg] + "'>");
                    q.push("<div class='couponSavePrice'><span class='priceSign'>" + Fai.top.choiceCurrencyVal + "</span><span class='couponPrice'>" + s.savePrice + "</span><span class='couponActivity'>" + LS.Event + LS.name + "：" + Fai.encodeHtml(s.couponName) + "</span></div>");
                    q.push("<div class='couponCondition'>" + LS.useCondition + "：" + LS.full + s.orderMinPrice + "</div>");
                    q.push("<div class='couponTime'>" + LS.valiteTime + "：" + s.validity + "</div>");
                    q.push("</div>");
                    if (b == 1) {
                        if (o == 2052 || o == 1028) {
                            q.push('<div class="fk-coupon-used"></div>')
                        } else {
                            q.push('<div class="fk-coupon-used-en"></div>')
                        }
                    }
                    q.push("</div>");
                    q.push("</div>")
                } else {
                    q.push("<div class='coupon-warp'>");
                    q.push("<div class='coupon-code'>" + LS.couponNumber + "：" + s.redeemCode + "</div>");
                    q.push("<div class='coupon' data_id='" + s.cdId + "'>");
                    q.push("<div class='coupon-left coupon-" + couponColorList[s.bg] + "-left'></div>");
                    q.push("<div class='coupon-content coupon-color-" + couponColorList[s.bg] + "'>");
                    q.push("<div class='couponSavePrice'><span class='priceSign'>" + Fai.top.choiceCurrencyVal + "</span><span class='couponPrice'>" + s.savePrice + "</span></div>");
                    q.push("<div>" + LS.Event + LS.name + "：" + Fai.encodeHtml(s.couponName) + "</div>");
                    q.push("<div>" + LS.useCondition + "：" + LS.full + s.orderMinPrice + "</div>");
                    q.push("<div>" + LS.valiteTime + "：" + s.validity + "</div>");
                    q.push("</div>");
                    q.push("<div class='coupon-right coupon-" + couponColorList[s.bg] + "-right'></div>");
                    q.push("<div class='coupon-watermark'>券</div>");
                    if (b == 2) {
                        q.push('<div class="fk-coupon-expired"></div>')
                    }
                    q.push("</div>");
                    q.push("</div>")
                }
            })
        } else {
            q.push("<div class='couponEmpty'>");
            q.push("	<div class='couponEmpty-img'>");
            q.push("		<div class='couponEmpty-img-container'></div>");
            q.push("	</div>");
            q.push("	<div class='couponEmpty-message'>");
            if (b == 0) {
                q.push("		<span>" + LS.noUseCoupon + "</span>")
            } else {
                q.push("		<span>" + LS.noRelatedCoupon + "</span>")
            }
            q.push("	</div>");
            q.push("</div>")
        }
        q.push("</div>");
        return q.join("")
    }

    function d(p, m, o, n) {
        pageno[p] = m;
        e(".tabList").next().remove();
        e(".tabList").after(i(o, n))
    }

    return f
})(jQuery);
Site.onlyShowPhoneCode = function (a) {
    var b = $("#" + a);
    if (typeof b == "undefined" || b == null) {
        return
    }
    var c = b.val();
    c = c.substring(0, c.length - 5);
    b.val(c)
};
Site.newOrderList = function (moduleId) {
    var $module = $("#module" + moduleId);
    $module.find(".memberOrderPanel").on("click", ".pageNo, .pagePrev, .pageNext", function () {
        var pageSize = $(this).attr("_pageSize");
        var pageno = $.trim($(this).text());
        var status = $(this).attr("_status");
        var colorStyleType = $(this).attr("_colorStyleType");
        var colorStyle = $(this).attr("_colorStyle");
        if ($(this).hasClass("pagePrev")) {
            pageno = $(this).attr("_prepage")
        } else {
            if ($(this).hasClass("pageNext")) {
                pageno = $(this).attr("_nextpage")
            }
        }
        if (!$(this).hasClass("J_pageSelect") && pageno) {
            var mallOrderStatusId = $module.find(".memberOrderNewPanel .mallOrderNewList > div:visible").attr("id");
            mallOrderStatusId = $.trim(mallOrderStatusId);
            Site.showLoading(mallOrderStatusId);
            $.ajax({
                url: "ajax/member_h.jsp?cmd=getNewOrderListHtml",
                data: "moduleId=" + moduleId + "&status=" + status + "&pageno=" + pageno + "&pageSize=" + pageSize + "&colorStyleType=" + colorStyleType + "&colorStyle=" + colorStyle,
                dataType: "json",
                success: function (result) {
                    if (result.success) {
                        var newOrderListHtml = result.msg;
                        if (status == 2) {
                            $(".mallOrderWaitSettle").empty();
                            $(".mallOrderWaitSettle").append(newOrderListHtml)
                        } else {
                            if (status == 5) {
                                $(".mallOrderFinSettle").empty();
                                $(".mallOrderFinSettle").append(newOrderListHtml)
                            } else {
                                if (status == 10) {
                                    $(".mallOrderFinPay").empty();
                                    $(".mallOrderFinPay").append(newOrderListHtml)
                                } else {
                                    if (status == 15) {
                                        $(".mallOrderFinShip").empty();
                                        $(".mallOrderFinShip").append(newOrderListHtml)
                                    } else {
                                        if (status == 20) {
                                            $(".mallOrderFinProcess").empty();
                                            $(".mallOrderFinProcess").append(newOrderListHtml)
                                        } else {
                                            if (status == 25) {
                                                $(".mallOrderAll").empty();
                                                $(".mallOrderAll").append(newOrderListHtml)
                                            } else {
                                                if (status == -2) {
                                                    $(".mallOrderRefund").empty();
                                                    $(".mallOrderRefund").append(newOrderListHtml)
                                                } else {
                                                    if (status == -3) {
                                                        $("#mallOrderAllOld").empty();
                                                        $("#mallOrderAllOld").append(newOrderListHtml)
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                        var newOrderListScript = result.scripts;
                        eval(newOrderListScript)
                    } else {
                        Fai.ing(result.msg, true)
                    }
                    Site.closeLoading(mallOrderStatusId)
                },
                error: function () {
                    Site.showLoadingAgain(mallOrderStatusId, pageno)
                }
            })
        }
    })
};
Site.showLoading = function (b) {
    var a = ['<div class="orderLoading" style="margin-top:50px;margin-bottom:50px;">', '<table style="width:100%;height:100%;"><tr><td align="center" valign="middle">', '<div class="ajaxLoading2"></div>', "</td></tr></table>", "</div>"];
    $("#" + b).empty().append(a.join(""))
};
Site.showLoadingAgain = function (b, c) {
    Site.closeLoading(b);
    var a = ['<div class="orderLoadingAgain orderLoading" style="margin-top:50px;margin-bottom:50px;text-align:center;">', '<div style="color: #1b7ad1; text-decoration: none; text-align:center; width:100%;cursor:pointer;" onclick="Site.reloadingClick(\'' + b + "'," + c + ');">加载失败，请点击重新加载</div>', "</div>"];
    $("#" + b).empty().append(a.join(""))
};
Site.closeLoading = function (a) {
    $("#" + a).find(".orderLoading").remove()
};
Site.reloadingClick = function (a, b) {
    Site.showLoading(a);
    $("#" + a).find(".pageNo").each(function () {
        if ($.trim($(this).text()) == b) {
            $(this).click()
        }
    })
};
Site.integralInitEvent = function (a) {
    ajaxLoadIntegralList(a, "allIntegralList", -1);
    ajaxLoadIntegralList(a, "incomeIntegralList", 0);
    ajaxLoadIntegralList(a, "expenseIntegralList", 1)
};

function ajaxLoadIntegralList(d, c, a) {
    var b = $("#module" + d).find(".memberIntegralPanel");
    b.find("#" + c).on("click", ".pageNo, .pagePrev, .pageNext", function () {
        var e = $(this).attr("_pageSize"), f = $.trim($(this).text());
        if ($(this).hasClass("pagePrev")) {
            f = $(this).attr("_prepage")
        } else {
            if ($(this).hasClass("pageNext")) {
                f = $(this).attr("_nextpage")
            }
        }
        if (!$(this).hasClass("J_pageSelect") && f) {
            Site.showLoading(c);
            $.ajax({
                url: "ajax/member_h.jsp?cmd=getIntegralListHtml",
                data: "moduleId=" + d + "&pageno=" + f + "&pageSize=" + e + "&integralType=" + a,
                dataType: "json",
                type: "post",
                success: function (g) {
                    setTimeout(function () {
                        if (g.success) {
                            b.find("#" + c).empty();
                            b.find("#" + c).prepend(g.integralListHtml)
                        } else {
                            Fai.ing(g.msg, true)
                        }
                        Site.closeLoading(c)
                    }, 150)
                }
            })
        }
    })
}

Site.mbLogining = false;
Site.changeCaptchaImg = function (a, b) {
    $(a).attr("src", "" + Math.random() * 1000 + "&validateCodeRegType=" + b)
};
Site.wxListener = {timer: "", winOpen: "", w_uid: "", c: 0, wx_name: "", wx_avator: "", popupId: "", popupClose: false};
Site.wbListener = {timer: "", winOpen: "", w_uid: "", c: 0, wb_name: "", wb_avator: ""};
Site.qqPopupID = "";
Site.qqListener = {timer: "", winOpen: "", q_uid: "", c: 0, q_name: "", q_avator: "", q_recv: 0};
Site.otherLoginErrno = {acctAlreadyBind: 1};
Site.searchMenu = {};

function uniqueNslArray(b) {
    var d = [], c = 0, a = b.length;
    for (c = 0; c < a; c++) {
        if (b.indexOf(b[c]) != -1) {
            d.push(b[c])
        }
    }
    return d
}

function RgbatoRgb(d) {
    if (!d) {
        return ""
    }
    if (/#/g.test(d)) {
        return d
    }
    var c = d.split("(")[1].split(")")[0].split(",");
    var f = c[0], e = c[1], a = c[2];
    return "rgb(" + f + "," + e + "," + a + ")"
}

Site.msgBoardShowMsg = function (a) {
    $("#msgAdd .msgTips").show();
    $("#msgAdd .msgTips").html(a)
};
Site.changeMsgBoardValidateCode = function () {
    $("#msgBoardCaptchaImg").attr("src", "" + Math.random() * 1000)
};
Site.setStarSelect = function (a) {
    _getBackgroundColor = function (c) {
        var d = "";
        while (c[0].tagName.toLowerCase() != "html") {
            d = c.css("background-color");
            if (d != "rgba(0, 0, 0, 0)" && d != "transparent") {
                break
            }
            c = c.parent()
        }
        return d
    };
    var b = "";
    if ($(".submitStarList").length > 0) {
        b = _getBackgroundColor($(".submitStarList"))
    }
    if (!b) {
        b = "#FFF"
    }
    $("body").on({
        click: function () {
            a = $(this).index();
            if (a < 5) {
                var c = $(this).parent();
                c.attr("star", a + 1);
                _changeSelectStar(a, c)
            }
        }, hover: function () {
            var d = $(this).index();
            if (d < 5) {
                var c = $(this).parent();
                _changeSelectStar(d, c)
            }
        }, mouseleave: function (d) {
            if (a < 5) {
                var c = $(this).parent();
                _changeSelectStar(a, c)
            }
        }
    }, ".submitStarList li");
    if ($(".statisticCommSwap").length != 0) {
        $(".statisticBox .percent span").css({"border-color": "transparent " + b + " transparent transparent"})
    }
    _changeSelectStar = function (e, g) {
        var h = $(".submitStarList").hasClass("fk-pdStyle5") || false;
        for (var f = 0; f < 5; f++) {
            var c = g.find("li").eq(f);
            if (f < e + 1) {
                if (e < 2) {
                    c.removeClass("select_more");
                    c.addClass("select_less")
                } else {
                    c.removeClass("select_less");
                    c.addClass("select_more")
                }
            } else {
                c.removeClass("select_more");
                c.removeClass("select_less")
            }
        }
        var j = "";
        var d = "";
        if (e == 0) {
            j = LS.badComment;
            d = "#b7b6b6"
        } else {
            if (e == 1) {
                j = LS.moderateComment;
                d = "#b7b6b6"
            } else {
                if (e == 2) {
                    j = LS.moderateComment;
                    d = "#ffb600"
                } else {
                    j = LS.highComment;
                    d = "#ffb600"
                }
            }
        }
        if (e == -1) {
            g.find("li:last").removeClass("scoreTipHover")
        } else {
            if (!h) {
                g.find("li:last").css({color: d})
            }
            g.find("li:last").html("<em></em><span></span>" + (e + 1) + LS.score + j);
            g.find("li:last").addClass("scoreTipHover")
        }
        if (!h) {
            g.find("li:last em").css({"border-color": "transparent " + d + " transparent transparent"})
        }
        g.find("li:last span").css({"border-color": "transparent " + b + " transparent transparent"})
    }
};
Site.msgSubmitShowMsg = function (b, a) {
    $("#msgSubmit" + a).find("#msgSAdd .msgSTips").show();
    $("#msgSubmit" + a).find("#msgSAdd .msgSTips").html(b)
};
Site.changeMsgSubmitValidateCode = function (a) {
    $("#msgSubmit" + a).find("#msgSubmitCaptchaImg").attr("src", "" + Math.random() * 1000 + "&vCodeId=" + a)
};
Site.fixMsgSubmitStyle = function (c) {
    var h = parseInt(Fai.top.$("#module" + c + "").find(".msgSAdd").find(".msgPanel_N").find(".msgSubmit_overToPoint ").width());
    var e = parseInt(Fai.top.$("#module" + c + "").find(".msgSAdd").find(".msgPanel_N").find(".star ").width());
    if (isNaN(e)) {
        e = 0
    }
    var i = parseInt(Fai.top.$("#module" + c + "").find("#msgSubmit" + c + "").find(".msgSAdd_N").width());
    var j = parseInt(Fai.top.$("#module" + c + "").find("#msgSubmit" + c + "").find(".msgSAdd_N").find(".msgPanel_N").css("margin-right"));
    var d = parseInt(Fai.top.$("#module" + c + "").find("#msgSubmit" + c + "").find(".msgSAdd_N").find(".msgPanel_N").width());
    var g = h + 194 + e + j;
    var b;
    var f = 194;
    if (Fai.top.$("#module" + c + "").width() <= 400) {
        if (Fai.top.$("#module" + c + "").width() < 300) {
            Fai.top.$("#module" + c + "").find(".msgSubmit_overToPoint").css("width", "60px");
            Fai.top.$("#module" + c + "").find(".msgSubmit_PropBoard").css("width", "56px");
            Fai.top.$("#module" + c + "").find(".paramResizeHandleRight").css("left", "56px");
            Fai.top.$("#module" + c + "").find(".msgSAdd").find(".msgAddButton_N").find(".msgSubmit_overToPoint").css({
                width: "5px",
                display: "none"
            });
            j = parseInt(Fai.top.$("#module" + c + "").find("#msgSubmit" + c + "").find(".msgSAdd_N").find(".msgPanel_N").css("margin-right"))
        }
        Fai.top.$("#module" + c + "").find("#msgSubmit" + c + "").css({"margin-left": "6px"});
        Fai.top.$("#module" + c + "").find(".msgSAdd").find(".msgAddText_N").css({
            "line-height": "70px",
            height: "70px"
        });
        Fai.top.$("#module" + c + "").find(".msgSAdd").find(".msgCaptcha_N").find(".validateCode_N").css({
            "float": "none",
            "margin-left": "50px"
        });
        Fai.top.$("#module" + c + "").find(".msgSAdd").find(".msgCaptcha_N").find("#msgSubmitCaptchaImg").css({
            "margin-bottom": "15px",
            "margin-top": "10px"
        });
        if (Fai.top.$("#module" + c + "").width() < 300) {
            d = i - 5
        } else {
            d = i - j
        }
        f = b = d - h - e - 13;
        Fai.top.$("#module" + c + "").find("#msgSubmit" + c + "").find(".msgSAdd_N").find(".msgPanel_N").css({width: d + "px"});
        Fai.top.$("#module" + c + "").find(".msgSAdd").find(".msgPanel_N").find(".g_itext").css({width: b + "px"});
        Fai.top.$("#module" + c + "").find(".msgSAdd").find(".msgAddText_N").find(".g_textarea").css({width: f + "px"})
    }
    var a = Fai.top.$("#module" + c + "").find(".msgSAdd").find(".msgPanel_N").length;
    if (Fai.top.$("#module" + c + "").width() > 400) {
        Fai.top.$("#module" + c + "").find(".msgSAdd").find(".msgAddButton_N").find(".msgSubmit_overToPoint").css({display: "inline-block"});
        if (g <= i && i < 2 * g) {
            d = i - j;
            f = b = d - h - e - 13
        } else {
            if (2 * g <= i && i < 3 * g) {
                if (a == 1) {
                    d = i - j;
                    f = b = d - h - e - 13
                } else {
                    d = (i / 2) - j;
                    b = d - h - e - 13;
                    f = b * 2 + j + h + e + 13
                }
            } else {
                if (i >= 3 * g) {
                    if (a == 1) {
                        d = i - j;
                        f = b = d - h - e - 13
                    } else {
                        if (a == 2) {
                            d = (i / 2) - j;
                            b = d - h - e - 13;
                            f = b * 2 + j + h + e + 13
                        } else {
                            d = (i / 3) - j;
                            b = d - h - e - 13;
                            f = d * 3 + j * 2 - h - e * 3
                        }
                    }
                }
            }
        }
        Fai.top.$("#module" + c + "").find("#msgSubmit" + c + "").find(".msgSAdd_N").find(".msgPanel_N").css({width: d + "px"});
        Fai.top.$("#module" + c + "").find(".msgSAdd").find(".msgPanel_N").find(".g_itext").css({width: b + "px"});
        Fai.top.$("#module" + c + "").find(".msgSAdd").find(".msgAddText_N").find(".g_textarea").css({width: f + "px"});
        if (Fai.top.$("#module" + c + "").width() > 300 && Fai.top.$("#module" + c + "").width() < 650) {
            Fai.top.$("#module" + c + "").find(".msgSAdd").find(".m_ibutton").css({"float": "left"})
        }
    }
};
Site.jumpToPage = function (d, b, a) {
    var c = parseInt($(Fai.top.$("#module" + d + "").find(".pagenation_N").find(".jumpPageDiv").find("#jumpPage")).val());
    if (isNaN(c)) {
        c = 1
    }
    if (c > b) {
        c = parseInt(b)
    }
    if (c == 0) {
        c = 1
    }
    window.location.href = "" + a + "?m" + d + "pageno=" + c + "#module" + d + ""
};
Site.MallAjaxErrno = {
    ok: 0,
    error: 1,
    manager: 2,
    login: 3,
    idNotExist: 4,
    orderSettle: 5,
    noMall: 6,
    toProductDetail: 7,
    orderNotExist: 8,
    networkError: 9,
    outOfMallAmount: 10,
    mallAmountZero: 11,
    mallOptionStop: 12,
    OutOfAllowAmount: 13,
    notAdded: 14,
    payDomainError: 15,
    couponNotFound: 16,
    couponUnavail: 17,
    couponOverTime: 18,
    authMemberNotAllow: 19
};
Site.getDialogHtml = function (r, g) {
    if (!Fai.isInteger(r.rt)) {
        r.rt = 1
    }
    var h = parseInt(r.rt), d = 0, m = 0, k = "", e = "about:blant;", p = LS.goToMallCartStr, a = LS.continueShopping,
        b = LS.resultFailMsg, n = "resultFailIcon";
    if (!g) {
        g = "javascript:;"
    }
    var i = Site.getHtmlUrl("mcart");
    var q = "target='_blank'";
    var f;
    switch (h) {
        case Site.MallAjaxErrno.ok:
            n = "suc-ico";
            b = LS.resultSuccessMsg;
            if (typeof(r.totalPrice) != "undefined") {
                d = r.totalPrice
            }
            if (typeof(r.totalAmount) != "undefined") {
                m = r.totalAmount
            }
            if (typeof(r.choiceCurrencyVal) != "undefiend") {
                k = r.choiceCurrencyVal
            }
            var j = k + d;
            f = Fai.format(LS.cartDetailInfo, m, j);
            break;
        case Site.MallAjaxErrno.error:
            Site.getTopWindow().location.href = "mcart.jsp?msg=2";
            return false;
            break;
        case Site.MallAjaxErrno.manager:
            n = "resultFailIcon";
            b = "购买失败。";
            var p = "去购物车结算";
            var a = "返回";
            f = "当前为管理状态，购买失败。";
            r.success = true;
            break;
        case Site.MallAjaxErrno.login:
            return false;
            break;
        case Site.MallAjaxErrno.idNotExist:
            Site.getTopWindow().location.href = "mcart.jsp?msg=1";
            return false;
            break;
        case Site.MallAjaxErrno.orderSettle:
            Site.getTopWindow().location.href = "mcart.jsp";
            return false;
            break;
        case Site.MallAjaxErrno.noMall:
            Site.getTopWindow().location.href = "mcart.jsp";
            return false;
            break;
        case Site.MallAjaxErrno.toProductDetail:
            Site.getTopWindow().location.href = "pd.jsp?id=" + productId + "&ram=" + Math.random();
            return false;
            break;
        case Site.MallAjaxErrno.orderNotExist:
            Site.getTopWindow().location.href = "mcart.jsp?msg=1";
            return false;
            break;
        case Site.MallAjaxErrno.networkError:
            f = LS.networkError;
            break;
        case Site.MallAjaxErrno.outOfMallAmount:
            f = LS.mallAmountOverFlow;
            break;
        case Site.MallAjaxErrno.mallAmountZero:
            f = LS.mallAmountZero;
            break;
        case Site.MallAjaxErrno.mallOptionStop:
            f = LS.mallOptionStop;
            break;
        case Site.MallAjaxErrno.OutOfAllowAmount:
            f = LS.allowAmountOverFlow;
            break;
        case Site.MallAjaxErrno.notAdded:
            f = LS.mallProductNotAdded;
            break;
        case Site.MallAjaxErrno.authMemberNotAllow:
            f = r.data + LS.authLevelBuy;
            break;
        default:
            Site.getTopWindow().location.href.reload();
            return false
    }
    var l = [];
    if (r.success) {
        l = ["<div class='mallCartOperate'>", "<a id='settleAccountsBtn' class='formBtn' " + q + " href='" + i + "' style='width:108px; height:35px; background:#ff6d00;font-size:14px;'>" + p + "</a>", "<a id='dialogContinueShopping' href='javascript:;' class='shopping popupBClose' style='font-size:14px; color:#636363 !important;'>", a, "</a>", "</div>"]
    }
    var c = "";
    if (Site.getTopWindow()._lcid === 1033) {
        c = "letter-spacing:0px;"
    }
    var o = ["<table style='width:100%;height:100%;'>", "<tr>", "<td style='width:50px;'></td>", "<td style='width:280px;'>", "<div class='" + n + " addItemTextTips' style='font-size:14px; color:#636363' >" + b + "</div>", "<div class='cartInfoContent' style='" + c + "' >" + f + "</div>", l.join(""), "</td>", "<td style='width:50px;'></td>", "</tr>", "</table>"];
    if (h == Site.MallAjaxErrno.mallAmountZero || h == Site.MallAjaxErrno.OutOfAllowAmount || h == Site.MallAjaxErrno.outOfMallAmount) {
        o[0] = "<table style='width:100%;height:100%;margin-top:10px;'>"
    }
    return o.join("")
};
var loginDialogCache = [];
loginDialogCache.html = "";
loginDialogCache.qqOpen = false;
loginDialogCache.sinaOpen = false;
loginDialogCache.wxOpen = false;
loginDialogCache.newWXOpen = false;
loginDialogCache.closeOldSiteWX = false;
loginDialogCache.qqAppId = "";
loginDialogCache.sinaAppKey = "";
loginDialogCache.wxAppKey = "";
loginDialogCache.qqReUri = "";
loginDialogCache.sinaReUri = "";
loginDialogCache.wxReUri = "";
loginDialogCache.displayList;
loginDialogCache.noRemark;
loginDialogCache.REMARK_MAXLEN;
loginDialogCache.extendParam;
var loginDialogLock = false;
Site.mallBuying = {};
Site.initOptionsStr = function (a) {
    Site.optionsStr.oldOptionsStr = a
};
Site.optionsStr = {};
Site.mallImmeBuying = false;
Site.mallImmeBuy = function (f, b) {
    if (_siteDemo) {
        Fai.ing("当前为“模板网站”，请先“复制网站”再进行立刻购买。");
        return
    }
    if (Site.mallImmeBuying) {
        return
    }
    Site.mallImmeBuying = true;
    var n = "id=" + f;
    var d;
    if (b === "PdSlide") {
        d = $("#fk-productSlideContent")
    } else {
        d = $("#module" + b)
    }
    var m = $.cookie("isNeedAddCartItem");
    if (typeof m == "undefined" || m == null || m == "") {
        if (b && b != "undefined") {
            var p = d.find(".optionMsg");
            if (Fai.isNull(d)) {
                return
            }
            var r = true;
            var k = [];
            n += "&fromDetail=true";
            d.find(".optionItemWrap").each(function () {
                var v = $(this);
                if (v.find(".optionItemHover").length == 1) {
                    var u = v.attr("data"), t = v.attr("type"), i = v.find(".optionItemHover").attr("data"), w = {};
                    w.name = u;
                    w.value = parseInt(i);
                    if (t != null) {
                        w.type = parseInt(t)
                    }
                    k.push(w);
                    p.hide()
                } else {
                    var j = v.parent().parent().find(".propName").text();
                    if (j.charAt(j.length - 1) == ":" || j.charAt(j.length - 1) == "：") {
                        j = j.substring(0, j.length - 1)
                    }
                    p.show();
                    p.html(Fai.format(LS.mallCartChoiceItemError, Fai.encodeHtml(j)));
                    if (b === "PdSlide") {
                        var y = $(this).parent().parent().position();
                        var x = $(".fk-slideForProduct .f-propListContent");
                        x.scrollTop(y.top)
                    }
                    r = false;
                    return false
                }
            });
            if (Site.optionsStr.oldOptionsStr != "null" && Site.optionsStr.oldOptionsStr) {
                var o = Site.optionsStr.oldOptionsStr.split("_"), e = [];
                for (var h = 0; h < o.length; h++) {
                    for (var g = 0; g < k.length; g++) {
                        if (k[g].name == o[h]) {
                            e.push(k[g])
                        }
                    }
                }
                k = e
            }
            if (!r) {
                Site.mallImmeBuying = false;
                return false
            }
            if (k.length > 0) {
                n += "&optionList=" + Fai.encodeUrl($.toJSON(k))
            }
        }
        var q = $("#cartbuyCount" + b), c = q.val(), l = 1;
        if (Fai.isInteger(c)) {
            l = parseInt(c)
        }
        if (l < 1) {
            l = 1
        } else {
            if (l > 9999999) {
                l = 9999999
            }
        }
        q.val(l);
        var a = {pid: f, amount: l, optList: $.toJSON(k)};
        n += "&amount=" + l + "&codata=" + $.toJSON(a)
    } else {
        var k = [];
        var s = $.parseJSON(m);
        k = Fai.decodeUrl(s.opList);
        if (b && b != "undefined") {
            n += "&fromDetail=true";
            if (typeof k != "undefined" && k != "[]" && k != "") {
                n += "&optionList=" + Fai.encodeUrl(k)
            }
        }
        var a = {pid: s.pid, amount: s.count, optList: k};
        n += "&amount=" + s.count + "&codata=" + $.toJSON(a);
        $.cookie("isNeedAddCartItem", null)
    }
    $.ajax({
        type: "post", url: "ajax/order_h.jsp?cmd=addIme", data: n, error: function () {
            Site.mallImmeBuying = false;
            Fai.ing(LS.networkError, true)
        }, success: function (i) {
            Site.mallImmeBuying = false;
            var j = $.parseJSON(i);
            if (j.rt == Site.MallAjaxErrno.login) {
                Site.createLoginDialog(f, b, "", "immeBuy", Fai.encodeUrl($.toJSON(k)), l)
            } else {
                if (j.rt == Site.MallAjaxErrno.mallAmountZero) {
                    Fai.ing(LS.mallAmountZero, true)
                } else {
                    if (j.rt == Site.MallAjaxErrno.mallOptionStop) {
                        Fai.ing(LS.mallOptionStop, true)
                    } else {
                        if (j.rt == Site.MallAjaxErrno.outOfMallAmount) {
                            Fai.ing(LS.mallAmountOverFlow, true)
                        } else {
                            if (j.rt == Site.MallAjaxErrno.OutOfAllowAmount) {
                                Fai.ing(LS.allowAmountOverFlow, true)
                            } else {
                                if (j.rt == Site.MallAjaxErrno.notAdded) {
                                    Fai.ing(LS.mallProductNotAdded, true)
                                } else {
                                    if (j.rt == Site.MallAjaxErrno.authMemberNotAllow) {
                                        Fai.ing(j.data + LS.authLevelBuy, true)
                                    } else {
                                        Fai.top.location.href = Site.getHtmlUrl("mstl") + "?imme"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    });
    if (Fai.isIE()) {
        window.event.cancelBubble = true;
        window.event.returnValue = false
    } else {
        if (!Fai.isMozilla()) {
            event.stopPropagation();
            event.preventDefault()
        }
    }
};
Site.getEachItemPrice = function (d) {
    var c = parseFloat($(d).find(".amountEdit").attr("_itemprice"), 2);
    var b = parseInt($(d).find(".amountEdit").val());
    if (isNaN(b)) {
        return parseFloat($(d).find(".itemTotalText").html())
    } else {
        return (c * b)
    }
};
Site.showSaleRedPromotion = function (e, c, a, m, k) {
    if (typeof(e) == "undefined" || typeof(c) == "undefined" || e == null || c == null) {
        return
    }
    if (c < 0) {
        return
    }
    var h = $(".showRedsalePro").eq(0).width();
    var l = $(".J_fullReduceCalss_" + c).eq(0).width();
    if (Site.checkSaleProVal(e)) {
        var f = e.other.ruleData.d;
        if (f.length > 0) {
            var g = "";
            var b = [];
            for (var d = 0; d < f.length; d++) {
                if (typeof(f[d].m) != "undefined" && typeof(f[d].n) != "undefined") {
                    if (d != 0) {
                        b.push(LS.comma)
                    }
                    if (Fai.top._lcid != 2052 && Fai.top._lcid != 1028) {
                        b.push(Fai.format(LS.salePromotionFullReduce, Fai.formatPriceEn(f[d].m, null, true), Fai.formatPriceEn(f[d].n, null, true)))
                    } else {
                        b.push(Fai.format(LS.salePromotionFullReduce, f[d].m, f[d].n))
                    }
                }
            }
            if (e.other.ruleData.s == "1") {
                g = Fai.format(LS.salePromotionSigle, b.join(""))
            } else {
                if (e.other.ruleData.s == "2") {
                    g = Fai.format(LS.salePromotionGroup, b.join(""))
                }
            }
            $(".J_saleWord_" + c).css({left: (45 + l) + "px", width: (h - 235 - l) + "px"});
            $(".J_saleWord_" + c).html(g);
            $(".J_saleWord_" + c).attr("title", g)
        }
    }
    if (typeof(a) == "undefined" || typeof(m) == "undefined" || typeof(k) == "undefined" || a == null || m == null || k == null) {
        return
    }
    if (a == m) {
        if (Fai.top._lcid != 2052 && Fai.top._lcid != 1028) {
            $(".J_salePrice_" + c).html(k + Fai.formatPriceEn(a))
        } else {
            $(".J_salePrice_" + c).html(k + a.toFixed(2))
        }
    } else {
        var j = [];
        if (Fai.top._lcid != 2052 && Fai.top._lcid != 1028) {
            j.push("<div class='needPay'>");
            j.push(k + Fai.formatPriceEn(a));
            j.push("</div>");
            j.push("<div class='itemTotalPay'>");
            j.push(k + Fai.formatPriceEn(m));
            j.push("</div>")
        } else {
            j.push("<div class='needPay'>");
            j.push(k + a.toFixed(2));
            j.push("</div>");
            j.push("<div class='itemTotalPay'>");
            j.push(k + m.toFixed(2));
            j.push("</div>")
        }
        $(".J_salePrice_" + c).html(j.join(""));
        $(".J_salePrice_" + c).css("bottom", "1px");
        $(".J_salePrice_" + c).parent(".showRedsalePro").find(".fullReduceCalss").addClass("fullReduceRed");
        $(".J_salePrice_" + c).parent(".showRedsalePro").find(".fullReduceCalss").removeClass("fullReduceGray");
        $(".J_salePrice_" + c).parent(".showRedsalePro").find(".fullReduceCalssRect").addClass("fullReduceRectRed");
        $(".J_salePrice_" + c).parent(".showRedsalePro").find(".fullReduceCalssRect").removeClass("fullReduceRectGray")
    }
};
Site.checkSaleProVal = function (a) {
    if (typeof(a.other) != "undefined") {
        if (typeof(a.other.ruleData) != "undefined") {
            if (typeof(a.other.ruleData.s) != "undefined" && typeof(a.other.ruleData.d) != "undefined") {
                if (a.other.ruleData.d != null && a.other.ruleData.d.length > 0) {
                    return true
                }
            }
        }
    }
    return false
};
Site.showSaleMemOrRedValInIE = function () {
    $(".saleProSignHover").hover(function () {
        $(this).find(".saleMemOrRedName").css("border-bottom-width", "0px");
        $(this).find(".saleMemOrRedVal").css({"background-color": "#ffefe9", display: "block"});
        $(this).find(".saleMemOrJt").addClass("saleMemOrJtUp")
    }, function () {
        $(this).find(".saleMemOrRedName").css("border-bottom-width", "1px");
        $(this).find(".saleMemOrRedVal").css({"background-color": "#ffefe9", display: "none"});
        $(this).find(".saleMemOrJt").removeClass("saleMemOrJtUp")
    })
};
Site.mallStlCalcTotal = function (a) {
    var b = Fai.top.$("#module" + a);
    var e = parseFloat(b.find(".cartTotal").attr("pay_price"));
    if (isNaN(e)) {
        return
    }
    var c = parseFloat(b.find("input[name=mallShip]:checked").attr("price"));
    if (isNaN(c)) {
        c = 0
    }
    if ($("#mallShipTemplate_province").length > 0) {
        var i = b.find("input[name=mallShip]:checked");
        i.attr("provinceCode", $.trim($("#mallShipTemplate_areaBoxInput").attr("area1")));
        i.attr("cityCode", $.trim($("#mallShipTemplate_areaBoxInput").attr("area2")));
        i.attr("countyCode", $.trim($("#mallShipTemplate_areaBoxInput").attr("area3")));
        i.attr("streetCode", $.trim($("#mallShipTemplate_areaBoxInput").attr("area4")));
        i.attr("isCus", $.trim($("#mallShipTemplate_areaBoxInput").attr("isCus")))
    }
    var f = 0;
    if ($("#offsetMoney").length > 0) {
        var h = $("#offsetMoney").attr("_offsetmoney");
        if (!isNaN(h)) {
            f = parseFloat(h);
            if ((e + c) < f) {
                Fai.ing(Fai.format(LS.integral_maxUse, $("#useItg").attr("_maxuse"), Fai.encodeHtml($("#useItg").attr("__itegName"))), true);
                $("#useItg").focus();
                if (Fai.top._lcid != 2052 && Fai.top._lcid != 1028) {
                    b.find(".mallStlTotal .totalValue").text(Fai.formatPriceEn(e + c))
                } else {
                    b.find(".mallStlTotal .totalValue").text((e + c).toFixed(2))
                }
                return
            }
        }
    }
    var g = 0;
    if ($("#couponOffsetMoney").length > 0) {
        var h = $("#couponOffsetMoney").attr("_offsetmoney");
        if (!isNaN(h)) {
            g = parseInt(h)
        }
    }
    if (e < (f + g)) {
        return false
    }
    var d = parseInt(b.find("#presentItg").attr("value"));
    if (d > 0) {
        b.find("#presentItg").text(parseInt((e - f - g).toFixed(2) * d))
    }
    if (Fai.top._lcid != 2052 && Fai.top._lcid != 1028) {
        b.find("#shippingMoneyVal").text(Fai.formatPriceEn(c)).attr("_shipmoney", c);
        b.find(".mallStlTotal .totalValue").text(Fai.formatPriceEn(e + c - f - g))
    } else {
        b.find("#shippingMoneyVal").text(c.toFixed(2)).attr("_shipmoney", c);
        b.find(".mallStlTotal .totalValue").text((e + c - f - g).toFixed(2))
    }
};
Site.mallStlChangeBank = function (a) {
    $("#" + a).attr("checked", true)
};
Site.mallNumeric = function (a) {
    $("#module" + a + " .numeric").numeric({decimal: " ", negative: false})
};
Site.getBackgroundColor = function (a) {
    var b = "";
    while (a[0].tagName.toLowerCase() != "html") {
        b = a.css("background-color");
        if (b != "rgba(0, 0, 0, 0)" && b != "transparent") {
            break
        }
        a = a.parent()
    }
    return b
};
Site.mallImmeSubmit = function (c, l, n, j) {
    var i = {}, e = {}, c = Fai.top.$("#module" + c), f = c.find(".stlMsg");
    var d = Site.getMallSubmitData(c, i, e, l, n);
    if (d != "") {
        f.show();
        f.html(d);
        Site.scrollToDiv(c);
        return
    }
    var b = c.find(".mallStlOpt input");
    b.attr("disabled", true);
    f.show();
    f.html(LS.mallStlSubmitting);
    Site.scrollToDiv(c);
    if (l != 0 && n) {
        var k = {}, g = [];
        g.push(e);
        k.addrInfoList = g;
        $.ajax({
            type: "post",
            url: action = "ajax/memberAdm_h.jsp?cmd=set&opera=addAddr&id=" + l,
            data: "info=" + Fai.encodeUrl($.toJSON(k)),
            success: function (o) {
            },
            error: function () {
            }
        })
    }
    if (i.payMode == 5) {
        var m = i.name;
        var a = new RegExp("[\\u4E00-\\u9FFF]+", "g");
        if (m) {
            if (m.length < 2) {
                if (!a.test(m)) {
                    f.hide();
                    Site.scrollToDiv(c);
                    Fai.ing(LS.orderValidRecvName);
                    b.attr("disabled", false);
                    return
                }
            }
        } else {
            if (l != 0 && j) {
                var h = "";
                if (j.length < 2) {
                    if (!a.test(m)) {
                        h = "会员"
                    }
                }
                i.name = h + j
            } else {
                i.name = "游客"
            }
        }
    }
    $.ajax({
        type: "post",
        url: "ajax/order_h.jsp?cmd=settle&imme",
        data: "data=" + Fai.encodeUrl($.toJSON(i)),
        error: function () {
            b.removeAttr("disabled");
            f.html(LS.mallStlSubmitError)
        },
        success: function (o) {
            b.removeAttr("disabled");
            var o = jQuery.parseJSON(o);
            if (o.success) {
                Fai.top.location.href = Site.getHtmlUrl("mdetail") + "?id=" + o.oid + "#firstSubmit"
            } else {
                if (o.rt == -3) {
                    f.html(LS.mallStlSubmitNotFound)
                } else {
                    if (o.rt == -9) {
                        f.html(LS.mallStlSubmitStatusError)
                    } else {
                        if (o.rt == Site.MallAjaxErrno.outOfMallAmount) {
                            f.html(Fai.format(LS.mallAmountOverNameList, o.productsName))
                        } else {
                            f.html(LS.mallStlSubmitError)
                        }
                    }
                }
            }
        }
    })
};
Site.showBankList = function (b) {
    var a = $("#" + b).attr("value");
    $("#mallPay").attr("value", a)
};
Site.initOnlineBankList = function () {
    $("#payOnlinePanel").insertAfter($("#onlineItem")[0])
};
Site.initPdComment = function (b) {
    var a = $("#module" + b);
    a.find(".J-pd-ct").unbind("click").bind("click", function () {
        var e = $(this), c = e.attr("_oid"), d = a.find(".J-pd-panel" + c), f = d.find(".msgImgList");
        if (Fai.isIE6()) {
            f.css("display", "none")
        }
        if (d.is(":visible")) {
            d.hide()
        } else {
            d.show();
            if (Fai.isIE6()) {
                setTimeout(function () {
                    f.css({display: "block"});
                    var g = f.find("td");
                    if (typeof(g) != "undefined" && g != null) {
                        f.find("td").eq(0).find("div").click()
                    }
                }, 20)
            }
        }
    })
};
Site.commMenUpAllImgList = null;
Site.setMenCommUpAllImgList = function (a) {
    Site.commMenUpAllImgList = Fai.fkEval("(" + a + ")");
    if (Fai.isIE6() || Fai.isIE7()) {
        $(".msgBoard_upImg_border").css({width: "50px", height: "50px"})
    }
};
Site.changeIEMsgInputWidth = function () {
    if (isIE = navigator.userAgent.indexOf("MSIE") != -1) {
        $("#orderLeveaMsgIn").css({height: "17px", "line-height": "17px", width: "98%"})
    }
};
Site.orderLeveaMsgTip = "";
Site.orderMessageOpen = false;
Site.orderMessageMaxNum = 0;
Site.placeholder = function (b) {
    var a = "placeholder" in document.createElement("input");
    if (!a) {
        b.each(function (g, c) {
            var f = $(this), d = f.attr("placeholder"), j = f.position(), e = f.outerHeight(true),
                k = f.outerWidth(true), m = f.css("padding-left"), l = f.css("padding-top"),
                i = $("<span class='J_wrap-placeholder'></span>").text(d).css({
                    display: "inline-block",
                    height: e,
                    "line-height": e + "px",
                    position: "absolute",
                    left: j.left,
                    top: j.top,
                    paddingLeft: 8,
                    paddingTop: l,
                    color: "#aaa"
                });
            i.appendTo(f.parent());
            f.on("focusin keyup", function () {
                f.val() != "" ? i.hide() : i.show()
            });
            i.on("click", function () {
                f.focus()
            });
            f.siblings(".fk_lowIEPlaceholderStyle").remove()
        })
    }
};
Site.mCartsaleItemCk = function (e) {
    var input = $(e).prev();
    if (input.prop("checked")) {
        input.prop("checked", false)
    } else {
        input.prop("checked", true)
    }
    eval($(e).prev().attr("onclick"))
};
Site.setCheckBoxToFalgDiv = function (b) {
    if (b.find(".J_mallCart").hasClass("mallCartNew")) {
        var a = b.find(".mCartCheckDiv");
        a.each(function () {
            var c = $(this).prev();
            if (c.prop("checked")) {
                $(this).addClass("itemLabelChecked mCart_checked")
            } else {
                $(this).removeClass("itemLabelChecked mCart_checked")
            }
        })
    }
};
Site.printRemarkRefund = function (a, d, b) {
    $("#createRefundRemark").click(function () {
        var f = "";
        f += "<div class='remarkContent'>";
        f += "<textarea id='remarkInputArea' class='remarkInputArea' maxlength='200' placeholder='最多输入200字'></textarea>";
        f += "</div>";
        f += "<div class='remarkSubmit' id='remarkSubmit'>" + LS.refundSubmit + "</div>";
        var i = "<div class='refundRemarkTitle'>" + LS.refundWantReamrk + "</div>";
        var h = parseInt(Math.random() * 10000);
        var e = {boxId: h, title: i, htmlContent: f, width: 580, boxName: "remarkInfo", extClass: "refundRemarkPopup"};
        var g = Site.popupBox(e);
        $("#remarkInputArea").focus()
    });
    var c = false;
    $("#remarkSubmit").live("click.refundRemark", function () {
        if (c) {
            return
        }
        var e = $("#remarkInputArea").val();
        if ($.trim(e).length == 0) {
            Fai.ing(LS.refundRemarkNotEmpty);
            return
        }
        if (e.length > 200) {
            Fai.ing(LS.refundRemarkTooLong);
            return
        }
        c = true;
        Fai.ing(LS.refundRemarkSubmiting);
        $.ajax({
            type: "post",
            url: "ajax/order_h.jsp?cmd=setRefundRemark",
            data: "orderId=" + a + "&speaker=1&itemId=" + d + "&remark=" + Fai.encodeUrl(e),
            error: function () {
                c = false;
                Fai.ing("系统繁忙，请稍后重试。")
            },
            success: function (g) {
                var g = $.parseJSON(g);
                if (g.success) {
                    Fai.ing(LS.refundRemarkSuccess, true);
                    $(".refundRemarkPopup").find(".popupBClose").click();
                    var f = $.format.date(new Date(g.remarkTime), "yyyy-MM-dd HH:mm:ss");
                    var h = "";
                    h += "<div class='recordContent'>";
                    h += "<div class='recordLine'>";
                    h += "<div class='recordSenderIcon memberIcon'></div>";
                    h += "<div class='recordSender'>" + b + "</div>";
                    h += "<div class='recordTime'>" + f + "</div>";
                    h += "</div>";
                    h += "<div class='recordDetail'>";
                    h += "<table class='recordDetailTable'>";
                    h += "<tr class='recordDetailLine'>";
                    h += "<td class='recordDetailCusTd' colspan='2'>";
                    h += Fai.encodeHtml(e);
                    h += "</td>";
                    h += "</tr>";
                    h += "</table>";
                    h += "<div class='triangleIco'>◆</div>";
                    h += "</div>";
                    h += "</div>";
                    $("#refundRemarkTitle").after(h)
                } else {
                    Fai.ing(g.msg, true)
                }
                c = false
            }
        })
    })
};
Site.refundPanelEvent = function (a, c, b) {
    $("#closeRefund").click(function () {
        var e = "";
        e += "<div class='refundCloseTips'>" + LS.refundCancelTip + "</div>";
        e += "<div class='refundCloseSubmit' id='closeRefundBtn'>" + LS.refundSure + "</div>";
        var g = parseInt(Math.random() * 10000);
        var d = {
            boxId: g,
            title: "",
            htmlContent: e,
            width: 358,
            boxName: "closeRefundInfo",
            extClass: "closeRefundPopup"
        };
        var f = Site.popupBox(d)
    });
    $("#closeRefundBtn").live("click.closeRefund", function () {
        $.ajax({
            type: "post",
            url: "ajax/order_h.jsp?cmd=setRefundStatus&type=del&nowStatus=" + b,
            data: "orderId=" + a + "&itemId=" + c,
            error: function () {
                isSave = false;
                Fai.ing("系统繁忙，请稍后重试。")
            },
            success: function (d) {
                var d = $.parseJSON(d);
                if (d.success) {
                    window.location.reload()
                } else {
                    Fai.ing(d.msg, true);
                    isSave = false
                }
            }
        })
    });
    $("#editRefund").click(function () {
        $.ajax({
            type: "post",
            url: "ajax/order_h.jsp?cmd=setRefundStatus&type=edit&nowStatus=" + b,
            data: "orderId=" + a + "&itemId=" + c,
            error: function () {
                isSave = false;
                Fai.ing("系统繁忙，请稍后重试。")
            },
            success: function (d) {
                var d = $.parseJSON(d);
                if (d.success) {
                    window.location.reload()
                } else {
                    Fai.ing(d.msg, true);
                    isSave = false
                }
            }
        })
    });
    $("#editFlow").click(function () {
        $.ajax({
            type: "post",
            url: "ajax/order_h.jsp?cmd=setRefundStatus&type=editFlow&nowStatus=" + b,
            data: "orderId=" + a + "&itemId=" + c,
            error: function () {
                isSave = false;
                Fai.ing("系统繁忙，请稍后重试。")
            },
            success: function (d) {
                var d = $.parseJSON(d);
                if (d.success) {
                    window.location.reload()
                } else {
                    Fai.ing(d.msg, true);
                    isSave = false
                }
            }
        })
    })
};
Site.remarkImgEvent = function () {
    $(".J_refundPic").click(function () {
        var c = $(this), f = c.parent();
        var b = f.find(".J_refundPic");
        var e = [], g = -1, d = c.attr("bigImg");
        $.each(b, function (j, k) {
            var h = $(k).attr("bigImg");
            if (h) {
                e.push(h);
                if (h == d) {
                    g = j
                }
            }
        });
        if (g < 0) {
            return
        }
        b.hide();
        f.data("imgList", e);
        f.data("index", g);
        var a = "";
        a += "<div class='picImgViewer J_imgViewer'>";
        if (b.length > 1) {
            a += "<div>";
            a += "<div class='picPage left J_page'></div>";
            a += "<div class='picPage right J_page'></div>";
            a += "</div>"
        }
        a += "<span class='closeIcon J_close'></span>";
        a += "<table cellpadding='0' cellspacing='0' class='picTb'><tr><td>";
        a += "<img class='picImg J_img' src='" + e[g] + "'/>";
        a += "</td></tr></table>";
        a += "</div>";
        c.parent().append(a)
    });
    $(".J_refundPicContain .J_close").live("click", function () {
        var a = $(this).parents(".J_refundPicContain");
        a.find(".picImgViewer").remove();
        a.find(".J_refundPic").show()
    });
    $(".J_refundPicContain .J_page").live("click", function () {
        var a = $(this).parents(".J_refundPicContain");
        var c = a.data("imgList"), d = a.data("index"), b = c.length;
        if (b <= 1) {
            return
        }
        if ($(this).hasClass("left")) {
            d--
        } else {
            d++
        }
        if (d < 0) {
            d = b - 1
        }
        if (d >= b) {
            d = 0
        }
        a.data("index", d);
        a.find(".J_img").attr("src", c[d])
    })
};
Site.showTopBar = function () {
    if (Fai.top.$("#arrow").hasClass("g_arrow_up")) {
        Fai.top.$("#arrow").removeClass("g_arrow_up");
        Fai.top.$("#topBar").hide()
    } else {
        Fai.top.$("#arrow").addClass("g_arrow_up");
        Fai.top.$("#topBar").show()
    }
    Site.resetGmainPos()
};
Site.initModuleFileList = function (a, b) {
    $("#module" + a + " .line table").mouseover(function () {
        $(this).addClass("g_hover")
    }).mouseleave(function () {
        $(this).removeClass("g_hover")
    });
    Site.initContentSplitLine(a, b)
};
Site.richMarquee = function (c) {
    var t = {direction: "up", speed: "normal", loop: "infinite", moveout: false, isScrolling: false};
    $.extend(t, c);
    if (t.speed == "normal") {
        $.extend(t, {speed: 28})
    } else {
        if (t.speed == "slow") {
            $.extend(t, {speed: 60})
        } else {
            $.extend(t, {speed: 13})
        }
    }
    if (!t.id) {
        return
    }
    if ($("#module" + t.id).data("restart")) {
        var j = t.id;
        Fai.top.$("#richmarqueeNewParent" + j).after($("#module" + t.id).data("content"));
        Fai.top.$("#richmarqueeNewParent" + j).remove()
    }
    if (!$("#module" + t.id).data("content")) {
        var n = Fai.top.$(".formMiddleContent" + t.id).html();
        $("#module" + t.id).data("content", n)
    }
    if ($("#module" + t.id).data("_intab") !== 0) {
        Fai.top["richMarqueeInTab" + t.id] = t
    }
    var j = t.id, r = $("#richMarquee" + j), f = r.outerHeight(true), d = r.outerWidth(true), i = (d > a()) ? d : a(),
        e = g(), i = e > i ? e : i, x = t.direction, u = 0, h = "top", p = t.speed,
        v = (t.loop != "infinite" || t.loop <= 0) ? 1 : t.loop, l = t.moveout, y = t.isScrolling, w = 20,
        s = $("<div id='richMarqueeCopy" + j + "' class='richMarquee' style='position:absolute; overflow:hidden; width:" + i + "px; height:" + r.height() + "px ' ></div>"),
        m = $("<div id='richmarqueeNewParent" + j + "' style='overflow:hidden;width:" + i * 2 + "'></div>");

    function o() {
        Fai.stopInterval("rm" + j);
        if ($("#richmarqueeNewParent" + j).length < 1) {
            m.appendTo(r.parent());
            r.appendTo(m);
            s.appendTo(m);
            if (!y && !l) {
            } else {
                $(r.html()).appendTo(s)
            }
        } else {
            m = $("#richmarqueeNewParent" + j);
            r = $("#richMarquee" + j);
            s = $("richMarqueeCopy" + j)
        }
        if (x == "up") {
            u = f;
            h = "top"
        } else {
            if (x == "down") {
                u = 0 - f;
                if (y && !l) {
                    u = 0
                }
                h = "top"
            } else {
                if (x == "left") {
                    u = f;
                    h = "left"
                } else {
                    u = 0 - i;
                    if (y && !l) {
                        u = 0
                    }
                    if (y && l) {
                        u = -i
                    }
                    h = "left"
                }
            }
        }
        if (l) {
            r.css(h, 0)
        } else {
            r.css(h, u)
        }
        if (x == "up" || x == "down") {
            r.css("left", 0)
        }
        if (x == "left" || x == "right") {
            r.css("top", 0)
        }
        $("#richmarqueeNewParent" + j).mouseover(function () {
            Fai.stopInterval("rm" + j)
        }).mouseout(function () {
            if (v == "infinite" || v > 0) {
                Fai.startInterval("rm" + j)
            }
        });
        b();
        k(x)
    }

    function a() {
        var z = r.find("img");
        if (z.length > 0) {
            var B = z[0].width;
            for (var A = 0; A < z.length; A++) {
                if (B < z[A].width) {
                    B = z[A].width
                }
            }
            return B
        }
        return 0
    }

    function g() {
        var E = r.children(".richContent"), D = E.children(), B = D.length, A = 0, z = 0, C;
        for (C = B - 1; C >= 0; C--) {
            z = D.eq(C).outerWidth();
            if (z > A) {
                A = z
            }
        }
        return A
    }

    function b() {
        var z = r.find("img");
        $(z).load(function () {
            var A = r.height();
            if (f != A) {
                f = A;
                k(x)
            }
        })
    }

    function k(z) {
        if (z == "left" || z == "right") {
            m.css("position", "relative");
            m.css("width", i);
            s.css("top", 0);
            if (f != 0) {
                m.css("height", f)
            }
            if (z == "left") {
                s.css("margin-left", w);
                if (y && !l) {
                    r.css("left", i);
                    s.css("left", i * 2)
                }
                if (y && l) {
                    s.css("left", i)
                }
                if (!y && !l) {
                    r.css("left", d);
                    s.css("left", i + d)
                }
                if (!y && l) {
                    s.css("left", i + d)
                }
            } else {
                s.css("left", 0);
                r.css("margin-left", w);
                r.css("width", (i) + "px");
                if (y && !l) {
                    r.css("padding-left", i);
                    r.css("padding-right", i);
                    m.scrollLeft(i * 2 + w)
                }
                if (y && l) {
                    r.css("padding-left", i);
                    m.scrollLeft(i * 2)
                }
                if (!y && !l) {
                    r.css("padding-right", i + d);
                    r.css("padding-left", i + d);
                    m.scrollLeft(i + d + w)
                }
                if (!y && l) {
                    r.css("padding-right", i + d);
                    r.css("padding-left", i + d);
                    m.scrollLeft(i + d + w)
                }
            }
        }
        if (z == "up" || z == "down") {
            m.css("position", "relative");
            if (f != 0) {
                m.css("height", f)
            }
            m.css("width", i);
            s.css("left", 0);
            s.css("height", f);
            r.css("width", i);
            if (z == "up") {
                s.css("top", f * 2);
                s.css("margin-top", w);
                if (y && !l) {
                    m.scrollTop(0)
                }
                if (y && l) {
                    s.css("top", f);
                    m.scrollTop(0)
                }
                if (!y && !l) {
                    m.scrollTop(0)
                }
                if (!y && l) {
                    m.scrollTop(0)
                }
            } else {
                r.css("height", f);
                s.css("top", 0);
                r.css("margin-top", w);
                if (y && !l) {
                    r.css("padding-top", f);
                    r.css("padding-bottom", f);
                    m.scrollTop(f * 2 + w)
                }
                if (y && l) {
                    r.css("padding-top", f);
                    m.scrollTop(f * 2)
                }
                if (!y && !l) {
                    r.css("padding-top", f * 2);
                    r.css("padding-bottom", f * 2);
                    m.scrollTop(f * 2 + w)
                }
                if (!y && l) {
                    r.css("padding-top", f * 2);
                    r.css("padding-bottom", f * 2);
                    m.scrollTop(f * 2 + w)
                }
            }
        }
    }

    function q() {
        if (x == "left") {
            var z = m.scrollLeft();
            z++;
            if (y && !l) {
                if (z == i * 2 + w) {
                    m.scrollLeft(i)
                } else {
                    m.scrollLeft(z)
                }
            }
            if (y && l) {
                if (z == i + w) {
                    m.scrollLeft(0)
                } else {
                    m.scrollLeft(z)
                }
            }
            if (!y && !l) {
                if (z == (i + d) + w) {
                    m.scrollLeft(0)
                } else {
                    m.scrollLeft(z)
                }
            }
            if (!y && l) {
                if (z == i + d + w) {
                    m.scrollLeft(0)
                } else {
                    m.scrollLeft(z)
                }
            }
        } else {
            if (x == "right") {
                var z = m.scrollLeft();
                z--;
                if (y && !l) {
                    if (z == 0) {
                        m.scrollLeft(i + w)
                    } else {
                        m.scrollLeft(z)
                    }
                }
                if (y && l) {
                    if (z == 0) {
                        m.scrollLeft(i + w)
                    } else {
                        m.scrollLeft(z)
                    }
                }
                if (!y && !l) {
                    if (z == 0) {
                        m.scrollLeft(i + d + w)
                    } else {
                        m.scrollLeft(z)
                    }
                }
                if (!y && l) {
                    if (z == 0) {
                        m.scrollLeft(i + d + w)
                    } else {
                        m.scrollLeft(z)
                    }
                }
            } else {
                if (x == "up") {
                    var z = m.scrollTop();
                    z++;
                    if (y && !l) {
                        if (z == m.height() * 2 + w) {
                            m.scrollTop(f)
                        } else {
                            m.scrollTop(z)
                        }
                    }
                    if (y && l) {
                        if (z == m.height() + w) {
                            m.scrollTop(0)
                        } else {
                            m.scrollTop(z)
                        }
                    }
                    if (!y && !l) {
                        if (z == m.height() * 2) {
                            m.scrollTop(0)
                        } else {
                            m.scrollTop(z)
                        }
                    }
                    if (!y && l) {
                        if (z == m.height() * 2 + w) {
                            m.scrollTop(0)
                        } else {
                            m.scrollTop(z)
                        }
                    }
                } else {
                    var z = m.scrollTop();
                    z--;
                    if (y && !l) {
                        if (z == 0) {
                            m.scrollTop(f + w)
                        } else {
                            m.scrollTop(z)
                        }
                    }
                    if (y && l) {
                        if (z == 0) {
                            m.scrollTop(f + w)
                        } else {
                            m.scrollTop(z)
                        }
                    }
                    if (!y && !l) {
                        if (z == 0) {
                            m.scrollTop(f * 2 + w)
                        } else {
                            m.scrollTop(z)
                        }
                    }
                    if (!y && l) {
                        if (z == 0) {
                            m.scrollTop(f * 2 + w)
                        } else {
                            m.scrollTop(z)
                        }
                    }
                }
            }
        }
    }

    o();
    Fai.stopInterval("rm" + j);
    Fai.addInterval("rm" + j, q, p);
    Fai.startInterval("rm" + j);
    if (!$("#module" + t.id).data("first1")) {
        $("#module" + t.id).data("first1", true);
        $("#module" + t.id).data("options", t)
    }
    Site.restartRichMarquee(t)
};
Site.restartRichMarquee = function (a) {
    if (!a) {
        return
    }
    var b = $("#module" + a.id);
    if (!b.data("first2")) {
        b.data("first2", true);
        if (a.speed == 28) {
            a.speed = "normal"
        } else {
            if (a.speed == 60) {
                a.speed = "slow"
            } else {
                a.speed = "fast"
            }
        }
        b.on("Fai_onModuleSizeChange", function () {
            Fai.stopInterval("rm" + a.id);
            b.data("restart", true);
            Site.richMarquee(a)
        });
        b.on("Fai_onModuleLayoutChange", function () {
            Fai.stopInterval("rm" + a.id);
            b.data("restart", true);
            Site.richMarquee(a)
        })
    }
};
Site.wipeOffRunOne = true;
Site.initMbPdCollection = {};
(function (e, g, f) {
    g.init = function (l, j, h, i, k) {
        g.sessionMid = l;
        g.collectionList = j == null ? [] : j;
        g.pid = h;
        g._manageMode = i;
        a(k);
        c();
        if (e("#_TOKEN").length != 0 && !i && Fai.Cookie.get("collectId") == h && !e("#pdCollection .pdCollectIcon").hasClass("collectionSelect")) {
            e("#pdCollection").click()
        }
        Fai.Cookie.clear("collectId")
    };

    function b(h) {
        var i = {};
        i.productCollections = g.collectionList + "";
        e.post("ajax/member_h.jsp", {cmd: "set", id: g.sessionMid, info: e.toJSON(i)}, function (j) {
            if (j.success) {
                d(h)
            }
        }, "json")
    }

    function d(i) {
        var j = {height: 72};
        if (i == "suc") {
            j.width = 183;
            j.htmlContent = '<div class="suc-ico addItemTextTips" style="font-size:14px; color:#636363 ;margin-left: 29px; padding-left: 39px;">' + LS.sucCollection + "</div>"
        } else {
            if (i == "warn") {
                j.width = 210;
                j.htmlContent = '<div class="warn-ico addItemTextTips" style="font-size:14px; color:#636363 ;margin-left: 29px; padding-left: 39px;">' + LS.cancelCollection + "</div>"
            } else {
                if (i == "err") {
                    j.height = 90;
                    j.width = 280;
                    j.htmlContent = '<div class="resultFailIcon addItemTextTips" style="font-size:14px; color:#636363 ;margin-left: 39px; padding-left: 35px;">';
                    j.htmlContent += LS.isManagefailCollection + "</div>"
                }
            }
        }
        var h = Site.popupBox(j), k;
        if (Fai.top._isTemplateVersion2) {
            k = {
                "margin-top": "0px",
                right: "9px",
                width: "18px",
                height: "18px",
                "background-position": "-448px -187px"
            }
        } else {
            k = {
                "margin-top": "9px",
                right: "9px",
                width: "12px",
                height: "12px",
                "background-position": "-1665px -110px"
            }
        }
        h.find(".popupBClose").css(k);
        if (i != "err") {
            setTimeout(function () {
                h.find(".popupBClose").click()
            }, 1500)
        }
    }

    function c() {
        e("#pdCollection").on("click", function () {
            if (g.sessionMid == 0) {
                if (g._manageMode) {
                    d("err")
                } else {
                    window.location.href = "login.jsp?url=" + Fai.encodeUrl(window.location.href);
                    Fai.Cookie.set("collectId", g.pid)
                }
            } else {
                if (e.inArray(g.pid, g.collectionList) == -1) {
                    g.collectionList.push(g.pid);
                    e("#pdCollection .pdCollectIcon").addClass("collectionSelect");
                    e("#pdCollection .pdCollectIcon").addClass("faisco-icons-star3");
                    e(".faisco-icons-star3").css({"font-size": "22px", "line-height": "22px", height: "22px"});
                    e("#pdCollection .pdCollectIcon").removeClass("faisco-icons-start2");
                    b("suc")
                } else {
                    if (e.inArray(g.pid, g.collectionList) != -1) {
                        g.collectionList.splice(e.inArray(g.pid, g.collectionList), 1);
                        e("#pdCollection .pdCollectIcon").removeClass("collectionSelect");
                        e("#pdCollection .pdCollectIcon").addClass("faisco-icons-start2");
                        e("#pdCollection .pdCollectIcon").removeClass("faisco-icons-star3");
                        b("warn")
                    }
                }
            }
        })
    }

    function a(h) {
        if (g.sessionMid != 0 && e.inArray(g.pid, g.collectionList) != -1) {
            e("#pdCollection .pdCollectIcon").addClass("collectionSelect");
            e("#pdCollection .pdCollectIcon").addClass("faisco-icons-star3");
            e(".faisco-icons-star3").css({"font-size": "22px", "line-height": "22px", height: "22px"});
            e("#pdCollection .pdCollectIcon").removeClass("faisco-icons-start2")
        }
        if (!!h) {
            return
        }
    }
})(jQuery, Site.initMbPdCollection);
Site.loadCollection = function () {
    $("#pdCollection").hover(function () {
        $("#pdCollection .collection").removeClass("text").addClass("productOperaTextColor").addClass("operaTextHover");
        $("#pdCollection .pdCollectIcon").removeClass("text").addClass("productOperaTextColor").addClass("operaTextHover")
    }, function () {
        $("#pdCollection .collection").addClass("text").removeClass("productOperaTextColor").removeClass("operaTextHover");
        $("#pdCollection .pdCollectIcon").addClass("text").removeClass("productOperaTextColor").removeClass("operaTextHover")
    });
    $("#pdCollection .collection,#pdCollection .pdCollectIcon").hover(function () {
        $("#pdCollection .collection").removeClass("text").addClass("productOperaTextColor").addClass("operaTextHover");
        $("#pdCollection .pdCollectIcon").removeClass("text").addClass("productOperaTextColor").addClass("operaTextHover")
    })
};
Site.getQueryString = function (a) {
    var b = new RegExp("(^|&)" + a + "=([^&]*)(&|$)");
    var c = window.location.search.substr(1).match(b);
    if (c != null) {
        return unescape(c[2])
    }
    return null
};
Site.productBigPicResponsive = function (a, c, d, f, g) {
    var b = $("#module" + a), l, i, k, j, e, h;
    if (d || b.length < 1) {
        return
    }
    i = b.width();
    if (c) {
        j = (i - 260) / 2
    } else {
        j = (i + 300) / 3
    }
    k = Fai.Img.calcSize(f, g, j, j, Fai.Img.MODE_SCALE_FILL);
    l = b.find("#imgDiv" + a);
    l.css({width: j + "px", height: j + "px"});
    l.find("img").css({width: k.width + "px", height: k.height + "px"});
    if (c) {
        b.find(".imgContainer_J").width(j + 130)
    } else {
        b.find(".imgContainer_J").width(j)
    }
    e = b.find("#imgGroup" + a);
    e.height(k.height)
};
Site.initPdCommentSwitch = function () {
    var a = 0;
    if (document.cookie.length > 0) {
        cStart = document.cookie.indexOf("tabSwitch=");
        if (-1 != cStart) {
            cStart = cStart + 10;
            cEnd = document.cookie.indexOf(";", cStart);
            if (-1 == cEnd) {
                cEnd = document.cookie.length
            }
            a = unescape(document.cookie.substring(cStart, cEnd))
        }
    }
    $(".tabSwitch").eq(a).click()
};
Site.loadPdSerOnLineMore = function () {
    if (Fai.isIE6() || Fai.isIE7()) {
        if (Fai.isIE6()) {
            $(".productOpera .serOnlineInfo").css({top: "22px", left: "0"});
            $(".productOpera .pdSerOnlineDiv").css({position: "relative"});
            $(".pdSerOnline").css({"padding-top": "0"})
        }
        if (Fai.isIE7()) {
            $(".productOpera .serOnlineInfo").css({top: "28px", left: "0"});
            $(".productOpera .pdSerOnlineDiv").css({position: "relative"})
        }
    }
    $(".pdSerOnline,.serOnlineInfo").hover(function () {
        $(".pdSerOnline .pdKefuIcon").addClass("productOperaTextColor").addClass("operaTextHover").removeClass("text");
        $(".pdSerOnline .serOnline").addClass("productOperaTextColor").addClass("operaTextHover").removeClass("text")
    }, function () {
        $(".pdSerOnline .pdKefuIcon").addClass("text").removeClass("operaTextHover").removeClass("productOperaTextColor");
        $(".pdSerOnline .serOnline").addClass("text").removeClass("operaTextHover").removeClass("productOperaTextColor")
    });
    $(".pdSerOnline .pdKefuIcon,.pdSerOnline .serOnline").hover(function () {
        $(".pdSerOnline .pdKefuIcon").addClass("productOperaTextColor").addClass("operaTextHover").removeClass("text");
        $(".pdSerOnline .serOnline").addClass("productOperaTextColor").addClass("operaTextHover").removeClass("text")
    });
    $("body").on({
        hover: function () {
            $("#pdSerOnline").addClass("pdSerOnlineHover");
            $("#pdSerOnline").css({"z-index": "999"});
            $(".J_serOnlineInfo").css({"z-index": "998"});
            $(".productOpera .serOnlineInfo").show();
            $(".serOnlineDown").addClass("serOnlineUp");
            $(".pdSerOnline").addClass("operaTextHover");
            if (Fai.isIE6() || Fai.isIE7()) {
                $(".productOpera").css("z-index", "1000")
            }
            var d = 0;
            var a = 0;
            var b = 0;
            var e = 0;
            $(".serOnline-list:odd").each(function (f, g) {
                d = d > $(g).width() ? d : $(g).width();
                e++
            });
            $(".serOnline-list:even").each(function (f, g) {
                a = a > $(g).width() ? a : $(g).width();
                e++
            });
            var c = $("#pdSerOnline").width();
            b = d + a + 27;
            if (c > b) {
                $(".productDetail .serOnline-service").css("width", (c + 5) + "px");
                $(".productDetail .serOnline-list:odd").css("width", (d + c - b + 5) + "px");
                $(".productDetail .serOnline-list:even").css("width", a + "px")
            } else {
                $(".productDetail .serOnline-service").css("width", (b + 5) + "px");
                $(".productDetail .serOnline-list:odd").css("width", d + "px");
                $(".productDetail .serOnline-list:even").css("width", a + "px")
            }
            if (e > 1) {
                $(".productDetail .serOnline-list:even").css("margin-right", "27px")
            }
        }, mouseleave: function () {
            $("#pdSerOnline").removeClass("pdSerOnlineHover");
            $("#pdSerOnline").css({"z-index": ""});
            $(".J_serOnlineInfo").css({"z-index": ""});
            $(".productOpera .serOnlineInfo").hide();
            $(".serOnlineDown").removeClass("serOnlineUp");
            $(".pdSerOnline").removeClass("operaTextHover");
            if (Fai.isIE6() || Fai.isIE7()) {
                $(".productOpera").css("z-index", "")
            }
        }
    }, ".productOpera .pdSerOnline,.productOpera .serOnlineInfo")
};
Site.onlineServiceNameHoverShow = function () {
    var a = $("<div id='fk-seronlineDockTip' class='resizableToShowWidth dockTip' style='border:solid 1px #999999;background:#f9fafb;slineHeight:20px;fontSize:20px;padding:2px 5px;color:black;border-radius:2px;'></div>");
    $(".J_onlineServiceNameHoverShow").mouseover(function (c) {
        var d = this;
        var b = $(d).offset().left + 12;
        var f = $(d).offset().top + 30;
        a.html($(this).attr("_title")).css({left: (b || 0), top: (f || 0)}).show();
        $("body").append(a);
        setTimeout(function () {
            a.remove()
        }, 2000)
    }).mouseout(function () {
        a.remove()
    })
};
Site.onlineServiceWaWaIsOnline = function () {
    $(".J_aliWaWa").each(function () {
        var b = this;
        var a = $(b).attr("account");
        $(b).siblings(".serOnline-img").addClass("wawaImgOnline");
        if (a != null && typeof(a) != "undefined") {
            $.ajax({
                type: "post",
                dataType: "jsonp",
                url: "http://amos.alicdn.com/muliuserstatus.aw?beginnum=0&site=cnalichn&charset=utf-8&uids=" + Fai.encodeUrl(a),
                success: function (c) {
                    if (c.data != null) {
                        if (c.data[0] == 0) {
                            $(b).addClass("serOnlineOffline");
                            $(b).siblings(".serOnline-img").removeClass("wawaImgOnline");
                            $(b).siblings(".serOnline-img").addClass("wawaImgOffline")
                        } else {
                            $(b).removeClass("serOnlineOffline")
                        }
                    }
                }
            })
        }
    });
    $(".J_taobaoWaWa ").each(function () {
        var b = this;
        var a = $(b).attr("account");
        $(b).siblings(".serOnline-img").addClass("wawaImgOnline");
        if (a != null && typeof(a) != "undefined") {
            $.ajax({
                type: "post",
                dataType: "jsonp",
                url: "http://amos.alicdn.com/muliuserstatus.aw?beginnum=0&site=cntaobao&charset=utf-8&uids=" + Fai.encodeUrl(a),
                success: function (c) {
                    if (c.data != null) {
                        if (c.data[0] == 0) {
                            $(b).addClass("serOnlineOffline");
                            $(b).siblings(".serOnline-img").removeClass("wawaImgOnline");
                            $(b).siblings(".serOnline-img").addClass("wawaImgOffline")
                        } else {
                            $(b).removeClass("serOnlineOffline")
                        }
                    }
                }
            })
        }
    })
};
Site.unifiedAttrVal = function (b, d, a) {
    var c = b.find(d);
    var e = 0;
    c.each(function () {
        var f = $(this).css(a);
        f = parseInt(f);
        if (f > e) {
            e = f
        }
    });
    c.each(function () {
        $(this).css(a, e + "px")
    })
};
Site.commUpAllImgList = null;
Site.setCommUpAllImgList = function (a) {
    Site.commUpAllImgList = Fai.fkEval("(" + a + ")");
    if (Fai.isIE6() || Fai.isIE7()) {
        $(".msgBoard_upImg_border").css({width: "50px", height: "50px"})
    }
    $(function () {
        setTimeout(function () {
            var c = $(".J_countRecSize");
            if (typeof(c) != "undefined" && c != null) {
                for (var e = 0; e < c.length; e++) {
                    var f = c[e];
                    var d = f.getBoundingClientRect().right;
                    var g = $(f).parent().parent().parent().parent().find(".msgBoard_msgUser_level");
                    if (typeof(g) != "undefined" && g != null && g.width() != null) {
                        var b = g[0].getBoundingClientRect().left;
                        var h = b - d - 5;
                        g.css("margin-left", "-" + h + "px")
                    }
                }
            }
        }, 200)
    })
};
Site.showCommImgMove = function (g, a, f) {
    if (g == null || f == null) {
        return
    }
    var i = $("#" + g);
    var c = i.parent().parent().parent().parent().parent().parent().parent();
    currentChooseTr = c.attr("chooseTr");
    currentChooseTd = c.attr("chooseTd");
    if (currentChooseTr == null || currentChooseTd == null) {
        return
    }
    if (Site.commUpAllImgList == null) {
        return
    }
    var b = c.find("td");
    var e = parseInt(b.length);
    if (e <= 1) {
        return
    }
    var j = 0;
    if (f == "left") {
        if (currentChooseTd == "0" || currentChooseTd == 0) {
            j = e - 1
        } else {
            j = parseInt(currentChooseTd) - 1
        }
    } else {
        if (f == "right") {
            j = parseInt(currentChooseTd) + 1;
            if (j >= Site.commUpAllImgList[currentChooseTr].data.length) {
                j = 0
            }
        }
    }
    b.eq(currentChooseTd).find(".show_msg_border_rect").remove();
    var h = "<div class='show_msg_border_rect'><div class='show_msg_triangle_down'></div></div>";
    b.eq(j).prepend(h);
    c.attr("chooseTd", j);
    var d = $("#" + a).find(".msg_up_show_img_set").parent();
    $("#" + a).find(".msg_up_show_img_set").remove();
    d.append("<img alt='' class='msg_up_show_img_set' src='" + Site.commUpAllImgList[currentChooseTr].data[j].data + "'>")
};
Site.commShowPicClose = function (c, b, f) {
    var a = $("#" + c), e;
    if (a != null && typeof(a) != "undefined") {
        a.remove()
    }
    var d = $("#" + b);
    if (!f) {
        e = d.parent().parent().parent().parent().parent().parent().parent()
    } else {
        e = d.parentsUntil(".J_msgImgList").last(":table");
        e.show()
    }
    e.find("td").find(".show_msg_border_rect").remove()
};
Site.initRepPropValueOfURL = function () {
    var a = new RegExp("https?|ftp|file://");
    $(".pd_J .propValue").each(function (b, d) {
        var c = $(this).text();
        if (a.test(c)) {
            $(this).html(Fai.replaceContentOfURL(c))
        }
    })
};
Site.salePromotionDetail = {salePromotionParam: "", showType: "2", styleType: "1", saleCountTimeInterval: {}};
Site.initSalePromotion = function (b, a) {
    Site.salePromotionDetail.salePromotionParam = b;
    Site.salePromotionDetail.styleType = a
};
Site.saleCountTimeInterval = {};
Site.clearImageEffectContent_product = function (b, a) {
    $("#module" + b).find("." + a).remove();
    if ($("#module" + b).find(".mallPanel").length > 0) {
        $("#module" + b).find(".mallPanel").remove()
    }
};
Site.bindImageEffectCusEvent_product = function (c, a) {
    var b = $(c).find(".imageEffects");
    $(b).css("cursor", "pointer");
    $(b).bind("click", function () {
        var g = $(this).parents("." + a.targetParent).find("a");
        if (Fai.isNull(g)) {
            return
        }
        var e = $(g).attr("href");
        var d = $(g).attr("onclick");
        var f = $(g).attr("target");
        if (typeof d != "undefined") {
            Fai.fkEval(d)
        } else {
            if (e.length > 0) {
                window.open(e, f)
            }
        }
    })
};
Site.initModuleProductResultPropFilter = function (d) {
    var c = $("#module" + d), e = c.find(".fp_list_J"), f = e.find(".fp_block_J");
    if (Fai.isIE6() || Fai.isIE7() || Fai.isIE8()) {
        var a = e.find(".block_head_J").outerWidth();
        e.find(".block_body_J").width(e.width() - a)
    }
    $.each(f, function (j, k) {
        var k = $(k), h = k.find(".block_head_J"), g = k.find(".block_body_J"), l = h.outerHeight();
        blockBodyH = g.outerHeight();
        if (blockBodyH > l + 10) {
            g.attr("_h", blockBodyH);
            $(k).find(".block_tail_J .more_btn_J").text(LS.productResultMore);
            return
        }
        $(k).find(".block_tail_J").remove()
    });
    var b = c.find(".fp_list_J .block_tail_J");
    b.click(function () {
        var j = $(this), k = j.parent(), g = k.find(".block_body_J"), h = j.find(".more_btn_J"),
            i = j.find(".more_down");
        if (i.hasClass("more_up")) {
            k.removeAttr("style");
            h.text(LS.productResultMore);
            i.removeClass("more_up")
        } else {
            k.height(g.attr("_h"));
            h.text(LS.productResultColl);
            i.addClass("more_up")
        }
    });
    $("#conds_body_sel").change(function () {
        window.location.href = $(this).val()
    });
    if (Fai.top._manageMode) {
        $("#pf_tips").hover(function () {
            var g = $(this);
            tipImgW = g.width(), tipTop = g.offset().top, tipLeft = g.offset().left, str = "<div id='pf_tips_Msg' class='pf_tips_Msg g_tip'>" + g.attr("_tipVal") + "</div>";
            Fai.top.$(str).appendTo("body");
            var h = $("#pf_tips_Msg");
            h.offset({top: tipTop - h.outerHeight() - 10, left: tipLeft})
        }, function () {
            $("#pf_tips_Msg").remove()
        })
    }
};
Site.initPdPagenation = function (a) {
    $("#pagenation" + a).on("click.product", ".pageNo", function () {
        var b = $(this);
        b.addClass("fk-select")
    })
};
(function (h, f, c) {
    var j = false;
    var g = {};
    f.initModuleMallGroup = function (k, u, s, A, y, q, n, x) {
        var m = $("#module" + k);
        var t = $(".styleMall" + k);
        var p = m.width();
        var o = m.height();
        var w;
        var r = h.top._manageMode;
        if (h.isIE6() || h.isIE7() || h.isIE8()) {
            if (i(n)) {
                n = b(n);
                if (s == 0) {
                    $(".mallGroupRight" + k).css("border", "1px solid " + n);
                    x = b(x);
                    m.find(".mallHeadYHD").css("background-color", x)
                } else {
                    if (s == 1) {
                        m.find(".mallHeadJD").css("background-color", n);
                        $(".mallGroupRight" + k).css("border", "1px solid " + n);
                        $(".styleMall" + k).find(".li-color").css({"background-color": n})
                    } else {
                        if (s == 2) {
                            m.find(".mallHeadTM").css("background-color", n);
                            $(".mallGroupRight" + k).css("border-color", n)
                        }
                    }
                }
            }
            if (s == 1) {
                $(".styleMall" + k).find(".li-color").css({
                    "border-bottom": "1px solid",
                    "border-top": "1px solid",
                    "border-color": n
                })
            }
        }
        z();
        f.cacheModuleFunc.init("mallGroupEventBind", {
            moduleId: k,
            useColorCode: n,
            mallStyle: s,
            groupDisplay: y,
            liSize: q
        });
        if (y == 1) {
            if (h.top._colId == 2) {
                v()
            } else {
                l()
            }
        } else {
            if (y == 2) {
                if ($("#module" + k + ":visible").length) {
                    v()
                }
            } else {
                l()
            }
        }
        if (m.is(":hidden")) {
            t.hide()
        }

        function l() {
            m.find(".mallHead").die("mouseenter mouseleave").live("mouseenter", function () {
                $(".styleMall" + k).css({width: m.width()});
                $(".mallGroupRight" + k).css({left: m.width(), top: 0});
                if (h.isIE()) {
                    t.show()
                } else {
                    t.stop(true, true).slideDown(800, "easeOutExpo")
                }
                $.each($(".styleMall" + k).find("li"), function (B, C) {
                    g.fixHWSecondMenuPanel(C)
                });
                d(k)
            }).live("mouseleave", function () {
                if (event.relatedTarget == null) {
                    return
                }
                var B = event.relatedTarget.className;
                if (B.indexOf("li-color") < 0 && B.indexOf("mallLiName") < 0 && B.indexOf("displayRight") < 0 && B.indexOf("ui-resizable-bottomLine") < 0) {
                    if (h.isIE()) {
                        t.hide()
                    } else {
                        t.stop(true, true).slideUp(800, "easeOutExpo")
                    }
                }
            });
            t.die("mouseleave").live("mouseleave", function (D) {
                if (D.relatedTarget == null) {
                    return
                }
                var B = D.relatedTarget.className;
                if (s == 0) {
                    $(this).find(".li-color").find(".pdg_font_icon").removeAttr("style")
                }
                if (s == 0) {
                    $(this).find(".li-color").removeClass("li-color-" + u);
                    $(this).find(".li-color").find(".displayRight").removeClass("displayRight-hover")
                } else {
                    if (s == 1) {
                        $(this).find(".li-color").removeClass("JDli-hover-" + u)
                    } else {
                        if (s == 2) {
                            t.find("ul").removeClass("li-border-" + u);
                            $(this).find(".li-color").removeClass("TMli-hover-" + u)
                        }
                    }
                }
                if (h.isIE()) {
                    $(".mallGroupRight" + k + ":visible").hide()
                } else {
                    $(".mallGroupRight" + k).stop(true, true);
                    var C = $(".mallGroupRight" + k + ":visible").width();
                    $(".mallGroupRight" + k + ":visible").animate({
                        width: 0,
                        opacity: 0
                    }, 1000, "easeOutExpo", function () {
                        $(this).width(C);
                        $(this).css({opacity: 1, display: "none"})
                    })
                }
                j = true;
                if (B.indexOf("mallHead") >= 0) {
                    return
                }
                if (h.isIE()) {
                    t.hide()
                } else {
                    t.stop(true, true).slideUp(800, "easeOutExpo")
                }
            })
        }

        function v() {
            var C = true, B;
            t.show();
            C = (t.attr("_useThemeColor") != 1);
            t.mouseleave(function (E) {
                B = $(this).find(".li-color");
                t.find(".li-color").removeClass("f-leaveLiSubmenu, f-enterLiSubmenu");
                if (s == 0) {
                    B.find(".pdg_font_icon").removeAttr("style");
                    B.addClass("f-leaveLiSubmenu");
                    B.find(".displayRight").removeClass("displayRight-hover")
                } else {
                    if (s == 1) {
                        C ? B.css("background-color", n) : B.css("background-color", "")
                    } else {
                        if (s == 2) {
                            t.find("ul").css({"border-right": ""});
                            B.removeClass("TMli-hover");
                            B.css({"border-color": "", color: ""})
                        } else {
                            if (s == 3) {
                                B.find(".fk-firstMenuHW, .fk-secondMenuHW").css("color", "")
                            }
                        }
                    }
                }
                $(".mallGroupRight" + k).stop(true, true);
                var D = $(".mallGroupRight" + k + ":visible").width();
                if (h.isIE()) {
                    $(".mallGroupRight" + k + ":visible").hide()
                } else {
                    $(".mallGroupRight" + k + ":visible").animate({
                        width: 0,
                        opacity: 0
                    }, 1000, "easeOutExpo", function () {
                        $(this).width(D);
                        $(this).css({opacity: 1, display: "none"})
                    })
                }
                j = true;
                return
            })
        }

        function z() {
            m = $("#module" + k);
            if (!r) {
                m.find(".mallHead").css("cursor", "pointer")
            }
            t = $(".styleMall" + k);
            if (t.parent().attr("id") != "g_main") {
                if (m.parent().hasClass("fk-webBannerZone") && m.parent().css("display") === "none") {
                    return
                }
                $("#g_main").append(t);
                t = $(".styleMall" + k)
            }
            d(k);
            t.css({width: m.width(), "z-index": 4});
            $(".formMiddleCenter" + k).css({height: "100%"});
            $(".formMiddleContent" + k).css({height: "100%"})
        }
    };
    f.mallGroupEventBind = function (t) {
        var k = t.moduleId, m = $("#module" + k), n = m.width();
        useColorCode = t.useColorCode, styleMall = $(".styleMall" + k), mallStyle = t.mallStyle, useThemeColor = (styleMall.attr("_useThemeColor") == 1), groupDisplay = t.groupDisplay, liSize = t.liSize, isNeedChangeWidth = true;
        r(useColorCode);

        function r(u) {
            p(u, mallStyle);
            $(".mallGroupRight" + k).css({left: n, top: 0});
            styleMall.find(".secGroupName").die("mouseenter mouseleave").live("mouseenter", function () {
                useThemeColor && (u = h.top._useTempThemeColor || u);
                $(this).css("color", u)
            }).live("mouseleave", function () {
                $(this).removeAttr("style")
            });
            styleMall.find(".thdGroupBox").die("mouseenter mouseleave").live("mouseenter", function () {
                useThemeColor && (u = h.top._useTempThemeColor || u);
                $(this).css("color", u)
            }).live("mouseleave", function () {
                $(this).removeAttr("style")
            });
            m.find(".mallHead").off("click").on("click", function () {
                styleMall = $(".styleMall" + k);
                if (styleMall.parent().attr("id") != "g_main") {
                    $("#g_main").append(styleMall);
                    styleMall = $(".styleMall" + k)
                }
                if (styleMall.css("display") != "none") {
                    $(".styleMall" + k + " li").eq(0).trigger("mouseleave")
                }
                styleMall.toggle();
                styleMall.find(".mallGroupRight").hide();
                styleMall.css({width: m.width(), height: "auto", "z-index": 4});
                m.show();
                $(".mallGroupRight" + k).css({left: m.width(), top: 0});
                d(k)
            });
            var v;
            $.each(styleMall.find("li"), function (w, x) {
                v = styleMall.find("li:eq(" + w + ") .mallGroupRight");
                o(v, groupDisplay);
                l(v, groupDisplay);
                s(v, groupDisplay);
                q(x);
                if (!(h.isIE6() || h.isIE7())) {
                    if (mallStyle == 0 && v.width() >= 750) {
                        v.mCustomScrollbar({
                            theme: "dark-3",
                            scrollSpeed: 10,
                            scrollButtons: {enable: true},
                            advanced: {updateOnContentResize: true},
                            axis: "y",
                            callbacks: {}
                        })
                    } else {
                        if (mallStyle != 0) {
                            v.mCustomScrollbar({
                                theme: "dark-3",
                                scrollSpeed: 10,
                                scrollButtons: {enable: true},
                                advanced: {updateOnContentResize: true},
                                axis: "y",
                                callbacks: {}
                            })
                        }
                    }
                }
            });
            if (mallStyle == 0) {
                styleMall.find("li").last().css("border-bottom", "0")
            }
            if (h.isIE6() || h.isIE7()) {
                if (mallStyle == 2) {
                    styleMall.find("ul").removeClass("ulMall").addClass("ulMall-ie6");
                    styleMall.find("ul li").removeClass("li-color").addClass("li-color-ie6");
                    styleMall.find(".mallGroupRight").css("border-left-width", "1px");
                    styleMall.find(".mallGroupRight").css("height", (styleMall.find(".mallGroupRight").height() + liSize * 2) + "px")
                } else {
                    if (mallStyle == 1) {
                        styleMall.find("ul li").css({"margin-bottom": "-2px", "margin-top": "0px"});
                        styleMall.css("top", (parseInt(styleMall.css("top")) - 1) + "px");
                        if (h.isIE6()) {
                            styleMall.find(".mallGroupRight").css("height", (styleMall.find(".mallGroupRight").height() + liSize) + "px")
                        }
                    } else {
                        if (mallStyle == 0) {
                            styleMall.find(".mallGroupRight").css("height", (styleMall.find(".mallGroupRight").height() + liSize * 2) + "px")
                        }
                    }
                }
            }
        }

        function p(v, u, w) {
            if (typeof styleMall.find("ul").menuAim == "function") {
                x()
            }

            function x() {
                var y = false;
                styleMall = $(".styleMall" + k);
                y = (styleMall.attr("_useThemeColor") == 1);
                styleMall.find("ul").menuAim({
                    rowSelector: ".li-color",
                    activate: B,
                    enter: A,
                    deactivate: z,
                    exitMenu: C
                });

                function B(E) {
                    styleMall = $(".styleMall" + k);
                    styleMall.stop(true, true);
                    y && (v = h.top._useTempThemeColor || v);
                    $(E).stop(true, true);
                    temThis = E;
                    subMallRight = $(E).children(".mallGroupRight");
                    styleMall.find(".li-color").removeClass("f-enterLiSubmenu");
                    $(E).addClass("f-enterLiSubmenu");
                    if (u == 0) {
                        $(E).find(".displayRight").addClass("displayRight-hover");
                        !y && $(E).css({"background-color": v, color: "#fff"})
                    } else {
                        if (u == 1) {
                            $(E).css("background-color", a(v, 0));
                            $(E).removeClass("bg-transtion")
                        } else {
                            if (u == 2) {
                                styleMall.find("ul").css({"border-right": "1px solid " + v});
                                $(E).addClass("TMli-hover");
                                $(E).css({"border-color": v, color: v})
                            } else {
                                if (u == 3) {
                                    $(E).find(".mallGroupRight").length && $(E).addClass("HWli-hover");
                                    $(E).find(".mallLiNameHW").css("color", v);
                                    $(E).find(".J_secondMenuHW").css("color", v)
                                }
                            }
                        }
                    }
                    if (u == 0) {
                        $(E).find(".pdg_font_icon").css("color", "#fff")
                    }
                    if (h.isIE()) {
                        subMallRight.show()
                    } else {
                        $(".mallGroupRight").stop(true, true);
                        var D = subMallRight.width();
                        subMallRight.width(0);
                        subMallRight.css({opacity: 0, display: "block"});
                        subMallRight.animate({width: D, opacity: "1"}, 800, "easeOutQuint")
                    }
                    j = false;
                    if ($(E).children(".mallGroupRight").length <= 0 && u == 2) {
                        $(".styleMall" + k).find("ul").css({"border-right": ""});
                        $(E).css("border-right-width", "1px")
                    }
                }

                function A(E) {
                    if (typeof event != "undefined" && typeof event.target != "undefined" && typeof event.target.className != "undefined" && (event.target.className.indexOf("mallGroupRight" + k) >= 0 || event.target.className.indexOf("secGroup") >= 0 || event.target.className.indexOf("thdGroup") >= 0)) {
                        return
                    }
                    styleMall = $(".styleMall" + k);
                    styleMall.stop(true, true).css("z-index", 1002);
                    temThis = E;
                    subMallRight = $(E).children(".mallGroupRight");
                    if (!j) {
                        return
                    }
                    styleMall.find(".li-color").removeClass("f-enterLiSubmenu");
                    $(E).addClass("f-enterLiSubmenu");
                    y && (v = h.top._useTempThemeColor || v);
                    if (u == 0) {
                        $(E).find(".displayRight").addClass("displayRight-hover");
                        !y && $(E).css({"background-color": v, color: "#fff"})
                    } else {
                        if (u == 1) {
                            $(E).css("background-color", a(v, 0))
                        } else {
                            if (u == 2) {
                                styleMall.find("ul").css({"border-right": "1px solid " + v});
                                $(E).addClass("TMli-hover");
                                $(E).css({"border-color": v, color: v})
                            } else {
                                if (u == 3) {
                                    $(E).find(".mallGroupRight").length && $(E).addClass("HWli-hover");
                                    $(E).find(".mallLiNameHW").css("color", v);
                                    $(E).find(".J_secondMenuHW").css("color", v)
                                }
                            }
                        }
                    }
                    if (u == 0) {
                        $(E).find(".pdg_font_icon").css("color", "#fff")
                    }
                    if (h.isIE()) {
                        subMallRight.show()
                    } else {
                        $(".mallGroupRight").stop(true, true);
                        var D = subMallRight.width();
                        subMallRight.width(0);
                        subMallRight.animate({width: D, opacity: "show"}, 800, "easeOutQuint")
                    }
                    j = false;
                    if ($(E).children(".mallGroupRight").length <= 0 && u == 2) {
                        $(".styleMall" + k).find("ul").css({"border-right": ""});
                        $(E).css("border-right-width", "1px")
                    }
                }

                function z(E) {
                    styleMall = $(".styleMall" + k);
                    subMallRight = $(E).children(".mallGroupRight");
                    if (u == 0) {
                        if (h.isIE() || i($(E).css("background-color"))) {
                            $(E).css({"background-color": "#fff", color: "#4a4949"})
                        } else {
                            $(E).animate({"background-color": "#fff", color: "#4a4949"}, 100, "linear", function () {
                                y && $(E).css({"background-color": "", color: ""})
                            })
                        }
                        $(E).find(".displayRight").removeClass("displayRight-hover")
                    } else {
                        if (u == 1) {
                            if (h.isIE() || i($(E).css("background-color"))) {
                            } else {
                                $(E).addClass("bg-transtion")
                            }
                            y ? $(E).css("background-color", "") : $(E).css("background-color", v)
                        } else {
                            if (u == 2) {
                                styleMall.find("ul").css({"border-right": ""});
                                $(E).removeClass("TMli-hover");
                                $(E).css({"border-color": "", color: ""})
                            } else {
                                if (u == 3) {
                                    $(E).removeClass("HWli-hover");
                                    $(E).find(".mallLiNameHW").css("color", "");
                                    $(E).find(".J_secondMenuHW").css("color", "")
                                }
                            }
                        }
                    }
                    if (h.isIE()) {
                        subMallRight.hide()
                    } else {
                        $(".mallGroupRight").stop(true, true);
                        var D = subMallRight.width();
                        subMallRight.animate({width: 0, opacity: 0}, 1000, "easeOutExpo", function () {
                            $(E).children(".mallGroupRight").width(D);
                            $(E).children(".mallGroupRight").css({opacity: 1, display: "none"})
                        })
                    }
                    if (u == 0) {
                        $(E).find(".pdg_font_icon").removeAttr("style")
                    }
                }

                function C(D) {
                    var E = $(D).children("li-color");
                    styleMall = $(".styleMall" + k);
                    styleMall.css("z-index", 4);
                    if (u == 0) {
                        $(E).find(".pdg_font_icon").removeAttr("style")
                    } else {
                        if (u == 3) {
                            var F = styleMall.find(".HWli-hover");
                            F.find(".mallLiNameHW").css("color", "");
                            F.find(".J_secondMenuHW").css("color", "");
                            F.removeClass("HWli-hover")
                        }
                    }
                }
            }
        }

        function l(y, x) {
            var u = y.find(".secGroupBox");
            if (u.length == 0) {
                y.prev(".displayRight").hide();
                y.remove();
                return
            }
            if (mallStyle == 0 || mallStyle == 3) {
                return
            }
            y.show();
            var z = true;
            if (styleMall.css("display") == "none") {
                z = false;
                styleMall.show()
            }
            var w = 0;
            var v = y.find(".thdGroup");
            isNeedChangeWidth = true;
            $.each(v, function (A, B) {
                if (v.eq(A).html() == "" || v.eq(A).html() == null) {
                    v.eq(A).hide();
                    v.eq(A).prev(".point2").hide();
                    return
                }
                if (v.eq(A).height() > 30) {
                    isNeedChangeWidth = false
                }
                w = (w > v.eq(A).width() ? w : v.eq(A).width())
            });
            $.each(v, function (A, B) {
                v.eq(A).width(w)
            });
            if (isNeedChangeWidth) {
                if (!h.isIE()) {
                    y.css("opacity", 1)
                }
                y.width(w + 232)
            }
            y.hide();
            if (!z) {
                styleMall.hide()
            }
        }

        function s(y, x) {
            if (mallStyle != 3) {
                return
            }
            y.show();
            var z = true;
            if (styleMall.css("display") == "none") {
                z = false;
                styleMall.show()
            }
            var v = 0;
            var u = y.find(".J_thirdGroupPanleHW");
            if (!u.length) {
                var w = y.find(".secGroupNameHW");
                $.each(w, function (A, B) {
                    if ($(B).width() >= 140) {
                        $(B).width(140)
                    }
                })
            }
            isNeedChangeWidth = true;
            $.each(u, function (A, B) {
                if (u.eq(A).html() == "" || u.eq(A).html() == null) {
                    u.eq(A).hide();
                    return
                }
                if (u.eq(A).width() >= 497) {
                    isNeedChangeWidth = false;
                    v = 497
                } else {
                    v = (v > u.eq(A).width() ? v : u.eq(A).width())
                }
            });
            $.each(u, function (A, B) {
                if (u.eq(A).length) {
                    u.eq(A).width(v);
                    u.eq(A).find(".thdGroupBox").addClass("fk-floatLeftMenuItem")
                }
            });
            y.hide();
            if (!z) {
                styleMall.hide()
            }
        }

        function q(w) {
            var z = $(w).find(".J_secondMenuHW"), u = z.length,
                x = $(w).parents(".styleHW").width() - ($(w).innerWidth() - $(w).width()), B, A, v = 0, C, y = false;
            if (x < 0) {
                return
            }
            if (u > 0) {
                B = z.children();
                A = B.length;
                $(w).find(".fk-menuContainerHW").width(x);
                if (A) {
                    $.each(B, function (D, E) {
                        E = $(E);
                        !y && (y = E.hasClass("fk-hiddenIconHW"));
                        if (A == 1 && y) {
                            $(E).remove();
                            return
                        }
                        v += $(E).innerWidth();
                        if (v > x) {
                            y && --D;
                            z.find("span:gt(" + (D - 1) + ")").remove();
                            z.addClass("fk-hiddenLongWord");
                            return
                        }
                    })
                }
            }
        }

        g.fixHWSecondMenuPanel = function (u) {
            q(u)
        };

        function o(H, G) {
            if (mallStyle != 0) {
                return
            }
            var u = true;
            if (styleMall.css("display") == "none") {
                u = false;
                styleMall.css({opacity: 0, display: "block"})
            }
            H.css({opacity: 0, display: "block"});
            var C = H.find(".groupCol1").selector;
            var z = H.find(".groupCol2").selector;
            var y = H.find(".groupCol3").selector;
            var I = H.find(".secGroupBox");
            var x = false;
            $.each(I, function (J, K) {
                if (x) {
                    J++
                }
                if ((J + 1) % 3 == 1) {
                    if (x) {
                        J--
                    }
                    if ($(C).height() - $(z).height() > 100) {
                        I.eq(J).appendTo(z).show();
                        x = true;
                        return
                    }
                    I.eq(J).appendTo(C).show()
                } else {
                    if ((J + 1) % 3 == 2) {
                        if (x) {
                            J--
                        }
                        if ($(z).height() - $(y).height() > 100) {
                            I.eq(J).appendTo(y).show();
                            x = true;
                            return
                        }
                        I.eq(J).appendTo(z).show()
                    } else {
                        if ((J + 1) % 3 == 0) {
                            if (x) {
                                J--
                            }
                            I.eq(J).appendTo(y).show()
                        }
                    }
                }
            });
            var E = $(C).height();
            var D = $(z).height();
            var B = $(y).height();
            var v = E > D ? (E > B ? E : B) : (D > B ? D : B);
            var w = H.height();
            var F = (v > w ? v : w);
            var A = 250 * 3;
            $(C).height(F);
            $(z).height(F);
            $(y).height(F);
            if ($(C).html() == "") {
                A -= 250
            }
            if ($(z).html() == "") {
                A -= 250
            }
            if ($(y).html() == "") {
                A -= 250
            }
            H.width(A);
            if (h.isIE6()) {
                if ($(C).width() > 249) {
                    $(C).width(249).css("overflow", "hidden")
                }
                if ($(z).width() > 249) {
                    $(z).width(249).css("overflow", "hidden")
                }
                if ($(y).width() > 249) {
                    $(y).width(249).css("overflow", "hidden")
                }
                H.find(".secGroupBox").css("margin-left", "15px")
            }
            if (!u) {
                styleMall.css({opacity: 1, display: "none"})
            }
            H.css({opacity: 1, display: "none"})
        }
    };

    function d(k) {
        setTimeout(function () {
            var m = $("#module" + k), o = $(".styleMall" + k), l, n, p;
            l = f.getModuleGMainRect(k);
            n = l.left;
            p = l.bottom;
            o.css({top: p, left: n})
        }, 0)
    }


    function a(m, u) {
        if (m.indexOf("#") >= 0) {
            m = e(m)
        }
        var p, o, l;
        var q = m.split("(")[1].split(")")[0].split(",");
        var w = parseInt(q[0]);
        var n = parseInt(q[1]);
        var t = parseInt(q[2]);
        if (w >= n) {
            if (w >= t) {
                p = 25;
                if (n >= t) {
                    o = 23;
                    l = 20
                } else {
                    o = 20;
                    l = 23
                }
            } else {
                p = 23;
                if (n >= t) {
                    o = 25;
                    l = 20
                } else {
                    o = 20;
                    l = 25
                }
            }
        } else {
            if (w >= t) {
                p = 23;
                if (n >= t) {
                    o = 25;
                    l = 20
                } else {
                    o = 20;
                    l = 25
                }
            } else {
                p = 20;
                if (n >= t) {
                    o = 25;
                    l = 23
                } else {
                    o = 23;
                    l = 25
                }
            }
        }
        if (u == 0) {
            if (i(m)) {
                var k = parseInt(q[0]) - p <= 0 ? "0" : "" + (parseInt(q[0]) - p) + "";
                var s = parseInt(q[1]) - o <= 0 ? "0" : "" + (parseInt(q[1]) - o) + "";
                var v = parseInt(q[2]) - l <= 0 ? "0" : "" + (parseInt(q[2]) - l) + "";
                return "rgba(" + k + "," + s + "," + v + "," + q[3] + ")"
            } else {
                var k = parseInt(q[0]) - p <= 0 ? "0" : "" + (parseInt(q[0]) - p) + "";
                var s = parseInt(q[1]) - o <= 0 ? "0" : "" + (parseInt(q[1]) - o) + "";
                var v = parseInt(q[2]) - l <= 0 ? "0" : "" + (parseInt(q[2]) - l) + "";
                return "rgb(" + k + "," + s + "," + v + ")"
            }
        } else {
            if (i(m)) {
                var k = parseInt(q[0]) + p <= 0 ? "0" : "" + (parseInt(q[0]) + p) + "";
                var s = parseInt(q[1]) + o <= 0 ? "0" : "" + (parseInt(q[1]) + o) + "";
                var v = parseInt(q[2]) + l <= 0 ? "0" : "" + (parseInt(q[2]) + l) + "";
                return "rgba(" + k + "," + s + "," + v + "," + q[3] + ")"
            } else {
                var k = parseInt(q[0]) + p <= 0 ? "0" : "" + (parseInt(q[0]) + p) + "";
                var s = parseInt(q[1]) + o <= 0 ? "0" : "" + (parseInt(q[1]) + o) + "";
                var v = parseInt(q[2]) + l <= 0 ? "0" : "" + (parseInt(q[2]) + l) + "";
                return "rgb(" + k + "," + s + "," + v + ")"
            }
        }
    }

    function i(k) {
        return (k.indexOf("#") < 0 && (k.indexOf("rgba") >= 0 || k.indexOf("RGBA") >= 0))
    }

    function b(l) {
        if (!i(l)) {
            return
        }
        if (l.indexOf("transparent") >= 0) {
            return "rgb(255,255,255)"
        }
        var k = l.split("(")[1].split(")")[0].split(",");
        return "rgb(" + k[0] + "," + k[1] + "," + k[2] + ")"
    }

    function e(m) {
        var n = m.toLowerCase();
        if (n && n.indexOf("#") >= 0) {
            if (n.length === 4) {
                var o = "#";
                for (var l = 1; l < 4; l += 1) {
                    o += n.slice(l, l + 1).concat(n.slice(l, l + 1))
                }
                n = o
            }
            var k = [];
            for (var l = 1; l < 7; l += 2) {
                k.push(parseInt("0x" + n.slice(l, l + 2)))
            }
            return "RGB(" + k.join(",") + ")"
        } else {
            return n
        }
    }
})(Fai, Site, undefined);
Site.newsScroll = function (l) {
    var g = {pauseDuration: 2400, showDuration: 600, scrollMode: "up"}, c = $.extend({}, g, l),
        a = "scroll" + c.moduleId, d = $("#module" + c.moduleId), b = d.find(".newsList");
    b.stop(true, true);
    Fai.stopInterval(a);
    if (l.noScroll) {
        return
    }
    var h = b.parent(), k = b.find(".line"), j = b.find(".separatorLine");
    var f = c.leader || 0;
    d.on("mouseover.newsScroll", function () {
        b.stop();
        Fai.stopInterval(a);
        $(this).attr("scrollInterval", 0)
    }).on("mouseout.newsScroll", function () {
        if ($(this).attr("scrollInterval") == 0) {
            b.stop();
            Fai.stopInterval(a);
            Fai.startInterval(a);
            $(this).attr("scrollInterval", 1)
        }
    });
    (k, d).on("mouseover.newsScroll", function () {
        b.stop();
        Fai.stopInterval(a);
        $(this).attr("scrollInterval", 0)
    }).on("mouseout.newsScroll", function () {
        if ($(this).attr("scrollInterval") == 0) {
            b.stop();
            Fai.stopInterval(a);
            Fai.startInterval(a);
            $(this).attr("scrollInterval", 1)
        }
    });

    function i() {
        b.css({position: "relative"});
        h.css({overflow: "hidden", position: "relative"});
        b.height(b.height());
        h.height(b.height());

        function m() {
            if (c.scrollMode == "up") {
                var s = b.find(".line").eq(f);
                var o = b.find(".separatorLine").eq(f);
                var p = s.outerHeight();
                var q = o.is(":visible");
                var n = q ? o.outerHeight(true) : 0;
                if (f == 0) {
                    b.animate({top: "-=" + (p + n)}, c.showDuration * ((p + n) / 32), function () {
                        s.appendTo(b).end().hide().fadeIn(400);
                        o.appendTo(b).end().hide();
                        if (q) {
                            o.fadeIn(400)
                        }
                        s.insertAfter(b.find(".separatorLine:last")).end().hide().fadeIn(400);
                        o.insertAfter(b.find(".line:last")).end().hide();
                        if (q) {
                            o.fadeIn(400)
                        }
                        b.css({top: 0});
                        e()
                    })
                } else {
                    s.animate({opacity: 0}, 400).slideUp(600, function () {
                        s.css({opacity: 1}).appendTo(b).end().hide().fadeIn(400);
                        o.appendTo(b).end().hide();
                        if (q) {
                            o.fadeIn(400)
                        }
                    });
                    e()
                }
            } else {
                var t = b.find(".line:last");
                var v = b.find(".separatorLine:last");
                var q = v.is(":visible");
                var u = t.outerHeight();
                var r = q ? v.outerHeight(true) : 0;
                if (f == 0) {
                    b.animate({top: "+=" + (u + r)}, c.showDuration * ((u + r) / 32), function () {
                        v.insertBefore(b.find(".line").eq(f)).end().hide();
                        if (q) {
                            v.fadeIn(400)
                        }
                        t.insertBefore(b.find(".separatorLine").eq(f)).end().hide().fadeIn(400);
                        b.css({top: 0});
                        e()
                    })
                } else {
                    v.insertBefore(b.find(".line").eq(f)).end().hide();
                    if (q) {
                        v.slideDown().css({opacity: 0}).animate({opacity: 1})
                    }
                    t.insertBefore(b.find(".separatorLine").eq(f)).end().hide().slideDown().css({opacity: 0}).animate({opacity: 1});
                    e()
                }
            }
        }

        Fai.addTimeout(a, m, c.pauseDuration);
        Fai.startInterval(a)
    }

    function e() {
        i()
    }

    i()
};
Site.loadNewsList = function (h, g, c) {
    var d = $("#module" + h).find(".newsList");
    if (d.length == 0) {
        return
    }
    var a = {};
    d.find(".lineBody").each(function (m) {
        var k = $(this);
        var n = k.find(".newsType");
        if (n.length != 0) {
            var p = n.find(">a");
            var q = 0;
            $.each(p, function (s, r) {
                q += $(r).outerWidth() + Fai.getCssInt($(r), "margin-right")
            });
            var i = q + Fai.getCssInt(n, "padding-left") + Fai.getCssInt(n, "padding-right") + 5;
            if (typeof a.nt == "undefined" || a.nt < i) {
                if (i > 300) {
                    i = 300
                }
                a.nt = i
            }
        }
        var j = k.find(".newsCalendar");
        if (j.length != 0) {
            var l = j.find(">a").first().outerWidth();
            var o = l + Fai.getCssInt(j, "padding-left") + Fai.getCssInt(j, "padding-right") + 5;
            if (typeof a.nc == "undefined" || a.nc < o) {
                a.nc = o
            }
        }
    });
    var f = d.attr("newslisttype");
    d.find(".lineBody").each(function () {
        var l = $(this);
        if (!l.children().hasClass("J_noChangeStyle")) {
            if (c) {
                var i = l.width();
                var k, j;
                if (i <= 400) {
                    if (l.find(".newsType").length == 0) {
                        k = "100%";
                        j = "0%"
                    } else {
                        k = "60%";
                        j = "40%"
                    }
                } else {
                    if (l.find(".newsType").length == 0) {
                        k = "100%";
                        j = "0%"
                    } else {
                        k = "70%";
                        j = "30%"
                    }
                }
                l.find(".newsTitle").css("width", k);
                if (typeof a.nt != "undefined") {
                    l.find(".newsType").css("width", j).css("text-overflow", "ellipsis")
                }
            } else {
                if (f != 3) {
                    l.find(".newsTitle").css("width", "100%")
                }
                if (typeof a.nt != "undefined") {
                    l.find(".newsType").css("width", a.nt + "px").css("text-overflow", "ellipsis")
                }
            }
            if (typeof a.nc != "undefined" && f != 3) {
                l.find(".newsCalendar").css("width", a.nc + "px")
            }
            if (l.find(".newsCalendar").width() < l.find(".newsCalendar>a").width()) {
                l.find(".newsCalendar").width(l.find(".newsCalendar>a").width())
            }
        }
    });
    d.find(".word").css({display: "block", width: "100%"});
    if (Fai.isIE6() && (d.find(".wWLine").length > 0)) {
        d.find(".line").each(function () {
            $(this).height($(this).height())
        });
        if (d.find(".g_topFlag").length > 0) {
            d.find(".newsTitle a").each(function () {
                $(this).height($(this).height())
            })
        }
    }
    var b = d.find(".line").css("background-color");
    d.find(".line").find(".newsType, .J_newsTypePicList").find("a").hover(function (i) {
        i.stopPropagation();
        $(this).parents(".line").removeClass("g_hover");
        $(this).addClass("g_hover");
        $(this).css("background", b)
    }, function () {
        $(this).removeClass("g_hover");
        $(this).css("background", "")
    });
    d.find(".line").mouseover(function () {
        if (!$(this).hasClass("noHover")) {
            $(this).addClass("g_hover")
        }
    }).mouseleave(function () {
        if (!$(this).hasClass("noHover")) {
            $(this).removeClass("g_hover")
        }
    });
    var e = !!d.hasClass("pic-mixNewsList");
    if (e) {
        d.find(".mixNewsStyleTitleContainer").off("mouseover.stylePic").on("mouseover.stylePic", function (i) {
            $(this).addClass("g_hover");
            fixHoverNewsListPicTitleWidth(h, $(this))
        }).off("mouseleave.stylePic").on("mouseleave.stylePic", function (i) {
            $(this).removeClass("g_hover");
            fixHoverNewsListPicTitleWidth(h, $(this))
        })
    }
    d.find(".lineHeader").first().addClass("firstHeader");
    Site.initContentSplitLine(h, g)
};

function fixHoverNewsListPicTitleWidth(a, g) {
    var e = $("#module" + a), c = e.find(".newsList");
    var d = g.find(".mixNewsStyleTitle");
    if (d.attr("mix") == 1) {
        var b = c.find("td.newsTitle").width() || 0;
        var i = c.find(".articlePhotoBox img").width() || 0;
        var f = g.find(".mixNewsStyleDate").width() || 0;
        var h = parseInt(b) - parseInt(f) - parseInt(i) - 40;
        if (Fai.isIE6()) {
            h -= 20
        }
        d.css({width: h + "px"})
    }
}

Site.loadNewsNewStyle = function (q, b, s, o, g, i, j, r, u, w, p) {
    var d = $("#module" + q);
    var z = d.find(".newsList");
    var h = d.width();
    var k = Fai.top._isTemplateVersion2 ? "newsCircle_hover" : "g_block";
    if (z.length == 0) {
        return
    }
    if (b || s || i || j) {
        if (d.find("#pagenation" + q).length > 0) {
            d.find("#pagenation" + q).css({"text-align": "center"})
        }
        if (!j) {
            var n = z.find(".J_newsListLine");
            if (n.hasClass("top_with_line_icon")) {
                n.css("padding-left", "0")
            }
        }
        if (h <= 400) {
            if (!p) {
                if (!o) {
                    $(z.find(".newsTitle").find("a")).each(function (A, B) {
                        $(this).css({height: "auto", "white-space": "normal", "word-break": "normal"});
                        if ($(this).html().length > 23) {
                            var C = $(this).html().substring(0, 20) + "...";
                            $(this).html(C)
                        }
                        if (i) {
                            $(this).parent().css({height: "auto"})
                        }
                    })
                }
                if (!j) {
                    z.find(".newsTitle").css({display: "inline"})
                }
                z.find(".newsTitle").find("a").css({display: "inline"})
            }
        }
        z.find(".newsTypePicList_four").find(".newsTypePic").mouseover(function () {
            $(this).css({color: "#fff", background: "#bababa", "border-color": "#bababa"})
        }).mouseleave(function () {
            $(this).css({color: "#717171", background: "#fff", "border-color": "#dadada"})
        })
    }
    if (s || i || j) {
        var l;
        z.find(".fk-newsListTitle").mouseenter(function () {
            if (i) {
                $(this).parent().parent().find(".newsCircle").addClass(k)
            }
            if (j) {
                l && clearTimeout(l);
                var A = $(this);
                l = setTimeout(function () {
                    A.addClass("g_stress");
                    A.addClass("g_hover")
                }, 200)
            } else {
                $(this).addClass("g_stress");
                $(this).addClass("g_hover")
            }
        }).mouseleave(function () {
            if (i) {
                $(this).parent().parent().find(".newsCircle").removeClass(k)
            }
            if (j) {
                clearTimeout(l)
            }
            $(this).removeClass("g_stress");
            $(this).removeClass("g_hover")
        })
    } else {
        if (b) {
            z.find(".J_titleLine").mouseenter(function () {
                var B = $(this).find(".fk-newsListTitle");
                var A = $(this).find(".fk-newsListDate");
                B.addClass("g_stress");
                B.addClass("g_hover");
                A.addClass("g_stress");
                A.addClass("g_hover")
            }).mouseleave(function () {
                var B = $(this).find(".fk-newsListTitle");
                var A = $(this).find(".fk-newsListDate");
                B.removeClass("g_stress");
                B.removeClass("g_hover");
                A.removeClass("g_stress");
                A.removeClass("g_hover")
            })
        }
    }
    if (b) {
        z.find(".newsCalendar").css({width: "23.5%"});
        if (h <= 400) {
            z.find(".newsTitle").css({width: "100%"});
            z.find(".newsCalendar").css({display: "block", "text-align": "left"})
        } else {
            z.find(".newsTitle").css({width: "75%"});
            if (Fai.isIE6() || Fai.isIE7()) {
                z.find(".newsTitle").css({"float": "left"});
                z.find(".newsCalendar").css({"float": "right"})
            }
        }
    }
    if (s) {
        var y = z.find(".J_newsListLine").width(), x;
        if (!!w) {
            if (u) {
                z.find(".lineBody").css({width: "100%"})
            } else {
                x = z.find(".J_newsListLine .J_newsCalendar").outerWidth(true);
                if (Fai.top._manageMode) {
                    z.find(".lineBody").css({
                        width: "-moz-calc(100% - " + x + "px)",
                        width: "-webkit-calc(100% - " + x + "px)",
                        width: "calc(100% - " + x + "px)"
                    })
                } else {
                    z.find(".lineBody").width(parseInt(y - x))
                }
            }
        } else {
            if (h <= 400) {
                if (!g) {
                    z.find(".newsCalendar").hide()
                }
                z.find(".lineBody").css({width: "100%"})
            } else {
                z.find(".newsCalendar").show();
                z.find(".lineBody").css({width: "84%"})
            }
        }
    }
    if (i) {
        if (h <= 400) {
            z.find(".newsCircleOuter").css({margin: "5px 8px 0px 0"});
            z.find(".lineBody").css({width: "100%"});
            z.find(".newsTitle").parent().css({width: "80%"});
            z.find(".J_timeLine").css({left: "9px"});
            z.find(".newsCalendar").css({"margin-left": "30px"})
        }
        var f = z.height();
        var e = z.find(".newsCircleOuter");
        var a = z.find(".newsCalendar").width();
        if (e.length == 0) {
            return
        }
        var m = e.position().left + parseInt(e.css("margin-left").replace("px", "")) + e.width() / 2;
        if (Fai.isIE6() || Fai.isIE7()) {
            z.find(".J_timeLine").css({
                height: f - 20 + "px",
                left: e.position().left + e.width() / 2 + parseInt(e.css("margin-left").replace("px", "")) + a + "px"
            })
        } else {
            z.find(".J_timeLine").css({height: f - 20 + "px", left: m + "px"})
        }
    }
    if (j) {
        if (h <= 400) {
            z.find(".line").css({"margin-left": "", width: "198px"});
            if (!r) {
                z.find(".J_articlePhotoBox").find(".cutImgPanel").each(function (B, D) {
                    var C = $(this).find("img").width() / $(this).find("img").height();
                    var A = (198 / C - 124) / 2;
                    $(this).parent().css({width: "198px", height: "124px"});
                    $(this).css({height: "124px", bottom: A + "px"});
                    $(this).find("img").css({width: "198px", height: (198 / C) + "px"})
                });
                z.find(".articlePhotoBox").find("img").each(function (A, B) {
                    if ($(this).attr("_defimg")) {
                        $(this).css({width: "198px", height: "124px"})
                    }
                    $(this).parent().css({width: "198px", height: "124px"})
                })
            }
        } else {
            var c = z.hasClass("useOldStyleForHeight");
            var v = d.hasClass("formInZone");
            if (!c) {
                if (v) {
                    setTimeout(function () {
                        Site.autoFixNewsHeight(q)
                    }, 0)
                } else {
                    Site.autoFixNewsHeight(q)
                }
            } else {
                var t = function () {
                    var A = 0;
                    z.find(".J_newsListLine").each(function (B, C) {
                        if ($(this).height() > A) {
                            A = $(this).height()
                        }
                        if (A > 550) {
                            A = 550
                        }
                    });
                    z.find(".J_newsListLine").css({height: A + "px"})
                };
                if (v) {
                    setTimeout(function () {
                        t()
                    }, 0)
                } else {
                    t()
                }
            }
        }
    }
};
Site.getNewsListStyleData = function (c) {
    var b = Fai.top.newsListStyleData, a;
    if (!b) {
        return
    }
    a = b["newsListStyle" + c] || {};
    return a
};
Site.setNewsListImgSize = function (l, p) {
    var e = $("#module" + l), t = Site.getModuleAttrPattern(l).newsList, u = e.find("#newsList" + l),
        f = e.find(".J_newsListLine"), o = f.find(".J_articlePicHref"), r = e.find(".J_articlePhotoBox"),
        n = o.find(".J_newsListPic"), c = Site.getNewsListStyleData(l), d = t.tw || false, m = t.ps.t || false,
        g = c.isNewModuleStyleFour || false, i = parseFloat(c.picPaddingRight), q = parseFloat(c.picPaddingBottom),
        j = c.pictureDefaultHeight || 107, k = c.pictureDefaultWidth || 152, b = e.width(), h, s, a;
    if (p) {
        h = t.ps.w;
        s = t.ps.h
    }
    if (n.length < 1 && o.length < 1) {
        return
    }
    if (p) {
        n.css({height: s, width: h});
        o.css({height: s, width: h});
        r.css({marginBottom: q, marginRight: i})
    } else {
        if (g) {
            f.width(k)
        }
        o.css({height: j, width: k});
        r.css({marginBottom: q, marginRight: i})
    }
    if (g) {
        if (b <= 400) {
            f.css({"margin-left": "", width: "198px", height: "auto"});
            if (!m) {
                Site.setNewsListDefaultPicSize(e)
            }
        } else {
            f.css({"margin-left": "30px", width: h});
            Site.setNewsListLineMaxHeight(f, l)
        }
    }
    Site.resetNewScroll(l, parseInt(t.ls.t))
};
Site.setNewsClassifyStyle = function (d, f) {
    var a, n, k, e, q, g, b, l, i, p, c, j, m, o, h;
    m = Site.getModuleAttrPattern(d);
    o = Fai.top.$("#module" + d);
    $newsModule = o.find("#newsList" + d);
    a = $newsModule.find(".J_lineBody");
    i = a.find(".J_articlePhotoBox");
    p = f ? "newsList" : "newsResult";
    c = ".J_" + p + "Pic";
    j = m[p];
    h = parseInt(j.tw);
    a.each(function (r, s) {
        _this = $(s);
        n = _this.find(".J_newsTypePicList");
        if (n.length != 0) {
            l = n.prevAll(":not('.J_articlePhotoBox')");
            b = 0;
            $.each(l, function (t, u) {
                b += $(u).outerHeight()
            });
            k = _this.outerWidth() - i.eq(r).outerWidth();
            n.css("width", k + "px");
            g = _this.find(c).outerHeight() - b - n.outerHeight();
            g = (g < 0 ? 0 : g);
            if (h == 1 || h == -1 || g < 0) {
                g = 0
            }
            n.css("margin-top", g + "px")
        }
    })
};
Site.refreshNewsListStyle = function (c, b) {
    var a;
    if (b) {
        a = Site.getModuleAttrPattern(c).newsList;
        Site.setNewsListImgSize(c, parseInt(a.ps.t));
        Site.refreshNewsTimeLine(c)
    }
    Site.setNewsClassifyStyle(c, b)
};
Site.refreshNewsTimeLine = function (l) {
    var e = Site.getNewsListStyleData(l), q = Site.getModuleAttrPattern(l).newsList, r, d, f, n, h, c, a, j, i, s, m, g,
        b, o, k, p;
    g = e.isNewModuleStyleOne;
    s = e.isNewModuleStyleTwo;
    m = e.isNewModuleStyleThree;
    b = e.isNewModuleStyleFour;
    p = e.smallWidthHideDate;
    if (!(s || m || g || b)) {
        return
    }
    r = $("#newsList" + l);
    n = r.find(".J_newsCalendar");
    i = r.find(".J_lineBody");
    d = r.width();
    o = r.find(".J_newsTitle");
    if (g) {
        n.css({width: "23.5%"});
        if (d <= 400) {
            o.css({width: "100%"});
            n.css({display: "block"})
        } else {
            n.css({display: "inline-block"});
            o.css({width: "75%"})
        }
    } else {
        if (s) {
            if (!p) {
                if (d <= 400) {
                    if (!e.newModuleStyleTwo_horizontal) {
                        n.hide()
                    }
                    i.css({width: "100%"})
                } else {
                    n.show();
                    i.css({width: "84%"})
                }
            }
        } else {
            if (m) {
                h = r.find(".J_timeLine");
                f = r.find(".newsCircleOuter");
                if (d <= 400) {
                    f.css({margin: "5px 8px 0px 0"});
                    i.css({width: "100%"});
                    o.parent().css({width: "80%"});
                    h.css({left: "9px"});
                    n.css({"margin-left": "30px"})
                }
                c = r.height();
                a = n.width();
                if (f.length == 0) {
                    return
                }
                j = f.position().left + parseInt(f.css("margin-left").replace("px", "")) + f.width() / 2;
                h.css({height: c - 20 + "px", left: j + "px"})
            }
        }
    }
};
Site.setNewsListDefaultPicSize = function (a) {
    $articlePhotoBox = a.find(".J_articlePhotoBox");
    $articlePhotoBox.find(".cutImgPanel").each(function (c, e) {
        var d = $(this).find("img").width() / $(this).find("img").height();
        var b = (198 / d - 124) / 2;
        $(e).parent().css({width: "198px", height: "124px"});
        $(e).css({height: "124px", bottom: b + "px"});
        $(e).find("img").css({width: "198px", height: (198 / d) + "px"})
    });
    $articlePhotoBox.find("img").each(function (b, c) {
        if ($(c).attr("_defimg")) {
            $(c).css({width: "198px", height: "124px"})
        }
        $(c).parent().css({width: "198px", height: "124px"})
    })
};
Site.resetNewScroll = function (a, h) {
    var i = $("#module" + a), k = Site.getModuleAttrPattern(a).newsList, b = "scroll" + a, c = i.find("#newsList" + a),
        d = "down", j = c.find(".J_newsListLine"), g, f, e;
    c.stop(true, true);
    Fai.top.Fai.stopInterval("scroll" + a);
    j.off("mouseover.newsScroll mouseout.newsScroll");
    i.off("mouseover.newsScroll mouseout.newsScroll");
    c.css({height: "", top: "", position: ""});
    c.parent().css({height: "", overflow: "", position: ""});
    if (h) {
        d = (parseInt(k.ls.d)) ? "up" : "down";
        g = Site.getNewsListStyleData(a);
        f = g.isPictureStyle;
        e = f ? 1 : 0;
        c.height("auto");
        c.parent().height("auto");
        Fai.top.Site.newsScroll({moduleId: a, scrollMode: d, leader: e, noScroll: false})
    }
};
Site.setNewsListLineMaxHeight = function (c, d) {
    var a = c.parent().hasClass("useOldStyleForHeight");
    if (!a) {
        Site.autoFixNewsHeight(d)
    } else {
        var b = 0;
        if (c.length < 1) {
            return
        }
        c.css("height", "auto");
        c.each(function (e, f) {
            $elem = $(f);
            if ($elem.height() > b) {
                b = $elem.height()
            }
            if (b > 550) {
                b = 550
            }
        });
        c.css({height: b + "px"})
    }
};
Site.afterAddNews = function (a) {
    if (typeof(a) != "undefined") {
        document.location.reload()
    }
};
Site.newsAddComment = function () {
    if (_siteDemo) {
        Fai.ing("当前为“模板网站”，请先“复制网站”再进行评论。");
        return
    }
    var b = $.trim($("#commentCreator").val());
    var g = $("#commentCreator").attr("minlength");
    var f = $("#commentInput").val();
    var h = $("#commentInput").attr("minlength");
    var i = $("#validateCodeInput").val();
    var a = $("#commentInput").attr("newsId");
    var c = $("#submitTips").attr("isDefaultTips");
    if (typeof(c) == "string" && c == "true") {
        $("#submitTips").show();
        return
    }
    if (typeof(b) != "string") {
        $("#submitTips").text(LS.creatorTips).show();
        return
    }
    if (typeof(f) != "string" || "" == f) {
        $("#submitTips").text(LS.commentNotEmpty).show();
        return
    }
    if (f.length < h) {
        $("#submitTips").text(Fai.format(LS.commentLenTips, Fai.encodeHtml(h))).show();
        return
    }
    if (!$(".J_newsCommentCaptcha").hasClass("captchaHide")) {
        if (typeof(i) != "string" || "" == i) {
            $("#submitTips").text(LS.memberInputCaptcha).show();
            return
        }
    }
    var d = {validateCode: i, newsId: a, creator: b, comment: f};
    var e = "ajax/newsComment_h.jsp?cmd=submitComment";
    $("#submitTips").text(LS.siteFormSubmitIng).show();
    $.ajax({
        type: "POST", url: e, data: d, error: function () {
            Fai.ing(LS.systemError, false);
            $("#msgBoardCaptchaImg").click()
        }, success: function (j) {
            var k = jQuery.parseJSON(j);
            if (!k || !k.success) {
                $("#msgBoardCaptchaImg").click()
            }
            Fai.removeBg();
            switch (k.msg) {
                case 1:
                    $("#submitTips").text(LS.captchaError).show();
                    break;
                case 2:
                    $("#submitTips").text(LS.creatorError).show();
                    break;
                case 3:
                    $("#submitTips").text(LS.commentError).show();
                    break;
                case 4:
                    Fai.top.location.reload();
                    $("#submitTips").text(LS.submitSuccess).show();
                    break;
                case 5:
                    $("#submitTips").text(LS.paramError).show();
                    break;
                case 6:
                    $("#submitTips").html(Fai.format(LS.commentOnlyMember, '<a href="login.jsp?url=' + Fai.encodeUrl(window.location.href) + '">' + Fai.encodeHtml(LS.login) + "</a>")).show();
                    break;
                case 7:
                    $("#submitTips").text(LS.commentClosed).show();
                    break;
                case 8:
                    $("#submitTips").text(LS.commentSubmitError).show();
                    break;
                case 9:
                    $("#submitTips").text(LS.commentCountLimit).show();
                    break;
                case 10:
                    $("#submitTips").text(LS.msgBoardInputValidateCode).show();
                    if (k.needCode) {
                        $(".J_newsCommentCaptcha").removeClass("captchaHide")
                    }
                    break;
                default:
            }
            if (k.hasFW) {
                $("#submitTips").text(k.msg).show()
            }
        }
    })
};
Site.showNewsQRCode = function (e, c, a) {
    var b = a == "newsV2" ? "webSiteQRCodeDisplayV2" : "webSiteQRCodeDisplay";
    var d = ["<div id='newsQRCodeDisplay' class='" + b + "'>", "<img title='' src='/qrCode.jsp?cmd=mobiDetailQR&id=", e, "&lcid=", c, "&t=1' >", "<span>", LS.newsQRCodeMsg, "</span>", "</div>"];
    Fai.top.$(d.join("")).appendTo("body");
    $("#newsQrCode").mouseenter(function (f) {
        if (a) {
            $("#newsQRCodeDisplay").css("top", ($(this).offset().top + $(this).height() + 10) + "px");
            $("#newsQRCodeDisplay").css("left", ($(this).offset().left - 60) + "px")
        } else {
            $("#newsQRCodeDisplay").css("top", $(this).offset().top + "px");
            $("#newsQRCodeDisplay").css("left", ($(this).offset().left + 24) + "px")
        }
        if (a) {
            $("#newsQRCodeDisplay").slideDown("fast")
        } else {
            $("#newsQRCodeDisplay").show()
        }
    }).mouseleave(function (f) {
        if (a) {
            $("#newsQRCodeDisplay").slideUp("fast")
        } else {
            $("#newsQRCodeDisplay").hide()
        }
    })
};
Site.initMixNews = function (l) {
    var g = l.leader || 0;
    var e = $("#module" + l.moduleId), b = e.find(".newsList"), i = b.parent();
    var d = b.find(".mixNewsStyleTitle");
    if (d.attr("mix") == 1) {
        var a = b.find("td.newsTitle").width() || 0;
        var f = b.find(".mixNewsStyleDate").width() || 0;
        var k = b.find(".articlePhotoBox img").width() || 0;
        var h = parseInt(a) - parseInt(f) - parseInt(k) - 40;
        if (Fai.isIE6()) {
            h -= 20
        }
        d.css({width: h + "px"});
        if (h < 1) {
            d.addClass("mixNewsStyleTitle-hide")
        } else {
            d.removeClass("mixNewsStyleTitle-hide")
        }
    }
    if (Fai.isIE6() && g != 0) {
        var j = b.find("td.newsTitle").height();
        b.find(".line").eq(0).css({height: j + "px"})
    }
    var c = Fai.top.$("#module" + l.moduleId);
    c.on("Fai_onModuleLayoutChange", function () {
        var p = $(this).find(".newsList");
        var t = p.parent();
        var s = p.find(".mixNewsStyleTitle");
        p.css({height: "auto"});
        t.css({height: "auto"});
        if (Fai.isIE6() && g != 0) {
            var m = p.find("td.newsTitle").height();
            p.find(".line").eq(0).css({height: m + "px"})
        }
        if (p.find(".mixNewsStyleTitle").attr("mix") == 1) {
            var r = p.find("td.newsTitle").width() || 0;
            var o = p.find(".mixNewsStyleDate").width() || 0;
            var n = p.find(".articlePhotoBox img").width() || 0;
            var q = parseInt(r) - parseInt(o) - parseInt(n) - 40;
            if (Fai.isIE6()) {
                q -= 20
            }
            p.find(".mixNewsStyleTitle").css({width: q + "px"});
            if (q < 1) {
                s.addClass("mixNewsStyleTitle-hide")
            } else {
                s.removeClass("mixNewsStyleTitle-hide")
            }
        }
        if (Fai.isIE6() && g != 0) {
            var m = p.find("td.newsTitle").height();
            p.find(".line").eq(0).css({height: m + "px"})
        }
    });
    c.find(".lineBody").each(function (q) {
        var s = $(this);
        var r = s.find(".newsTypePicList");
        if (r.length != 0) {
            var o = $(r).prevAll();
            var n = 0;
            $.each(o, function (t, u) {
                if (!$(u).hasClass("articlePhotoBox")) {
                    n += $(u).outerHeight()
                }
            });
            var m = s.outerWidth() - s.find(".articlePhotoBox").outerWidth();
            $(r).css("width", m + "px");
            var p = s.find(".articlePhotoBox img").outerHeight() - n - $(r).outerHeight();
            p = (p < 0 ? 0 : p);
            $(r).css("margin-top", p + "px")
        }
    })
};
Site.setNewsListStylePattern = function (c, b) {
    var a = Fai.top.newsListStyleData;
    if (!a) {
        Fai.top.newsListStyleData = {}
    }
    Fai.top.newsListStyleData["newsListStyle" + c] = b
};
Site.setNewsModuleAttrPattern = function (d, a, c) {
    var b = Site.getModuleAttrPattern(d);
    if (!!b[a]) {
        b[a] = c
    }
};
Site.autoFixNewsHeight = function (c) {
    var e = $("#module" + c);
    var b = e.find(".J_newsList");
    var l = b.find(".J_newsListLine");
    var a = b.width();
    var k = l.outerWidth(true);
    var d = parseInt(a / k);
    var p = 0, g = [], n, m;
    for (var h = 0, f = 1, o = l.length; h < o; h++) {
        n = $(l[h]);
        m = n.height();
        if (m > p) {
            p = m
        }
        g.push(n);
        if (f === d || h === o - 1) {
            $(g).each(function () {
                $(this).css("height", p + "px")
            });
            f = 1;
            p = 0;
            g = []
        } else {
            f++
        }
    }
};
Site.initNewsDetailV2 = function () {
    var h = $(".newsDetailV2");
    var e = h.find(".middlePanel"), b = e.find(".shareInfo");
    if (b.length > 0) {
        var l = b.find(".shareTag"), c = b.find(".shareListPanel"), a = c.find("a").length,
            g = parseInt(c.width() / (33 + 12)), k = b.position().top, f = b.position().left - 10, d, j = "", i;
        e.css("height", e.height() + "px");
        if (g < a) {
            d = c.find("a").eq(g - 1);
            j += "<a class='shareIcon more' hidefocus='true' title='更多' href='javascript:;'></a>";
            d.before(j);
            i = c.find(".more");
            i.on("click", function (m) {
                m.stopPropagation();
                b.hide();
                $(this).hide();
                b.css("top", k + "px");
                b.css("right", 0);
                b.addClass("showAllShare");
                b.slideDown("fast")
            });
            $(document).on("click", function () {
                if (b.hasClass("showAllShare")) {
                    b.fadeOut("fast", function () {
                        b.removeAttr("style");
                        b.removeClass("showAllShare");
                        i.show();
                        b.show()
                    })
                }
            })
        }
    }
    h.find(".newsInfoWrap").find(".leftInfo").find(".newsInfo").find("a").hover(function () {
        $(this).addClass("g_hover")
    }, function () {
        $(this).removeClass("g_hover")
    })
};
Site.siteFormAdd = function (b, q, o, g, a, e, d) {
    if (_siteDemo) {
        Fai.ing("当前为“模板网站”，请先“复制网站”再进行提交。");
        return
    }
    var i = [];
    var p = o;
    var c = true;
    var l = 100;
    var f = 1000;
    var n = g;
    var m = $("#M" + b + "F" + q + "siteFormValidateCode");
    var j = m.val();
    var k = [];
    if (p.length > 0) {
        $.each(p, function (K, H) {
            if (H.hide) {
                return true
            }
            var F = H.id;
            var R = H.name;
            var G = H.must;
            var w = H.type;
            var E = H.size;
            var N = {};
            var M = H.openAreaCode;
            N.id = F;
            N.type = w;
            N.must = G;
            if (w == 0) {
                var P = $.trim($("#M" + b + "F" + q + "siteFormInput" + F).val());
                if (G && P == "") {
                    Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitInputIsEmpty, Fai.encodeHtml(R)), q, b);
                    c = false;
                    return false
                }
                if (P.length > l) {
                    Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitInputMaxLength, Fai.encodeHtml(R), l), q, b);
                    c = false;
                    return false
                }
                N.val = P
            } else {
                if (w == 1) {
                    var t = $.trim($("#M" + b + "F" + q + "siteFormTextArea" + F).val());
                    if (G && t == "") {
                        Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitInputIsEmpty, Fai.encodeHtml(R)), q, b);
                        c = false;
                        return false
                    }
                    if (t.length > f) {
                        Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitInputMaxLength, Fai.encodeHtml(R), f), q, b);
                        c = false;
                        return false
                    }
                    N.val = t
                } else {
                    if (w == 2) {
                        if (G && $("input[name=M" + b + "F" + q + "siteFormRadioR" + F + "]:checked").length == 0) {
                            Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty, Fai.encodeHtml(R)), q, b);
                            c = false;
                            return false
                        }
                        if ($("input[name=M" + b + "F" + q + "siteFormRadioR" + F + "]:checked").length > 0) {
                            N.val = $("input[name=M" + b + "F" + q + "siteFormRadioR" + F + "]:checked").first().val()
                        } else {
                            N.val = ""
                        }
                    } else {
                        if (w == 3) {
                            if (G && $("input[name=M" + b + "F" + q + "siteFormCheckboxR" + F + "]:checked").length == 0) {
                                Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty, Fai.encodeHtml(R)), q, b);
                                c = false;
                                return false
                            }
                            var I = [];
                            $("input[name=M" + b + "F" + q + "siteFormCheckboxR" + F + "]:checked").each(function (S, T) {
                                I.push($(this).val())
                            });
                            N.val = I.join("\n")
                        } else {
                            if (w == 4) {
                                if (G && ($("#M" + b + "F" + q + "siteFormSelect" + F + " option:selected").length == 0 || $("#M" + b + "F" + q + "siteFormSelect" + F + " option:selected").val() == "none")) {
                                    Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty, Fai.encodeHtml(R)), q, b);
                                    c = false;
                                    return false
                                }
                                var s = [];
                                $("#M" + b + "F" + q + "siteFormSelect" + F + " option:selected").each(function (S, T) {
                                    if ($(this).val() == "none") {
                                        s.push("")
                                    } else {
                                        s.push($(this).val())
                                    }
                                });
                                N.val = s.join("\n")
                            } else {
                                if (w == 5) {
                                    return true
                                } else {
                                    if (w == 6) {
                                        var P = $("#M" + b + "F" + q + "siteFormInput" + F).val(),
                                            x = H.dateSetting ? H.dateSetting.type : 0,
                                            B = x == 1 ? $("#M" + b + "F" + q + "siteFormInput" + F + "_end").val() : "";
                                        if (G && P == "") {
                                            Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty, Fai.encodeHtml(R)), q, b);
                                            c = false;
                                            return false
                                        }
                                        if (G && x == 1 && B == "") {
                                            Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty, Fai.encodeHtml(R)), q, b);
                                            c = false;
                                            return false
                                        }
                                        temInput = x == 1 ? (P + " 至 " + B) : P;
                                        N.val = temInput
                                    } else {
                                        if (w == 7) {
                                            var v = $("#module" + b).find("#siteForm" + b + "fileName" + F);
                                            var O = {};
                                            if (G && v.attr("_tmpFileId") == "") {
                                                Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitCheckHasFileUpload, Fai.encodeHtml(R)), q, b);
                                                c = false;
                                                return false
                                            }
                                            if (v.attr("_tmpFileId") == "") {
                                                N.val = ""
                                            } else {
                                                N.val = v.attr("_fileId");
                                                O.tmpFileName = v.attr("_tmpFileName");
                                                O.fileId = N.val;
                                                O.tmpFileId = v.attr("_tmpFileId");
                                                k.push(O)
                                            }
                                        } else {
                                            if (w == 8) {
                                                var Q = $("#M" + b + "F" + q + "siteFormPhoneInput" + F).val();
                                                var A = $("#M" + b + "F" + q + "siteFormPhoneInput" + F);
                                                if (G) {
                                                    if (Q == "") {
                                                        Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitInputIsEmpty, Fai.encodeHtml(R)), q, b);
                                                        c = false;
                                                        return false
                                                    } else {
                                                        if (!Fai.isNationMobile(Q)) {
                                                            Site.siteFormShowMsg(Fai.format(LS.mobileNumRegular, Fai.encodeHtml(R)), q, b);
                                                            A.focus();
                                                            c = false;
                                                            return false
                                                        }
                                                        if (Q < 1000000 || Q > 99999999999) {
                                                            Site.siteFormShowMsg(Fai.format(LS.mobileNumRegular, Fai.encodeHtml(R)), q, b);
                                                            A.focus();
                                                            c = false;
                                                            return false
                                                        }
                                                        if (M) {
                                                            var u = $("#M" + b + "F" + q + "siteFormSelectPhoneCT" + F).val();
                                                            N.val = u + Q
                                                        } else {
                                                            N.val = Q
                                                        }
                                                    }
                                                } else {
                                                    if (Q != "") {
                                                        if (!Fai.isNationMobile(Q)) {
                                                            Site.siteFormShowMsg(Fai.format(LS.mobileNumRegular, Fai.encodeHtml(R)), q, b);
                                                            A.focus();
                                                            c = false;
                                                            return false
                                                        }
                                                        if (Q < 1000000 || Q > 99999999999) {
                                                            Site.siteFormShowMsg(Fai.format(LS.mobileNumRegular, Fai.encodeHtml(R)), q, b);
                                                            A.focus();
                                                            c = false;
                                                            return false
                                                        }
                                                        if (M) {
                                                            var u = $("#M" + b + "F" + q + "siteFormSelectPhoneCT" + F).val();
                                                            N.val = u + Q
                                                        } else {
                                                            N.val = Q
                                                        }
                                                    }
                                                }
                                            } else {
                                                if (w == 9) {
                                                    var L = $("#M" + b + "F" + q + "siteFormMailInput" + F).val();
                                                    var z = $("#M" + b + "F" + q + "siteFormMailInput" + F);
                                                    if (G) {
                                                        if (L == "") {
                                                            Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitInputIsEmpty, Fai.encodeHtml(R)), q, b);
                                                            c = false;
                                                            return false
                                                        } else {
                                                            if (!Fai.isEmail(L)) {
                                                                Site.siteFormShowMsg(Fai.format(LS.memberSignupUserAddItemCorrect, Fai.encodeHtml(R)), q, b);
                                                                z.focus();
                                                                c = false;
                                                                return false
                                                            }
                                                        }
                                                    } else {
                                                        if (L != "") {
                                                            if (!Fai.isEmail(L)) {
                                                                Site.siteFormShowMsg(Fai.format(LS.memberSignupUserAddItemCorrect, Fai.encodeHtml(R)), q, b);
                                                                z.focus();
                                                                c = false;
                                                                return false
                                                            }
                                                        }
                                                    }
                                                    N.val = L
                                                } else {
                                                    if (w == 10) {
                                                        var D = $("#M" + b + "F" + q + "siteFormIdentityInput" + F).val();
                                                        var y = $("#M" + b + "F" + q + "siteFormIdentityInput" + F);
                                                        if (G) {
                                                            if (D == "") {
                                                                Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitInputIsEmpty, Fai.encodeHtml(R)), q, b);
                                                                c = false;
                                                                return false
                                                            } else {
                                                                if (!Fai.isCardNo(D)) {
                                                                    Site.siteFormShowMsg(Fai.format(LS.memberSignupUserAddItemCorrect, Fai.encodeHtml(R)), q, b);
                                                                    y.focus();
                                                                    c = false;
                                                                    return false
                                                                }
                                                            }
                                                        } else {
                                                            if (D != "") {
                                                                if (!Fai.isCardNo(D)) {
                                                                    Site.siteFormShowMsg(Fai.format(LS.memberSignupUserAddItemCorrect, Fai.encodeHtml(R)), q, b);
                                                                    y.focus();
                                                                    c = false;
                                                                    return false
                                                                }
                                                            }
                                                        }
                                                        N.val = D
                                                    } else {
                                                        if (w == 11) {
                                                            var C = $("#M" + b + "F" + q + "siteFormSelectProvince" + F).find("option:selected").attr("_val");
                                                            var J = $("#M" + b + "F" + q + "siteFormSelectCity" + F).find("option:selected").attr("_val");
                                                            var r = $("#M" + b + "F" + q + "siteFormSelectCounty" + F).find("option:selected").attr("_val");
                                                            if (G) {
                                                                if (C == "-1" || J == "-1") {
                                                                    Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitInputIsEmpty, Fai.encodeHtml(R)), q, b);
                                                                    c = false;
                                                                    return false
                                                                } else {
                                                                    if (r == "-1" || typeof(r) == "undefined") {
                                                                        N.val = C + J
                                                                    } else {
                                                                        N.val = C + J + r
                                                                    }
                                                                }
                                                            } else {
                                                                N.val = "";
                                                                if (C != "-1") {
                                                                    N.val += C
                                                                }
                                                                if (J != "-1" && typeof(J) != "undefined") {
                                                                    N.val += J
                                                                }
                                                                if (r != "-1" && typeof(r) != "undefined") {
                                                                    N.val += r
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
            i.push(N)
        })
    }
    if (!c) {
        return false
    }
    if (n && j == "") {
        Site.siteFormShowMsg(Fai.format(LS.siteFormSubmitInputIsEmpty, m.attr("msg")), q, b);
        c = false;
        return false
    }
    if (!e) {
        e = ""
    }
    var h = "&submitContentList=" + Fai.encodeUrl($.toJSON(i));
    Site.siteFormShowMsg(LS.siteFormSubmitIng, q, b);
    if ((typeof($("#module" + b).data("siteFormAdd_is_reCommit")) == "undefined") || $("#module" + b).data("siteFormAdd_is_reCommit") == false) {
        $("#module" + b).data("siteFormAdd_is_reCommit", true);
        $.ajax({
            type: "post",
            url: "ajax/siteForm_h.jsp",
            data: "cmd=addSubmit&formId=" + q + "&submitContentList=" + Fai.encodeUrl($.toJSON(i)) + "&vCodeId=" + b + q + "&validateCode=" + j + "&tmpFileList=" + Fai.encodeUrl($.toJSON(k)),
            error: function () {
                $("#module" + b).data("siteFormAdd_is_reCommit", false);
                var s = Site.getDialogContent(false, Fai.format(LS.siteFormSubmitError));
                var r = {htmlContent: s, width: 205, height: 78};
                Site.popupBox(r)
            },
            success: function (r) {
                $("#module" + b).data("siteFormAdd_is_reCommit", false);
                r = $.parseJSON(r);
                if (r.success) {
                    Fai.top.$("#siteFormMsgM" + b + "F" + q).hide();
                    var w = [];
                    w.push("<div class='voteSuccessPanel sweet-alert' style='margin-top:20px; height:180px;'>");
                    w.push("		<div class='sa-icon sa-success animate' style='margin-top:0;'>");
                    w.push("			<span class='sa-line sa-tip animateSuccessTip'></span>");
                    w.push("			<span class='sa-line sa-long animateSuccessLong'></span>");
                    w.push("			<div class='sa-placeholder'></div>");
                    w.push("			<div class='sa-fix'></div>");
                    w.push("		</div>");
                    w.push("		<div class='voteSuccessTitle'>" + LS.siteFormSubmitOk + "</div>");
                    w.push("</div>");
                    var s = {htmlContent: w.join(""), width: 367, height: 225, autoClose: 3000};
                    Site.popupBox(s);
                    setTimeout(function () {
                        location.href = e
                    }, 3000);
                    Site.siteFormValidation(q, b);
                    Fai.top.$("#module" + b + " .siteForm input[type=text]").val("");
                    Fai.top.$("#module" + b + " .siteForm textarea").val("");
                    Fai.top.$("#module" + b + " .siteForm input[type=radio]").each(function () {
                        $(this)[0].checked = false
                    });
                    Fai.top.$("#module" + b + " .siteForm input[type=checkbox]").each(function () {
                        $(this)[0].checked = false
                    });
                    if (Fai.top.$("#module" + b + " .siteForm select")[0] != undefined) {
                        Fai.top.$("#module" + b + " .siteForm select")[0].selectedIndex = 0
                    }
                    Fai.top.$("#module" + b).find(".siteFormFileName").html(LS.siteFormSubmitNotSeletcFile);
                    Fai.top.$("#module" + b).find(".siteFormFileName").removeAttr("_tmpFileId").removeAttr("_tmpFileName").removeAttr("title").removeAttr("_fileId")
                } else {
                    if (r.hasFW) {
                        Site.siteFormShowMsg(r.msg, q, b)
                    } else {
                        if (r.rt == -4) {
                            Site.siteFormShowMsg(LS.siteFormSubmitCountLimit, q, b)
                        } else {
                            if (r.rt == -7) {
                                Site.siteFormShowMsg(LS.siteImgFull, q, b)
                            } else {
                                if (r.rt == -20) {
                                    Site.siteFormShowMsg(r.msg, q, b)
                                } else {
                                    if (r.rt == -401) {
                                        Site.siteFormShowMsg(LS.siteFormSubmitValidateCodeErr, q, b);
                                        $("#M" + b + "F" + q + "siteFormValidateCode").val("");
                                        Site.siteFormValidation(q, b)
                                    } else {
                                        var v = LS.siteFormSubmitError, x = 205, u = 78;
                                        var w = Site.getDialogContent(false, Fai.format(v));
                                        if (r.rt == -28) {
                                            var t = new Array();
                                            t.push("<div style='width: 80px; height:80px; border-radius:50%; border: 4px solid gray; border: 4px solid gray; margin: 0 auto; padding: 0; position: relative; top:25px; box-sizing: content-box; border-color: #F8BB86;'>");
                                            t.push("<div style='animation: pulseWarningIns 0.75s infinite alternate; -webkit-animation: pulseWarningIns 0.75s infinite alternate;'>");
                                            t.push("<span style='position: absolute; width: 5px; height: 47px; left: 50%; top: 10px; webkit-border-radius: 2px; border-radius: 2px; margin-left: -2px; background-color: #F8BB86;'></span>");
                                            t.push("<span style='position: absolute; width: 7px; height: 7px; -webkit-border-radius: 50%; border-radius: 50%; margin-left: -3px; left: 50%; bottom: 10px; background-color: #F8BB86;'></span>");
                                            t.push("</div>");
                                            t.push("</div>");
                                            t.push("<div style='color:#333; font-size:16px; padding-top: 48px; text-align:center;'>" + LS.hasSubmitThisSiteForm + "</div>");
                                            x = 367, u = 225;
                                            w = t.join("")
                                        }
                                        Fai.top.$("#siteFormMsgM" + b + "F" + q).hide();
                                        var s = {htmlContent: w, width: x, height: u};
                                        Site.popupBox(s);
                                        if (r.rt == -28) {
                                            setTimeout(function () {
                                                document.location.reload()
                                            }, 2000)
                                        }
                                    }
                                }
                            }
                        }
                        if (r.needCode) {
                            Site.siteFormShowMsg(r.msg, q, b);
                            $("#module" + b + " .J_formValidation").removeClass("siteFormValidationHide")
                        }
                    }
                }
            }
        })
    }
};
Site.fixLowIePlaceholder = function (c, b) {
    var a = false;
    if (Fai.isIE) {
        if (Fai.isIE6() || Fai.isIE7() || Fai.isIE8() || Fai.isIE9()) {
            a = true
        }
    }
    if (!a) {
        $(Fai.top.$("#module" + b + "").find(".resize:not(select)")).each(function () {
            var d = $(this).attr("_placeHolder");
            $(this).attr("placeHolder", d)
        })
    } else {
        remind = function (e, g) {
            var f = g, d = e.defaultValue;
            if (!d) {
                e.val(f).addClass("phcolor")
            }
            e.focus(function () {
                if (e.val() == f) {
                    $(this).val("")
                }
            });
            e.blur(function () {
                if (e.val() == "") {
                    $(this).val(f).addClass("phcolor")
                }
            });
            e.keydown(function () {
                $(this).removeClass("phcolor")
            })
        };
        $(Fai.top.$("#module" + b + "").find(".resize:not(select)")).each(function () {
            var d = $(this).attr("_placeHolder");
            remind($(this), d)
        })
    }
};
Site.siteFormNotLogin = function (d, c) {
    var b = Fai.encodeUrl(Fai.top.location.href);
    var a = LS.siteFormSubmitNotLogin + "<a href='login.jsp?url=" + b + "'>" + LS.login + "</a>" + LS.period;
    Site.siteFormShowMsg(a, d, c)
};
Site.siteFormShowMsg = function (c, b, a) {
    Fai.top.$("#siteFormMsgM" + a + "F" + b).show();
    Fai.top.$("#siteFormMsgM" + a + "F" + b).html(c)
};
Site.siteFormTimeBtn = function (c) {
    var d = parseInt($.format.date(new Date(), "yyyy")) + 10, d = "1900:" + d, f = 124, b;
    for (var e = 0, a = c.length; e < a; e++) {
        b = c[e].dateSetting;
        (function (q, l) {
            var t = $("#" + l), h = t.hasClass("fk-startTime"), n = t.hasClass("fk-endTime"),
                m = t.closest(".siteFormMiddle"), x = q.type == 1, u = (q.type == 0 && q.accuracy == 1), k = new Date(),
                v = new Date(k.getFullYear(), k.getMonth(), k.getDate()), w = v.getTime(),
                r = (q.type == 0 && $.inArray(w, q.od.unSelectDay) == -1),
                j = (!!q.od.unSelectDay ? q.od.unSelectDay.concat([]).sort(function (y, i) {
                    return y - i
                }) : []), p = 0, s;
            for (var o = 0; o < 24; o++) {
                if ($.inArray(o, q.ot.unSelectTime) == -1) {
                    p = o;
                    break
                }
            }
            s = q.banPassDate == 1 ? v : new Date(1900, 0, 1);
            t.datetimepicker({
                dateFormat: "yy-mm-dd",
                changeYear: true,
                changeMonth: true,
                showButtonPanel: r,
                yearRange: d,
                zIndex: 9033,
                hour: p,
                controlType: "fkControl",
                showMinute: false,
                showTime: false,
                hourText: "",
                hourAccuracy: true,
                minDate: s,
                showTimepicker: u,
                autoChangeMonthYear: false,
                beforeShow: function (i, z) {
                    var y = 0;
                    z.dpDiv.addClass("fk-siteFormDatePicker");
                    if (h && z.startDateNotLimit) {
                        z.settings.minDate = s;
                        z.settings.maxDate = null;
                        z.startDateNotLimit = false
                    }
                    $("#g_main").off("scroll.timepicker").on("scroll.timepicker", function () {
                        if (z.dpDiv.is(":visible") && y++ > 10) {
                            $(i).datetimepicker("hide");
                            y = 0
                        }
                    })
                },
                afterShow: function (i, z) {
                    var y, A;
                    if (n) {
                        y = l.replace("_end", "");
                        A = new Date($("#" + y).val());
                        if (!!A.getTime()) {
                            $.datepicker._selectToMonthYearDate("#" + i.id, z, A.getMonth(), A.getFullYear(), A.getDate())
                        }
                    }
                },
                onAfterUpdatePicker: function (B) {
                    var z = B.dpDiv.find(".ui-datepicker-today"), A = z.find(".ui-state-default"),
                        i = new Date(B.currentYear, B.currentMonth, B.currentDay),
                        C = B.currentYear != 0 || B.currentMonth != 0 || B.currentDay != 0,
                        y = new Date(k.getFullYear(), k.getHours(), k.getDate());
                    if (A.hasClass("ui-state-hover") && !C) {
                        A.addClass("fk-todayDefaultStyle")
                    } else {
                        B.dpDiv.find(".ui-state-hover").removeClass("ui-state-hover")
                    }
                },
                beforeShowTime: function (i) {
                    if (q.ot.unSelectTime.length > 0 && $.inArray(i, q.ot.unSelectTime) > -1) {
                        return false
                    }
                    return true
                },
                beforeShowDay: function (i) {
                    return g(i)
                },
                onSelect: function (B, E) {
                    var z = B.replace(/-/g, "/"), G = new Date(z),
                        I = new Date(G.getFullYear(), G.getMonth(), G.getDate()).getTime(), H = E.input,
                        F = {minDate: s, maxDate: null}, A, y;
                    if (h) {
                        if (q.banAll == 1 || q.banHoliday == 1 || j.length > 0) {
                            for (D = 0; D < 365; D++) {
                                nextDay = new Date(I + (D * 86400000));
                                if (!g(nextDay)[0]) {
                                    F.maxDate = nextDay;
                                    break
                                }
                            }
                        }
                        E.startDateNotLimit = true;
                        F.minDate = new Date(z);
                        $("#" + l + "_end").datetimepicker("option", F)
                    } else {
                        if (n) {
                            A = l.replace("_end", "");
                            for (var C = j.length, D = C; D >= 0; D--) {
                                if (I >= j[D]) {
                                    y = D;
                                    break
                                }
                            }
                            if (typeof y == "number" && q.od.t == 1) {
                                F.minDate = s.getTime() < j[y] ? new Date(j[y]) : s
                            }
                            E.startDateNotLimit = false;
                            F.maxDate = new Date(z);
                            $("#" + A).datetimepicker("option", F)
                        }
                    }
                    if (!u) {
                        E.inline = false
                    }
                },
                onAfterSelect: function (i, y) {
                    if (!y.inline && h) {
                        $("#" + l + "_end").focus()
                    }
                }
            });
            if (n) {
                $("#" + l + "_mask").on("click", function () {
                    $("#" + l.replace("_end", "")).focus()
                })
            }
            if (x && t.width() <= f) {
                m.find(".fk-timeUtile").addClass("fk-timeMinStyle");
                if (n) {
                    m.find(".fk-endTimeWrap").addClass("fk-timeMinStyle")
                } else {
                    t.addClass("fk-timeMinStyle")
                }
            }
        })(b, c[e].id)
    }

    function g(j) {
        var i = true, h = j.getDay(), k = j.getTime();
        if (b.banAll == 1) {
            i = false
        }
        if (h == 0 || h == 6) {
            if (b.banHoliday == 1) {
                i = false
            } else {
                i = true
            }
        }
        if (b.od.t == 1 && $.inArray(k, b.od.unSelectDay) > -1) {
            i = false
        }
        if (b.od.t == 1 && $.inArray(k, b.od.openDay) > -1) {
            i = true
        }
        return [i, ""]
    }
};
Site.siteFormValidation = function (b, a) {
    $("#M" + a + "F" + b + "validateCodeImg").attr("src", "" + parseInt(Math.random() * 1000) + "&vCodeId=" + a + b)
};
Site.fixSiteFormStyle = function (f, a, b, d, i) {
    Fai.top.$(".siteFormItem_N_U").find(".F" + f + "siteFormItemShowVal").find("textarea").parent().css({height: "102px"});
    Fai.top.$("#module" + a + "").css("overflow", "hidden");
    if (Fai.top.$("#module" + a + "").width() <= 400) {
        if (Fai.top.$("#module" + a + "").find(".siteFormItemTable_N_U").is("table")) {
            $(Fai.top.$("#module" + a + "").find(".siteFormItemTable_N_U")).css({padding: "0"});
            $(Fai.top.$("#module" + a + "").find(".siteForm")).css({padding: "0 25px"})
        }
        if ($(Fai.top.$("#module" + a + "").find(".siteFormItem_N_U").find(".siteFormItemCheckItem_N_U_A")).length > 0) {
            $(Fai.top.$("#module" + a + "").find(".siteFormItemCheckItem_N_U_A")).css({"margin-right": "12px"});
            $(Fai.top.$("#module" + a + "").find(".siteFormItemCheckItem_N_U_A").find("input")).css({"float": "left"});
            $(Fai.top.$("#module" + a + "").find(".siteFormItemCheckItem_N_U_A").find("label")).each(function () {
                $(this).wrapAll("<div style='float:left;width:100px;'></div>")
            })
        }
        if ($(Fai.top.$("#module" + a + "").find(".siteFormValidate_N_U")).length > 0) {
            if (!d) {
                $(Fai.top.$("#module" + a + "").find(".siteFormValidate_N_U").find(".siteFormValidate")).css({margin: "4px 0 0 0"});
                $(Fai.top.$("#module" + a + "").find(".siteFormValidate_N_U").find(".star")).css({"margin-top": "4px"})
            }
        }
        if ($(Fai.top.$("#module" + a + "").find(".siteFormValidate_N_U")).length > 0) {
            $(Fai.top.$("#module" + a + "").find(".siteFormValidate_N_U").find("input")).css({
                width: "92%",
                "max-width": "400px"
            })
        }
        if ($(Fai.top.$("#module" + a + "").find(".faiButton")).length > 0) {
            $(Fai.top.$("#module" + a + "").find(".faiButton")).css({width: "95%"})
        }
        if ($(Fai.top.$("#module" + a + "").find("#buttonStyle")).length > 0) {
            if (d) {
                if (Fai.top.$("#module" + a + "").width() <= 220) {
                    $(Fai.top.$("#module" + a + "").find("#buttonStyle").find(".s_ibutton")).css({width: "100%"})
                }
                $(Fai.top.$("#module" + a + "").find("#buttonStyle")).css({width: "100%"})
            } else {
                $(Fai.top.$("#module" + a + "").find("#buttonStyle")).css({width: "77%"})
            }
        }
        if ($(Fai.top.$("#module" + a + "").find(".address-resize")).length > 0) {
            $(Fai.top.$("#module" + a + "").find(".address-resize")).find(".three-resize").css({
                width: "94%",
                "margin-bottom": "10px"
            });
            $(Fai.top.$("#module" + a + "").find(".address-resize")).find(".three-resize").last().css({"margin-bottom": ""});
            var c = $(Fai.top.$("#module" + a + "").find(".address-resize").find("select").first()).width();
            $(Fai.top.$("#module" + a + "").find(".address-resize").parent().find(".star")).css({
                position: "absolute",
                left: c + 25 + "px"
            })
        }
        if ($(Fai.top.$("#module" + a + "").find(".phone-resize")).length > 0) {
            $(Fai.top.$("#module" + a + "").find(".phone-resize")).find(".two-resize").first().css({
                width: "94%",
                "margin-bottom": "10px"
            });
            $(Fai.top.$("#module" + a + "").find(".phone-resize")).find(".two-resize").last().css({
                width: "93%",
                "margin-bottom": ""
            });
            var c = $(Fai.top.$("#module" + a + "").find(".phone-resize").find("select")).width();
            $(Fai.top.$("#module" + a + "").find(".phone-resize").parent().find(".star")).css({
                position: "absolute",
                left: c + 25 + "px"
            })
        }
    }
    if (Fai.top.$("#module" + a + "").find(".siteFormAddButton").find("#buttonStyle").find(".middle").width() > 241) {
        Fai.top.$("#module" + a + "").find(".siteFormAddButton").find("#buttonStyle").find(".middle").css({width: "240px"})
    }
    $(Fai.top.$(".siteFormItem_N_U").find("select")).each(function () {
        if ($(this).attr("id").indexOf("siteFormSelectPhoneCT") == -1) {
            $($(this).find("option")[0]).hide()
        }
    });
    if ($(Fai.top.$("#module" + a + "").find(".siteFormItem_N_U").find(".siteFormItemCheckItem_N_U_F")).length > 0) {
        var h = Fai.top.$("#module" + a + "").find(".siteFormItemCheckItem_N_U_F").width();
        var g = (h / b - 10) + "px";
        var e = ((h / b - 54) <= 36) ? 36 : (h / b - 54) + "px";
        Fai.top.$("#module" + a + "").find(".siteFormRadioFix").css({width: g});
        Fai.top.$("#module" + a + "").find(".siteFormRadioCententFix").css({width: e})
    }
    if (i && i.length > 0) {
        $(Fai.top.$("#module" + a + "").find(".siteFormItem_N_U").find(".resize")).each(function () {
            var k = $(this).attr("_id");
            var l = $(this).attr("_show");
            for (var j = 0; j < i.length; j++) {
                if (i[j].wo != l) {
                    break
                }
                if (i[j].i == k) {
                    $(this).css({width: i[j].w * 100 + "%"});
                    $(this).attr("_width", i[j].w)
                }
            }
        })
    }
};
Site.siteFormInputResize = function (d, c) {
    var a = Fai.top.$("#module" + c + "").find(".siteFormItem_N_U").find(".resize");
    var b = false;
    if (a.length < 1) {
        return
    }
    if (Fai.top.$("#module" + c + "").width() <= 400) {
        b = true
    }
    a.each(function () {
        var n = $(this), g = Fai.isIE8() ? $(document) : $(window), o = $("#g_main"), l, h, m, f = $(this), j, i = {};
        if (n.hasClass("resize")) {
            if (n.is("textarea")) {
                n.before("<div class='u-inputResize-w' style='height:100px;' title='可拖动调节宽度'><div style='position:absolute;width:3px;height:100px;border-left:1px dashed #2b73ba;'></div></div>");
                n.after("<div class='u-inputResize-e' style='height:100px;' title='可拖动调节宽度'><div style='position:absolute;width:3px;height:100px;border-left:1px dashed #2b73ba;'></div></div>")
            } else {
                n.before("<div class='u-inputResize-w' title='可拖动调节宽度'><div style='position:absolute;width:3px;height:34px;border-left:1px dashed #2b73ba;'></div></div>");
                n.after("<div class='u-inputResize-e' title='可拖动调节宽度'><div style='position:absolute;width:3px;height:34px;border-left:1px dashed #2b73ba;'></div></div>")
            }
        }
        l = $(n).prev();
        h = $(n).next();
        if (!l.hasClass("u-inputResize-w") || !h.hasClass("u-inputResize-e")) {
            return
        }
        l.off("mousedown.fi").on("mousedown.fi", e);
        h.off("mousedown.fi").on("mousedown.fi", e);

        function e(q) {
            q = q || window.event;
            i.x = q.pageX;
            g.css("cursor", "n-resize!important");
            if ($(this).hasClass("u-inputResize-w")) {
                i.dir = "w";
                i.ptb = parseInt(f.css("width"))
            } else {
                if ($(this).hasClass("u-inputResize-e")) {
                    i.dir = "e";
                    i.ptb = parseInt(f.css("width"))
                }
            }
            i.elem = $(this);
            $(this).addClass("u-inputResize-show");
            i.ieFirstChange = $("#saveButton").hasClass("buttonDisabled");
            j = $("#dockTip").show().css({left: "-1000px;", top: "-1000px"});
            g.off("mousemove.fi").on("mousemove.fi", k);
            g.off("mouseup.fi").on("mouseup.fi", p);
            q.preventDefault()
        }

        function k(t) {
            t = t || window.event;
            var u = {x: t.pageX}, r, w, q = n.parent().width() * 0.3, s = n.parent().width() * 0.93, v = "";
            if (n.hasClass("phone-resize") || n.hasClass("address-resize") || n.hasClass("date-resize")) {
                s = n.parent().width()
            }
            if (i.dir == "w") {
                r = i.x - u.x;
                w = i.ptb + r;
                w = w > q ? w : q;
                w = w > s ? s : w;
                w = Math.round(w);
                v = "宽度:"
            } else {
                if (i.dir == "e") {
                    r = u.x - i.x;
                    w = i.ptb + r;
                    w = w > q ? w : q;
                    w = w > s ? s : w;
                    w = Math.round(w);
                    v = "宽度:"
                }
            }
            n.css({width: w + "px"});
            j.html(v + w).css({left: t.pageX - 28, top: t.pageY - 40});
            Site.siteFormInputResizeLine(n, d, c);
            t.preventDefault()
        }

        function p(s) {
            s = s || window.event;
            i.dir = "";
            g.css("cursor", "");
            g.off("mousemove.fi");
            g.off("mouseup.fi");
            j.hide();
            i.elem.removeClass("u-inputResize-show");
            Fai.top.$("body").find(".inputResizeLine").hide();
            var r = n.width() / (n.parent().width() - 2);
            n.attr("_width", Math.round(r * 1000) / 1000);
            var q = Site.getModuleAttr(c);
            q.data.changed = true;
            Site.styleChanged();
            i = {};
            s.preventDefault()
        }
    })
};
Site.siteFormInputResizeLine = function (d, h, b) {
    var j = Fai.top.$("#module" + b + "").find(".siteFormItem_N_U").find(".resize"), m = j.length,
        k = $(j[0]).offset().top - 15 + "px", c = d.offset().left + d.width() + "px",
        l = ($(j[m - 1]).offset().top - $(j[0]).offset().top + 60) + "px", a = false;
    if (Fai.isIE) {
        if (Fai.isIE6() || Fai.isIE7() || Fai.isIE8()) {
            a = true
        }
    }
    if (a) {
        var g = [];
        for (var e = 0; e < j.length; e++) {
            if (!$(d).is(j[e])) {
                g.push(j[e])
            }
        }
        $(g).each(function () {
            var i = d.width();
            var o = $(this).width();
            if (d.hasClass("phone-resize") || d.hasClass("address-resize") || d.hasClass("date-resize")) {
                i = i * 0.93
            }
            if ($(this).hasClass("phone-resize") || $(this).hasClass("address-resize") || $(this).hasClass("date-resize")) {
                o = o * 0.93
            }
            var n = $(this).offset().left + o + "px";
            if (Math.abs(i - o) < 3) {
                if (!Fai.top.$("body").find(".inputResizeLine").is("div")) {
                    Fai.top.$("body").append("<div class='inputResizeLine' style='display:none;height:" + l + ";width:1px;position:absolute;left:" + n + ";top:" + k + ";border-right:1px solid #2b73ba;'></div>")
                } else {
                    Fai.top.$("body").find(".inputResizeLine").css({left: n, top: k, height: l})
                }
                Fai.top.$("body").find(".inputResizeLine").show();
                return false
            } else {
                Fai.top.$("body").find(".inputResizeLine").hide()
            }
        })
    } else {
        function f(i) {
            return !$(i).is(d)
        }

        $($.makeArray(j).filter(f)).each(function () {
            var i = d.width();
            var o = $(this).width();
            if (d.hasClass("phone-resize") || d.hasClass("address-resize") || d.hasClass("date-resize")) {
                i = i * 0.93
            }
            if ($(this).hasClass("phone-resize") || $(this).hasClass("address-resize") || $(this).hasClass("date-resize")) {
                o = o * 0.93
            }
            var n = $(this).offset().left + o + "px";
            if (Math.abs(i - o) < 3) {
                if (!Fai.top.$("body").find(".inputResizeLine").is("div")) {
                    Fai.top.$("body").append("<div class='inputResizeLine' style='display:none;height:" + l + ";width:1px;position:absolute;left:" + n + ";top:" + k + ";border-right:1px solid #2b73ba;'></div>")
                } else {
                    Fai.top.$("body").find(".inputResizeLine").css({left: n, top: k, height: l})
                }
                Fai.top.$("body").find(".inputResizeLine").show();
                return false
            } else {
                Fai.top.$("body").find(".inputResizeLine").hide()
            }
        })
    }
};
Site.siteFormAddressInit = function (i, c, b, f, j) {
    var g = [];
    var h;
    var d;
    var a;
    var e;
    if (f == 2052 || f == 1028) {
        h = site_cityUtil.getProvince()
    } else {
        h = site_cityUtil.getProvinceEn()
    }
    $.each(h, function (k, l) {
        if (f == 2052 || f == 1028) {
            g.push("<option _val='" + l.name + "' value='" + l.id + "'>" + site_cityUtil.simpleCityNameStr(l.name) + "</option>")
        } else {
            g.push("<option _val='" + l.name + "' value='" + l.id + "'>" + site_cityUtil.simpleCityNameStrEn(l.name) + "</option>")
        }
    });
    $("#M" + b + "F" + c + "siteFormSelectProvince" + i + "").html("").html("<option _val='-1' value='-1'>" + j + "</option>" + g.join("")).change(function (k) {
        d = $("#M" + b + "F" + c + "siteFormSelectProvince" + i + "").val();
        if (isNaN(d) || d <= 0) {
            $("#M" + b + "F" + c + "siteFormSelectCity" + i + "").html("").html("<option value='-1'>" + j + "</option>");
            $("#M" + b + "F" + c + "siteFormSelectCounty" + i + "").html("").html("<option value='-1'>" + j + "</option>")
        }
        a = [];
        if (f == 2052 || f == 1028) {
            citylist = site_cityUtil.getCities(d)
        } else {
            citylist = site_cityUtil.getCitiesEn(d)
        }
        $.each(citylist, function (l, m) {
            a.push("<option _val='" + m.name + "' value='" + m.id + "' >" + m.name + "</option>")
        });
        $("#M" + b + "F" + c + "siteFormSelectCity" + i + "").removeAttr("disabled");
        $("#M" + b + "F" + c + "siteFormSelectCity" + i + "").html("").html("<option _val='-1' value='-1'>" + j + "</option>" + a.join("")).unbind().bind("change", function (l) {
            cityId = $("#M" + b + "F" + c + "siteFormSelectCity" + i + "").val();
            if (isNaN(cityId) || cityId <= 0) {
                $("#M" + b + "F" + c + "siteFormSelectCounty" + i + "").html("").html("<option _val='-1' value='-1'>" + j + "</option>")
            }
            e = [];
            if (f == 2052 || f == 1028) {
                countylist = site_cityUtil.getCounty(cityId)
            } else {
                countylist = site_cityUtil.getCountyEn(cityId)
            }
            $.each(countylist, function (m, n) {
                e.push("<option _val='" + n.name + "' value='" + n.id + "' >" + n.name + "</option>")
            });
            $("#M" + b + "F" + c + "siteFormSelectCounty" + i + "").removeAttr("disabled");
            $("#M" + b + "F" + c + "siteFormSelectCounty" + i + "").html("").html("<option _val='-1' value='-1'>" + j + "</option>" + e.join("")).unbind().bind("change", function (m) {
            });
            if ($("#M" + b + "F" + c + "siteFormSelectCounty" + i + "").find("option").length <= 1 && cityId != -1) {
                $("#M" + b + "F" + c + "siteFormSelectCounty" + i + "").hide()
            } else {
                $("#M" + b + "F" + c + "siteFormSelectCounty" + i + "").show()
            }
        })
    })
};
Site.siteFormPhoneValidate = function (d, c, a) {
    var b = $("#M" + c + "F" + d + "siteFormPhoneInput" + a);
    b.blur(function () {
        var e = $(this).val().trim();
        if (!e) {
            $(this).val("");
            return
        }
    });
    b.focus(function () {
        $(this).off("mousewheel.disabledScroll").on("mousewheel.disabledScroll", function (e) {
            e.preventDefault()
        });
        $(this).off("keydown.preventDefault").on("keydown.preventDefault", function (e) {
            if (e.keyCode == 38 || e.keyCode == 40) {
                e.preventDefault()
            }
            if (e.keyCode == 13) {
                $(this).trigger("blur")
            }
        })
    })
};
Site.addFlashModuleFlash = function (a) {
    var c = "Opaque";
    if (a.transparent != 1) {
        c = "transparent"
    }
    var b = ['<embed id="' + a.moduleId + '" width="' + a.width + '" height="' + a.height + '" allowscriptaccess="' + a.allowScriptAccess + '" style="visibility: visible;" pluginspage="http://get.adobe.com/cn/flashplayer/" flashvars="playMovie=true&amp;auto=1" allowfullscreen="true" quality="hight" src="' + a.path + '" type="application/x-shockwave-flash" wmode="' + c + '"></embed>'];
    $("#flashModuleFlash" + a.moduleId).append(b.join(""))
};
Site.noticeMarquee = function (f, x) {
    var w = {direction: "up", speed: "normal", loop: "infinite", moveout: false, isScrolling: false};
    $.extend(w, f);
    if (w.speed == "normal") {
        $.extend(w, {speed: 28})
    } else {
        if (w.speed == "slow") {
            $.extend(w, {speed: 60})
        } else {
            $.extend(w, {speed: 13})
        }
    }
    $("#noticeMarquee" + w.id).data("options", f);
    var m = w.id, u = $("#noticeMarquee" + m), h = u.outerHeight(true), g = u.outerWidth(true),
        p = u.children().width(), c = $("#noticeContainer" + m), d = c.outerWidth(), l = (p > d) ? p : d;
    if (x != null) {
        var k = $("#noticeMarquee" + x).width();
        k = k ? k : 0;
        g = k;
        l = (g > d) ? g : d;
        Fai.stopInterval("rm" + x);
        $("#noticeMarqueeCopy" + x).remove();
        $(u).appendTo($("#noticeContainer" + x));
        $("#noticeMarqueeNewParent" + x).remove()
    }
    var B = w.direction, z = 0, j = "left", r = w.speed, A = (w.loop != "infinite" || w.loop <= 0) ? 1 : w.loop,
        n = w.moveout, C = w.isScrolling, v = w.noticeType, y = 20,
        t = $("<div id='noticeMarqueeCopy" + m + "' class='noticeMarquee' style='overflow:hidden;width:" + l + "px;' ></div>");
    var i = "<div id='noticeMarqueeNewParent" + m + "' style='position:relative;overflow:hidden;width:" + l * 2 + ";";
    if (v != 4) {
        i += "left:23px;'></div>"
    } else {
        i += "'></div>"
    }
    var o = $(i);

    function q() {
        o.appendTo(u.parent());
        u.appendTo(o);
        t.appendTo(o);
        if (!C && !n) {
        } else {
            $(u.html()).appendTo(t)
        }
        if (B == "left") {
            z = h;
            j = "left"
        } else {
            z = 0 - l;
            if (C && !n) {
                z = 0
            }
            if (C && n) {
                z = -l
            }
            j = "left"
        }
        if (n) {
            u.css(j, 0)
        } else {
            u.css(j, z)
        }
        if (B == "left" || B == "right") {
            u.css("top", 0)
        }
        $("#module" + m + " .noticeContainer").mouseover(function () {
            Fai.stopInterval("rm" + m)
        }).mouseout(function () {
            if (A == "infinite" || A > 0) {
                Fai.startInterval("rm" + m)
            }
        });
        e();
        a(B)
    }

    function b() {
        var D = u.find("img");
        if (D.length > 0) {
            var F = D[0].width;
            for (var E = 0; E < D.length; E++) {
                if (F < D[E].width) {
                    F = D[E].width
                }
            }
            return F
        }
        return 0
    }

    function e() {
        var D = u.find("img");
        $(D).load(function () {
            var E = u.height();
            if (h != E) {
                h = E;
                a(B)
            }
        })
    }

    function a(D) {
        if (D == "left" || D == "right") {
            o.css("position", "relative");
            o.css("width", l);
            t.css("top", 0);
            if (D == "left") {
                t.css("margin-left", y);
                if (C && !n) {
                    u.css("left", l);
                    t.css("left", l * 2)
                }
                if (C && n) {
                    t.css("left", l + 50)
                }
                if (!C && !n) {
                    u.css("left", g);
                    t.css("left", l + g)
                }
                if (!C && n) {
                    t.css("left", l + g)
                }
            } else {
                t.css("left", 0);
                u.css("margin-left", y);
                u.css("width", (l) + "px");
                if (C && !n) {
                    u.css("padding-left", l);
                    u.css("padding-right", l);
                    o.scrollLeft(l * 2 + y)
                }
                if (C && n) {
                    u.css("padding-left", l);
                    o.scrollLeft(l * 2)
                }
                if (!C && !n) {
                    u.css("padding-right", l + g);
                    u.css("padding-left", l + g);
                    o.scrollLeft(l + g + y)
                }
                if (!C && n) {
                    u.css("padding-right", l + g);
                    u.css("padding-left", l + g);
                    o.scrollLeft(l + g + y)
                }
            }
        }
    }

    function s() {
        if (B == "left") {
            var D = o.scrollLeft();
            D++;
            if (C && !n) {
                if (D == l * 2 + y) {
                    o.scrollLeft(l)
                } else {
                    o.scrollLeft(D)
                }
            }
            if (C && n) {
                if (D == l + 50 + y) {
                    o.scrollLeft(0)
                } else {
                    o.scrollLeft(D)
                }
            }
            if (!C && !n) {
                if (D == (l + g) + y) {
                    o.scrollLeft(0)
                } else {
                    o.scrollLeft(D)
                }
            }
            if (!C && n) {
                if (D == l + g + y) {
                    o.scrollLeft(0)
                } else {
                    o.scrollLeft(D)
                }
            }
        } else {
            if (B == "right") {
                var D = o.scrollLeft();
                D--;
                if (C && !n) {
                    if (D == -1) {
                        o.scrollLeft(l + y)
                    } else {
                        o.scrollLeft(D)
                    }
                }
                if (C && n) {
                    if (D == -1) {
                        o.scrollLeft(l + y)
                    } else {
                        o.scrollLeft(D)
                    }
                }
                if (!C && !n) {
                    if (D == -1) {
                        o.scrollLeft(l + g + y)
                    } else {
                        o.scrollLeft(D)
                    }
                }
                if (!C && n) {
                    if (D == -1) {
                        o.scrollLeft(l + g + y)
                    } else {
                        o.scrollLeft(D)
                    }
                }
            }
        }
    }

    if (f != null) {
        q();
        Fai.addInterval("rm" + m, s, r);
        Fai.startInterval("rm" + m)
    }
};
Site.saveNoticeMarqueeProps = function (a) {
    if (a != null) {
        $("#noticeMarquee" + a.id).data("options", a)
    }
    $("#module" + a.id).on("Fai_onModuleSizeChange", function () {
        Site.noticeMarquee($("#noticeMarquee" + a.id).data("options"), a.id)
    });
    $("#module" + a.id).on("Fai_onModulePositionChange", function () {
        Site.noticeMarquee($("#noticeMarquee" + a.id).data("options"), a.id)
    })
};
Site.revertIcon = function (d) {
    var c = $("#module" + d);
    var b = false;
    var a = c.find(".noticeContainer").height();
    if (c.find(".noticeFontIcon").length != 0) {
        b = true
    }
    if (b) {
        c.find(".noticeFontIcon").css("line-height", a + "px")
    } else {
        c.find(".noticeImg").css("margin-top", (a - 21) / 2 + "px")
    }
};
Site.noticeMarqueeUpDown = function (c) {
    var b = {direction: "top", speed: "normal", stopTime: 1000};
    $.extend(b, c);
    if ("fast" === b.speed) {
        $.extend(b, {speed: 500})
    } else {
        if ("slow" === b.speed) {
            $.extend(b, {speed: 1100})
        } else {
            $.extend(b, {speed: 850})
        }
    }
    var g = $("#noticeScrollbar" + b.id + " li");
    if (g.length == 1) {
        var f = $(g.get(0));
        var a = "<li class='scrollbarLi'>" + f.html() + "</li>";
        $(a).insertAfter(f)
    }
    $("#noticeScrollbar" + b.id).marquee({
        yScroll: b.direction,
        showSpeed: b.speed,
        pauseSpeed: b.stopTime,
        hoverChange: false
    });
    var e = $("#module" + b.id + " .formMiddleContent");
    e.css("overflow", "hidden");
    e.css("width", "98%");
    var d = $("#module" + b.id + " .formMiddleCenter");
    d.css("overflow", "hidden")
};
Site.noticeUpDownSizeChange = function (d) {
    var b = $("#noticeMarquee" + d), a = b.height(), c = b.children().children();
    $.each(c, function (e, f) {
        $(f).css("top", -(a + 2) + "px")
    });
    $("#noticeScrollbar" + d).removeData("_innerHeight")
};
Site.setSerTextOverflow = function (d) {
    var c = $("#serOnline-container" + d);
    var e = c.find(".serOnline-service").children(".serOnline-list-h");
    var a = c.find(".serOnline-contact").children(".serOnline-list-h");
    var b = c.outerWidth(), f = c.outerHeight();
    Site.setSerListCSS(e, b);
    Site.setSerListCSS(a, b)
};
Site.setSerListCSS = function (a, d) {
    var c, f, e, b;
    $.each(a, function (h, g) {
        c = $(g).outerWidth();
        if (c > d - 3) {
            if (f != null && f < d - 3) {
                $('<div style="clear:both;"></div>').insertAfter($(g).prev())
            }
            b = $(g).outerWidth();
            $(g).css("white-space", "normal");
            $(g).css("word-break", "break-all");
            e = true
        }
        f = e ? b : $(g).outerWidth();
        e = false
    })
};
Site.initCustomIframe = function (d) {
    var g = Fai.top.$("#iframe" + d);
    var b = g.attr("width");
    var c = g.attr("height");
    var a = g.attr("src");
    var e = "<iframe id='iframe" + d + "' frameborder='0' height='" + c + "' width='" + b + "'></iframe>";
    var f = $(e);
    g.replaceWith(f);
    f.attr("src", g.attr("src"))
};
Site.initModuleWeiboShow = function (b, e, a, d) {
    var h = Fai.top.$("#wbShowFrame" + e);
    var g = h.attr("width");
    var f = h.attr("height");
    var i = "<iframe id='wbShowFrame" + e + "' name='wbShowFrame' frameborder='0' scrolling='no' height='" + f + "' width='" + g + "' src='about:blank'></iframe>";
    h.replaceWith(i);
    var c = Fai.top.$("#wbShowFrame" + e).parent().width();
    var j = a + c + "&ran=" + Math.random();
    Site.initIframeLoading(b, e, j, d);
    $("#refreshChlid" + e).css("padding-top", "40%")
};
Site.initLocaler = function (b, a) {
    if (typeof Fai.top._localerJsonTmp == "undefined") {
        Fai.top._localerJsonTmp = b
    }
    if (a) {
        Site.initLocalerManage(b)
    } else {
        Site.initLocalerSite()
    }
    Site.checkLocalerItemWidthForIE();
    Site.bindLocalerItemEvent()
};
Site.initLocaleStyle = function (b) {
    var a = $("#webTop").width();
    if (b > a) {
        $("#localer").css("left", "auto");
        $("#localer").css("right", a - b - $("#localer").width() + "px")
    } else {
        $("#localer").css("left", b);
        $("#localer").css("right", "auto")
    }
};
Site.initLocalerSite = function () {
    $("#localer").bind("mouseenter", function () {
        Site.openLocalerList()
    }).bind("mouseleave", function () {
        Site.closeLocalerList(this)
    })
};
Site.openLocalerList = function () {
    var b = parseInt($("#localer").attr("_moduleStyle"));
    if (b >= 1 && b <= 3) {
        return
    }
    var a = $("#localer").find(".J_localerList").height();
    if (Fai.isIE()) {
        $("#localer").find(".J_localerPanel").stop().animate({height: a}, {duration: 200})
    } else {
        $("#localer").find(".J_localerPanel").css("height", a + "px")
    }
    $("#localer").find(".J_localerPanel .J_localerList .first .arrow").addClass("arrow_hover")
};
Site.closeLocalerList = function (c) {
    var b = parseInt($("#localer").attr("_moduleStyle"));
    if (b >= 1 && b <= 3) {
        return
    }
    var a = $("#localer").find(".J_localerPanel .J_localerList .first").height();
    if (Fai.isIE()) {
        $("#localer").find(".J_localerPanel").stop().animate({height: a}, {duration: 200})
    } else {
        $("#localer").find(".J_localerPanel").css("height", a + "px")
    }
    $("#localer").find(".J_localerPanel .J_localerList .first .arrow").removeClass("arrow_hover")
};
Site.bindLocalerItemEvent = function () {
    $("#localer").find(".J_localerPanel .J_localerList .localerItemContent").bind("mouseenter", function () {
        if ($(this).hasClass("first")) {
            return
        }
        $(this).addClass("localerItemContent_hover")
    }).bind("mouseleave", function () {
        if ($(this).hasClass("first")) {
            return
        }
        $(this).removeClass("localerItemContent_hover")
    })
};
Site.checkLocalerItemWidthForIE = function () {
    Fai.top.$("#localer").find(".localerItemContent").removeAttr("style");
    var b = parseInt(Fai.top.$("#localer").attr("_moduleStyle"));
    if ((Fai.isIE6() || Fai.isIE7()) && (b >= 4 && b <= 9)) {
        var c = Fai.top.$("#localer").find(".J_localerPanel").width();
        Fai.top.$("#localer").find(".localerItemContent").css("width", c + "px")
    }
    if ((Fai.isIE6()) && (b >= 1 && b <= 3)) {
        var a = Fai.top.$("#localer").find(".J_localerPanel").height();
        Fai.top.$("#localer").find(".J_localerPanel").css("line-height", a + "px")
    }
};
Site.initFloatImg = function (a) {
    Site.hoverChangeImage()
};
Site.floatImgInContainerForms = function (a) {
    if (!$("#webContainerTable").length) {
        return false
    }
    if ($("#webContainerTable").find("#module" + a).length) {
        if (!(Site.checkNestModule($("#module" + a)).parentId > 0)) {
            return true
        } else {
            return false
        }
    } else {
        return false
    }
};
Site.picShape = function (a, k, l) {
    var b = $("#module" + a), f = b.find(".floatImgWrap"), j = b.find(".floatImgWrap").find("img"),
        e = b.find(".floatImg_J"), i = b.find(".forMargin"), c = k.borderRadius, m = k.imgShapeType,
        q = b.find(".floatImg"), p = b.find(".formWrap"), o = j.height(), n = j.width(), d = 0;
    if (l.effType) {
        var g = l.effType, h = q.find(".imageEffects");
        borderWidth = parseInt(h.css("borderWidth"))
    }
    i.css({width: "initial", height: "initial"});
    if (o > n) {
        d = n
    } else {
        d = o
    }
    if (m == 2 || m == 4) {
        b.find(".forStyle").css("borderRadius", "0");
        q.css({"text-align": "center", overflow: "visible"});
        if (d != 0) {
            f.css({width: d + "px", height: d + "px", overflow: "hidden", display: "inline-block"})
        }
        b.css({overflow: "hidden"});
        if (o > n) {
            f.css("marginTop", (o - n) / 2 + "px");
            i.css("marginTop", -(o - n) / 2 + "px");
            if (g) {
                if (g == 2) {
                    h.css({
                        height: d + "px",
                        width: (d - 2 * borderWidth) + "px",
                        marginTop: ((o - n) / 2 - borderWidth) + "px"
                    })
                }
            }
        }
        if (n > o) {
            i.css("marginLeft", -(n - o) / 2 + "px");
            if (g) {
                if (g == 2) {
                    h.css({width: d + "px"});
                    h.css("marginLeft", (n - o) / 2 + "px")
                }
            }
        }
        if (m == 4) {
            f.addClass("picShape");
            h.addClass("picShape")
        } else {
            f.removeClass("picShape");
            h.removeClass("picShape");
            b.find(".forMargin").css("borderRadius", "0")
        }
    } else {
        if (m == 1 || m == 3) {
            i.css("marginLeft", "0");
            i.css("marginTop", "0");
            f.css("marginTop", "0");
            j.css("marginTop", "0");
            j.css("marginLeft", "0");
            if (m == 1) {
                b.find(".forMargin").css("borderRadius", "0")
            }
            f.removeClass("picShape");
            h.removeClass("picShape");
            f.css({width: "initial", height: "initial"});
            if (f.width() != 0 && f.height() != 0) {
                h.css({width: f.width() - 2 + "px", height: f.height() - 2 + "px", marginTop: "0", marginLeft: "0"})
            }
            if (m == 3) {
                b.find(".forMargin").css({
                    height: o + "px",
                    width: n + "px",
                    borderRadius: c + "px",
                    overflow: "hidden"
                })
            }
        }
    }
};
Site.bindImageEffectCusEvent_floatImg = function (g, c) {
    var f = Fai.top.$(g).find(".imageEffects"), a = true, e = Fai.top.$(g).find("a"), d = $(e).attr("href"),
        b = (typeof d == "undefined" || d.length == 0 || d.indexOf("javascirpt") > 0 || d.indexOf("return") > 0 || e.length == 0) ? false : true;
    if (!b) {
        a = false
    }
    if (a) {
        $(f).css("cursor", "pointer")
    } else {
        $(f).css("cursor", "default")
    }
    $(f).off("click.imgEft").on("click.imgEft", function () {
        var l = $(this).parents("." + c.targetParent).find("a");
        if (Fai.isNull(l)) {
            return
        }
        var i = $(l).attr("href"), h = $(l).attr("onclick"), j = $(l).attr("target");
        if (typeof j == "undefined") {
            j = "_self"
        }
        var k = (typeof i == "undefined" || i.length == 0 || i.indexOf("javascirpt") > 0 || i.indexOf("return") > 0 || e.length == 0) ? false : true;
        if (typeof h != "undefined") {
            $(l).click()
        } else {
            if (k) {
                window.open(i, j)
            }
        }
    })
};
Site.mallCoupon = function (a) {
    this.moduleId = a;
    this.module = Fai.top.$("#module" + a);
    this.couponList = this.module.find("#couponList" + a)
};
(function (c, a, b) {
    var d = a.prototype, h = {};
    d.init = function (k) {
        h["moduleId" + k] = this;
        i(k);
        if (window.localStorage) {
            var l = window.localStorage.getItem("receTime");
            if (l && Fai.top._TOKEN) {
                if (new Date().getTime() - Number(l) > 120000) {
                    localStorage.removeItem("receTime");
                    return
                }
                var j = window.localStorage.getItem("cpId");
                c("div.receiveCoupon[coupon_id=" + j + "]").click();
                window.localStorage.removeItem("receTime");
                window.localStorage.removeItem("cpId")
            }
        }
    };

    function i(j) {
        h["moduleId" + j].module.on("click", ".receiveCoupon", function () {
            if (_manageMode) {
                if (!Fai.top._couponOpen) {
                    return
                }
                var l = {};
                l.height = 75;
                l.width = 280;
                l.htmlContent = '<div class="resultFailIcon addItemTextTips" style="font-size:14px; color:#636363 ;margin-left: 39px; padding-left: 35px;">';
                l.htmlContent += "当前为管理状态，领取失败</div>";
                l.autoClose = 2000;
                var k = Site.popupBox(l)
            } else {
                var m = c(this).attr("coupon_id");
                var n = c(this).attr("bg_id");
                f(m, n)
            }
        })
    }

    function f(j, k) {
        c.ajax({
            url: "ajax/mallCoupon_h.jsp?cmd=receiveCoupon",
            data: "bgId=" + k + "&cid=" + j + "&t=" + new Date().getTime(),
            dataType: "json",
            success: function (m) {
                var p = {};
                if (m.success) {
                    var o = m.coupon;
                    p.height = 229;
                    p.width = 379;
                    var q = [];
                    q.push('<div class="coupon-popup-box">');
                    q.push('<div class="coupon-receive-success">');
                    q.push(LS.CongratulatSuccess);
                    q.push("</div>");
                    q.push('<div class="coupon-line">');
                    q.push(LS.coupon + LS.name + "：" + Fai.encodeHtml(o.couponName));
                    q.push("</div>");
                    q.push('<div class="coupon-line">');
                    q.push(LS.denomination + '：<span class="savePrice">' + o.savePrice + "</span>");
                    q.push("</div>");
                    q.push('<div class="coupon-line">');
                    q.push(LS.useConditionOrderOver + Fai.top.choiceCurrencyVal + o.orderMinPrice);
                    q.push("</div>");
                    q.push('<div class="coupon-line">');
                    q.push(LS.vilidaty + "：" + o.validity);
                    q.push("</div>");
                    q.push('<div class="coupon-opera">');
                    q.push('<div class="goto-coupon-btn">');
                    q.push(LS.view + LS.coupon);
                    q.push("</div>");
                    q.push('<div class="back-page">');
                    q.push(LS.returnPage);
                    q.push("</div>");
                    q.push("</div>");
                    q.push("</div>");
                    p.htmlContent = q.join("");
                    p.reload = true;
                    var l = Site.popupBox(p);
                    g(l, m.success);
                    e(l)
                } else {
                    var n = m.rt;
                    if (n == -23) {
                        if (window.localStorage) {
                            var r = window.localStorage.getItem("receTime");
                            if (r) {
                                window.localStorage.removeItem("receTime");
                                window.localStorage.removeItem("cpId")
                            }
                            localStorage.setItem("cpId", j);
                            localStorage.setItem("receTime", new Date().getTime())
                        }
                        document.location.href = "login.jsp?url=" + document.location.href
                    } else {
                        if (n == -4) {
                            p.height = 155;
                            p.width = 312;
                            var q = [];
                            q.push('<div class="coupon-popup-box">');
                            q.push('<div class="coupon-receive-fail">');
                            q.push(LS.receiveFail);
                            q.push("</div>");
                            q.push('<div class="coupon-msg">');
                            q.push(LS.receiveOverLimit);
                            q.push("</div>");
                            q.push('<div style="white-space: nowrap;">');
                            q.push('<div class="goto-coupon-btn">');
                            q.push(LS.view + LS.coupon);
                            q.push("</div>");
                            q.push('<div class="back-page">');
                            q.push(LS.returnPage);
                            q.push("</div>");
                            q.push("</div>");
                            q.push("</div>");
                            p.htmlContent = q.join("");
                            var l = Site.popupBox(p);
                            l.css("width", "");
                            l.find(".popupCnBg").css("width", "");
                            g(l);
                            e(l)
                        } else {
                            p.height = 110;
                            p.width = 270;
                            var q = [];
                            q.push('<div class="coupon-popup-box">');
                            q.push('<div class="coupon-receive-fail">');
                            q.push(LS.receiveFail);
                            q.push("</div>");
                            q.push('<div class="coupon-msg">');
                            if (m.msg == "receiveOverLimit") {
                                q.push(LS.receiveOverLimit)
                            } else {
                                if (m.msg == "couponCountZero") {
                                    q.push(LS.couponCountZero)
                                } else {
                                    if (m.msg == "couponExpired") {
                                        p.height = 110;
                                        p.width = 210;
                                        q.push(LS.couponExpired)
                                    }
                                }
                            }
                            q.push("</div>");
                            q.push("</div>");
                            p.htmlContent = q.join("");
                            var l = Site.popupBox(p);
                            l.css("width", "");
                            l.find(".popupCnBg").css("width", "")
                        }
                    }
                }
            },
            error: function () {
                Fai.ing(LS.systemError, true)
            }
        })
    }

    function g(k, j) {
        k.find(".back-page").on("click", function () {
            k.find(".popupBClose").click();
            if (j) {
                location.reload(true)
            }
        })
    }

    function e(j) {
        j.find(".goto-coupon-btn").on("click", function () {
            document.location.href = "mCenter.jsp?item=memberCoupon"
        })
    }

    d.showPage = function () {
        return function (k, j) {
            c.ajax({
                url: "../ajax/mallCoupon_h.jsp?cmd=getPageData",
                data: "moduleId=" + k + "&pageNo=" + j,
                dataType: "json",
                success: function (l) {
                    if (l.success) {
                        var m = [];
                        c.each(l.list, function (o, n) {
                            if (n.id == 0) {
                                return false
                            }
                            m.push("<div class='coupon' id='coupon" + n.id + "' couponId='" + n.id + "' couponName='" + Fai.encodeHtml(n.couponName) + "'>");
                            m.push("<div class='couponWatermark '>券</div>");
                            if (n.state) {
                                m.push("<div class='coupon-left coupon-" + l.bg + "-left'></div>");
                                m.push("<div class='coupon-content coupon-color-" + l.bg + "'>")
                            } else {
                                m.push("<div class='coupon-left coupon-invalid-left'></div>");
                                m.push("<div class='coupon-content coupon-color-invalid'>")
                            }
                            m.push("<div class='couponSavePrice'><span class='priceSign'>" + Fai.top.choiceCurrencyVal + "</span><span class='couponPrice'>" + n.savePrice + "</span></div>");
                            if (n.state) {
                                m.push("<div class='couponUseCondition'><span>" + LS.full + n.orderMinPrice + LS.money + "</span><br><span>" + LS.canUse + "</span><br><span class='coupon-name coupon-name-" + l.bg + "'>" + Fai.encodeHtml(n.couponName) + "</span></div>")
                            } else {
                                m.push("<div class='couponUseCondition'><span>" + LS.full + n.orderMinPrice + LS.money + "</span><br><span>" + LS.canUse + "</span><br><span class='coupon-name coupon-name-invalid'>" + Fai.encodeHtml(n.couponName) + "</span></div>")
                            }
                            var q = LS.immediatelyReceive;
                            var p = l.bg;
                            if (!n.state) {
                                q = LS.expired;
                                p = "gray"
                            } else {
                                if (n.couponLeaveAmount == 0 && !n.autoInc) {
                                    q = LS.receivedOver;
                                    p = "gray"
                                } else {
                                    if (n.currentMemberReceived) {
                                        q = LS.alreadyReceived;
                                        p = "gray"
                                    }
                                }
                            }
                            m.push("<div class='receiveCoupon font-color-" + p + "' coupon_id='" + n.id + "'>" + q + "</div>");
                            m.push("<div class='validTime'>" + LS.vilidaty + "：" + n.validity + "</div>");
                            m.push("</div>");
                            if (n.state) {
                                m.push("<div class='coupon-right coupon-" + l.bg + "-right'></div>")
                            } else {
                                m.push("<div class='coupon-right coupon-invalid-right'></div>")
                            }
                            m.push("</div>")
                        });
                        h["moduleId" + k].couponList.html(m.join(""));
                        Fai.Cookie.set("pageNo" + k, j);
                        if (_manageMode && Fai.top._couponOpen) {
                            Site.initModuleCouponListItemManage({
                                couponParent: "couponList" + k,
                                coupon: "coupon",
                                moduleId: k
                            })
                        }
                    }
                },
                error: function () {
                    Fai.ing(LS.systemError, true)
                }
            });
            if (_manageMode) {
                Site.initModuleCouponListItemManage({couponParent: "couponList" + k, coupon: "coupon", moduleId: k})
            }
        }
    }
})(jQuery, Site.mallCoupon);
Site.initMallCoupon = function (a) {
    Fai.top.mallCoupon = Fai.top.mallCoupon || {};
    Fai.top.mallCoupon["couponList" + a] = new Site.mallCoupon(a);
    Fai.top.mallCoupon["couponList" + a].init(a)
};
Site.videoCompatible = function (p) {
    var a = Fai.top.navigator.userAgent, j = /^https?.+\.(mp4)$/i, i = p.flvPagePath, d = false;
    if (j.test(i)) {
        d = true
    }
    if (!(d && /(iPhone|iPad|iPod|iOS|Android)/i.test(a))) {
        return
    }
    var b = !!(document.createElement("video").canPlayType), k = "mediaplayerObj" + p.moduleId,
        m = "mediaplayer" + p.moduleId, h = [], g = [], l, f, c, o;
    if (!b && p.mediaJsUrl.length > 0) {
        if (Fai.top.$("#jz-Html5VideoJs").length < 1) {
            var n = document.createElement("script"), e = document.head || document.body;
            n.id = "jz-Html5VideoJs";
            n.type = "text/javascript";
            n.src = p.mediaJsUrl;
            e.appendChild(n)
        }
    }
    if (p.videoType == 1) {
        k = p.moduleId;
        m = "onLineFlv" + p.moduleId
    }
    c = Fai.top.$("#" + m);
    o = Fai.top.$("#" + k);
    h.push('id="' + k + '"');
    if (p.flvImgUrl.length > 0) {
        h.push('poster="' + p.flvImgUrl + '"')
    }
    h.push('width="' + p.flvWidth + '"');
    h.push('height="' + p.flvHeight + '"');
    h.push("controls");
    l = h.join(" ");
    g.push("<video " + l + ">");
    g.push('<source src="' + i + '">');
    g.push("抱歉，你的浏览器不能查看该视频。");
    g.push("</video>");
    f = g.join("");
    if (o.length > 0) {
        o.remove();
        c.append(f)
    }
};
Site.videoNetUrlDeal = function (i) {
    var b = "";
    if (i) {
        var h = $("#onLineFlv" + i);
        $onLineVideo = h.find("#" + i);
        b = $onLineVideo.attr("src");
        try {
            if (b) {
                b = Fai.decodeHtml(b);
                b = b.replace(/&nbsp;/gi, " ").replace(/&lt;/gi, "<").replace(/&gt;/g, ">").replace(/&#92;/gi, "\\").replace(/&#39;/gi, "'").replace(/&quot;/gi, '"').replace(/\<br\/\>/gi, "\n").replace(/&amp;/gi, "&");
                var a = $(b);
                var d = a.get(0).tagName.toLowerCase();
                var k = "";
                k = a.attr("src");
                var m = k.split("/");
                var f = m[2];
                if (d == "iframe" && f.indexOf("youku.com") != -1) {
                    k = "http://player.youku.com/player.php/sid/" + m[4] + "/v.swf";
                    $onLineVideo.attr("src", k);
                    var g = $onLineVideo.prop("outerHTML");
                    $onLineVideo.remove();
                    h.append(g)
                } else {
                    if (k) {
                        k = Fai.decodeHtml(k);
                        if (d == "embed") {
                            $onLineVideo.attr("src", k);
                            var g = $onLineVideo.prop("outerHTML");
                            $onLineVideo.remove();
                            h.append(g)
                        } else {
                            if (d == "iframe") {
                                var c = $onLineVideo.width();
                                var l = $onLineVideo.height();
                                $onLineVideo.remove();
                                h.append('<iframe frameborder="0" width="' + c + '" height="' + l + '" src="' + k + '" allowfullscreen="true"></iframe>')
                            }
                        }
                    }
                }
            }
        } catch (j) {
        }
    }
};
Site.optimizeFooterAlign = function () {
    var d = $("#footerNav"), b = true, g;
    if (d.length < 1) {
        return
    }
    var a = d.find(".J_footerItemListContainer"), h = a.children(".J_footerItemSection");
    if (h.length < 1) {
        return
    }
    var f = a.children(".J_footerItemSpacing_end"), k = h.first(), i = h.last(), j = i.find(".J_footerItemContainer"),
        c, e;
    if (Fai.top._designAuth) {
        g = Site.getFooterStyleData();
        if (g.fa != 2) {
            b = false
        }
        if (g.fis == 2) {
            b = false
        }
    }
    if (k.offset().top < i.offset().top) {
        b = false
    }
    if (!b) {
        i.removeClass("fixWidth");
        return
    }
    if (Fai.top._designAuth) {
        i.removeClass("fixWidth")
    }
    e = i.width();
    c = j.width();
    Fai.top.Fai.setCtrlStyleCss("stylefooter", "webFooterTable", ".footerItemSpacing_end", "display", "none");
    if (e < c) {
        i.removeClass("fixWidth")
    } else {
        i.addClass("fixWidth");
        Fai.top.Fai.setCtrlStyleCss("stylefooter", "webFooterTable", ".footerItemListContainer .fixWidth", "width", c + "px")
    }
};
Site.changeTheLogoSize = function () {
    if ($("#footerSupport")) {
        var b = $("#footerSupport").css("font-size");
        var a = parseInt(b.substring(0, b.length - 2)) + 3;
        $("#faisco-icons-logo").css("font-size", a + "px")
    }
};
Site.initCorpTitleContent = function (c, j, a) {
    var e = $("#" + c), i = $("#corpTitle"), k, l, m, f, d, h, g, b;
    if (i.length <= 0) {
        return
    }
    if (!j) {
        a = ""
    }
    d = i.clone();
    d.html(j);
    if (c == "primaryTitle") {
        g = !!(d.find("#primaryTitle").length);
        b = !!(d.find(".newPrimaryTitle").length);
        if (!g && !b && j != "请输入网站标题") {
            l = $("<div id='primaryTitle' style='" + a + "'></div>");
            i.append(l);
            l.html(j.replace(/\s/g, "&nbsp;"))
        } else {
            i.append(j)
        }
    }
    if (c == "subTitle") {
        if (d.find("#subTitle").length <= 0) {
            f = $("<div id='subTitle' style='" + a + "'></div>");
            i.append(f);
            f.html(j.replace(/\s/g, "&nbsp;"))
        } else {
            i.append(j)
        }
    }
};
(function (c, e, h, b) {
    var d = Fai.top.$("#webContainer");
    var l = d.width();
    h.init = function (m) {
        i(m);
        f(m);
        g(m);
        j()
    };

    function i(n) {
        var v = n;
        var m = Fai.top.$("#webBanner");
        var p = Fai.top.$("#bannerV2");
        var q = v.widthType;
        var t;
        if (v._open) {
            if (q === 0) {
                t = v.width
            } else {
                if (q === 1) {
                    t = v.width;
                    m.css("width", "100%")
                } else {
                    if (q === 2) {
                        t = v.cusBannerWidth;
                        v.width = t;
                        if (t > 0) {
                            m.css("width", t + "px")
                        }
                    }
                }
            }
            v.mouseoverId = "switchGroup";
            p.css("background", "none");
            p.children().remove();
            p.bannerImageSwitch(v)
        } else {
            var r = v.bannerListAdapt;
            var s;
            if (q === 0) {
                t = v.defaultwidth;
                s = l
            } else {
                if (q === 1) {
                    m.css("width", "100%");
                    s = l
                } else {
                    if (q === 2) {
                        t = v.cusBannerWidth;
                        m.css("width", t);
                        s = t
                    }
                }
            }
            if (r === 0) {
                p.find(".banner").css("background-size", "cover")
            } else {
                p.find(".banner").css("background-size", "")
            }
            var o = [];
            var u = Fai.top.$(".fk-inBannerListZone-tmp").find(".form");
            o.push("<div id='fk-inBannerListZone' _sys='0' _banId='' class='elemZone elemZoneModule J_moduleZone fk-moduleZone fk-inBannerListZone forms sideForms J_moduleZone'>");
            o.push("	<div class='fk-inBannerListZoneBg fk-elemZoneBg J_zoneContentBg elemZoneBg'></div>");
            o.push("</div>");
            p.prepend(o.join(""));
            Fai.top.Fai.setCtrlStyleCssList("styleWebSite", "", [{
                cls: "#bannerV2 .fk-inBannerListZone",
                key: "width",
                value: s + "px"
            }, {cls: "#bannerV2 .fk-inBannerListZone", key: "margin-left", value: "-" + s / 2 + "px"}]);
            u.each(function (w, x) {
                var y = c(this).parent();
                if (y.hasClass("fk-inBannerListZone-tmp")) {
                    if (parseInt(c(this).attr("_sys")) === 0) {
                        Fai.top.$("#fk-inBannerListZone").append(c(this))
                    }
                }
            });
            if (Fai.top._manageMode) {
                e.sortable();
                jzUtils.run({name: "_elemZone.sortModuleZone", base: Fai.top})
            }
        }
    }

    function j() {
        if (Fai.top._bannerV2Data.ble.t === 0 && !Fai.top._bannerData.h) {
            k()
        }
    }

    function k() {
        var n = Fai.top.$("#webBanner");
        var t = Fai.top.$("#bannerV2");
        var v = t.width();
        var x = t.height();
        var p = t.find(".switchGroup_bannerV2 .J_bannerItem");
        var o = t.find(".J_billboardItem");
        var q;
        var s;
        if (!t.find(".J_specialEffects").length) {
            q = '<div class="J_specialEffects f-specialEffects" style="position: absolute;top: 0;width: 100%;height:100%;z-index:2;pointer-events: none;"></div>';
            t.append(q)
        }
        var r = t.find(".J_specialEffects");
        switch (Fai.top._bannerV2Data.ble.at) {
            case 0:
                r.remove();
                break;
            case 1:
                r.find(":not(.snow-canvas)").remove();
                if (!r.find(".snow-canvas").length) {
                    var m = '<canvas class="snow-canvas" speed="1" interaction="false" size="2" count="80" opacity="0.00001" start-color="rgba(253,252,251,1)" end-color="rgba(251,252,253,0.3)" wind-power="0" image="false" width="' + v + '" height="' + x + '"></canvas><canvas class="snow-canvas" speed="3" interaction="true" size="6" count="30" start-color="rgba(253,252,251,1)" end-color="rgba(251,252,253,0.3)" opacity="0.00001" wind-power="2" image="false" width="' + v + '" height="' + x + '"></canvas><canvas class="snow-canvas" speed="3" interaction="true" size="12" count="20" wind-power="-5" image="' + Fai.top._resImageRoot + '/image/snow.png" width="' + v + '" height="' + x + '"></canvas>';
                    r[0].innerHTML = m;
                    t.find(".snow-canvas").faiSnow()
                }
                break;
            case 2:
                r.find(":not(.meteor-canvas)").remove();
                if (!r.find(".meteor-canvas").length) {
                    r.faiMeteor({width: v, height: x})
                }
                break;
            case 3:
                r.find(":not(.fireworks-canvas)").remove();
                if (!r.find(".fireworks-canvas").length) {
                    r.faiFireworks({width: v, height: x})
                }
                break;
            case 4:
                u();
                break;
            case 5:
            case 6:
                r.remove();
                var p = t.find(".switchGroup_bannerV2 .J_bannerItem");
                var w = Fai.top._bannerV2Data.ble.at === 5 ? 0 : 1;
                if (p.length) {
                    p.each(function (z, A) {
                        var y = c(this).css("background-image");
                        var B = /^url\((['"]?)(.*)\1\)$/.exec(y);
                        var C = c("<img class='J_rainyDaybackground' alt='background' width='" + v + "' height='" + x + "' style='visibility:hidden;' />");
                        c(this).css("background-image", "none");
                        B = B ? B[2] : "";
                        c(this).append(C);
                        C[0].onload = function () {
                            C.faiRainyDay({rainyEffect: w});
                            C[0].onload = null;
                            if (Fai.top._bannerV2Data.s == 1) {
                                p.find(".rainyday-canvas").css("z-index", -1)
                            } else {
                                if (Fai.top._bannerV2Data.s == 0) {
                                    p.find(".rainyday-canvas").css("z-index", 1)
                                }
                            }
                        };
                        C[0].crossOrigin = "Anonymous";
                        C[0].src = B
                    })
                }
                break;
            default:
                break
        }

        function u() {
            try {
                r.remove();

                function A() {
                    var C = document.createElement("canvas");
                    var D = C.getContext("webgl") || C.getContext("experimental-webgl");
                    var B = D && D.getExtension("OES_texture_float") && D.getExtension("OES_texture_float_linear");
                    return B
                }

                if (!!A()) {
                    p.css("width", o.width());

                    function y() {
                        var B = Math.random() * p.outerWidth();
                        var E = Math.random() * p.outerHeight();
                        var C = 20;
                        var D = 0.04 + Math.random() * 0.04;
                        p.faiRipples("drop", B, E, C, D);
                        s = setTimeout(function () {
                            y()
                        }, 400)
                    }

                    p.faiRipples({resolution: 512, dropRadius: 20, perturbance: 0.04});
                    clearTimeout(s);
                    y()
                }
            } catch (z) {
            }
        }
    }

    function f(q) {
        var p = q.backgroundType;
        var n = q.backgroundColor;
        var m = q.backgroundOpacity;
        if (p == 1) {
            var o = Fai.hexadecimalToRgb(n);
            if (Fai.isIE6() || Fai.isIE7() || Fai.isIE8()) {
                Fai.top.Fai.setCtrlStyleCss("styleBannerBg", "", ".webBannerTable", "background", "" + n + " !important")
            } else {
                Fai.top.Fai.setCtrlStyleCss("styleBannerBg", "", ".webBannerTable", "background", "rgba(" + o + ", " + m / 100 + ") !important")
            }
            Fai.top.Fai.setCtrlStyleCss("styleBannerBg", "", ".webBanner", "background", "none !important")
        } else {
            if (p == 0) {
                Fai.top.Fai.setCtrlStyleCss("styleBannerBg", "", ".webBannerTable", "background", "none !important");
                Fai.top.Fai.setCtrlStyleCss("styleBannerBg", "", ".webBanner", "background", "none !important")
            }
        }
    }

    function g(n) {
        var m = n;
        var o = Fai.top._bannerV2Data.blw.t == 1 || (Fai.top._bannerV2Data.blw.t == 0 && Fai.top._wideBanner);
        if (m._open && o) {
            c(window).resize(function (p) {
                if (!p.target.nodeType || p.target.nodeType == 9) {
                    setTimeout(function () {
                        a(0)
                    }, 500)
                }
            })
        }
    }

    h.refreshBanner = function (q) {
        var m = Fai.top.$("#webBanner");
        var o = Fai.top.$("#bannerV2");
        var p = Fai.top._bannerV2Data.blw.t;
        var n = Fai.top._bannerV2Data.blh.t;
        var s;
        var w;
        var r;
        if (!o.length) {
            return
        }
        if (Fai.top._bannerData.h) {
            o.css("display", "none");
            return
        } else {
            o.css("display", "block")
        }
        if (Fai.top._bannerV2Data.s == 1 && Fai.top._bannerV2Data.bl.length == 0) {
            Fai.top._bannerV2Data.s = 0
        }
        if (Fai.top._bannerV2Data.s == 0) {
            if (p === 0) {
                s = parseInt(o.attr("defaultwidth"));
                m.css("width", Fai.top._wideBanner ? "" : l);
                r = l
            } else {
                if (p === 1) {
                    m.css("width", "100%");
                    r = l
                } else {
                    if (p === 2) {
                        s = Fai.top._bannerV2Data.blw.w;
                        m.css("width", s)
                    }
                }
            }
            var t = [];
            var u = o.find("#fk-inBannerListZone .form");
            u.each(function (x, y) {
                var A = c(this).parent();
                if (A.hasClass("fk-inBannerListZone")) {
                    var z = A.attr("_sys");
                    c(this).attr("_sys", z);
                    Fai.top.$(".fk-inBannerListZone-tmp").append(c(this))
                }
            });
            t.push("<div id='fk-inBannerListZone' _sys='" + Fai.top._bannerV2Data.s + "' _banId='' style='width:" + r + "px;margin-left:-" + r / 2 + "px;' class='fk-moduleZone fk-inBannerListZone forms sideForms J_moduleZone'>");
            t.push("	<div class='fk-inBannerListZoneBg'></div>");
            t.push("</div>");
            t.push("<div class='" + o.attr("class") + " defaultBannerMain J_bannerItem' style='" + (n == 1 ? "height:" + w + "px" : "") + "'></div>");
            o.removeAttr("style");
            o.children().remove();
            o.append(t.join(""));
            if (Fai.top._bannerV2Data.bla === 0) {
                o.find(".banner").css("background-size", "cover")
            } else {
                o.find(".banner").css("background-size", "")
            }
            if (n == 1) {
                w = Fai.top._bannerV2Data.blh.h;
                o.css("height", w);
                o.find(".banner").css("height", w)
            }
            var v = Fai.top.$(".fk-inBannerListZone-tmp").find(".form");
            v.each(function (x, y) {
                var z = c(this).parent();
                if (z.hasClass("fk-inBannerListZone-tmp")) {
                    if (parseInt(c(this).attr("_sys")) === 0) {
                        Fai.top.$("#fk-inBannerListZone").append(c(this))
                    }
                }
            });
            if (Fai.top._manageMode) {
                e.sortable();
                jzUtils.run({name: "_elemZone.sortModuleZone", base: Fai.top})
            }
            j()
        } else {
            if (Fai.top._bannerV2Data.s == 1) {
                if (p === 0) {
                    m.css("width", Fai.top._wideBanner ? "" : l)
                } else {
                    if (p === 1) {
                        m.css("width", "100%")
                    } else {
                        if (p === 2) {
                            s = Fai.top._bannerV2Data.blw.w;
                            m.css("width", s)
                        }
                    }
                }
                a(q)
            }
        }
        jzUtils.run({name: "_elemZone.selectToolOneZone", base: Fai.top}, Fai.top.$(".fk-inBannerListZone"))
    };

    function a(p) {
        var s = 0;
        var v = 0;
        var t = [];
        var q = [];
        var r = [];
        var m = Fai.top.$("#webBanner");
        var o = Fai.top.$("#bannerV2");
        var n = Fai.top._bannerV2Data.blw.t;
        if (Fai.top._bannerV2Data.blh.t == 1 && typeof Fai.top._bannerV2Data.blh.h != "undefined") {
            v = Fai.top._bannerV2Data.blh.h
        } else {
            v = parseInt(Fai.top._bannerV2Data.bl[0].h);
            if (v < 200) {
                v = 200
            } else {
                if (v > 1000) {
                    v = 1000
                }
            }
        }
        var u = o.find(".fk-inBannerListZone .form");
        u.each(function (w, x) {
            var A = c(this).parent();
            if (A.hasClass("fk-inBannerListZone")) {
                var y = A.attr("_banid");
                var z = A.attr("_sys");
                c(this).attr("_banId", y);
                c(this).attr("_sys", z);
                Fai.top.$(".fk-inBannerListZone-tmp").append(c(this))
            }
        });
        c.each(Fai.top._bannerV2Data.bl, function (y, A) {
            var x = parseInt(A.h);
            var z = parseInt(A.w);
            if (s < z) {
                s = z
            }
            if (A.e != 0) {
                var w = A.jUrl || "javascript:;";
                if (w.length > 12 && w.substring(0, 10) == "javascript") {
                    t.push({
                        src: A.p,
                        href: "javascript:;",
                        onclick: w.substring(11) + "return false;",
                        ot: A.ot,
                        imgWidth: z,
                        imgHeight: x,
                        i: A.i
                    })
                } else {
                    t.push({src: A.p, href: w, ot: A.ot, imgWidth: z, imgHeight: x, i: A.i})
                }
            } else {
                t.push({src: A.p, imgWidth: z, imgHeight: x, i: A.i})
            }
            q.push(z);
            r.push(x)
        });
        if (n === 2) {
            s = Fai.top._bannerV2Data.blw.w
        }
        o.css("background", "none");
        o.children(":not(.J_specialEffects)").remove();
        o.css("height", v + "px");
        o.bannerImageSwitch({
            data: t,
            index: p,
            width: s,
            height: v,
            from: "banner",
            playTime: Fai.top._bannerV2Data.i,
            animateTime: Fai.top._bannerV2Data.a,
            btnType: Fai.top._bannerV2Data.bt,
            wideScreen: true
        });
        h.adjustBannerWidth();
        j()
    }

    h.adjustBannerWidth = function () {
        var p = Fai.top.$("#bannerV2");
        var r = Fai.top.$("#webBanner").width();
        var n = p.find(".switchGroup");
        var o = Fai.top._manageMode ? Fai.getScrollWidth() : 0;
        var q = Fai.top.$(window).width() > Fai.top.$("#web").width() ? Fai.top.$(window).width() : Fai.top.$("#web").width();
        var s = Fai.top._bannerV2Data.bla == 0 ? true : false;
        var m = Fai.top._bannerV2Data.at == 0 ? true : false;
        if (s && (Fai.top._bannerV2Data.blw.t == 1 || (Fai.top._bannerV2Data.blw.t == 0 && Fai.top._wideBanner))) {
            r = (r > q) ? q - o : r;
            n.find(".J_bannerItem").each(function (t) {
                if (r >= c(this).width()) {
                    c(this).css("width", r);
                    c(this).parent().css("width", r);
                    if (m && Fai.top._bannerV2Data.bt === 0) {
                        c(this).parent().css("left", -r * t + "px")
                    }
                }
            })
        }
    };
    h.setBannerBg = function () {
        var m = Fai.top._bannerV2Data.bzb.c ? Fai.top._bannerV2Data.bzb.c : "#000";
        var o = (typeof Fai.top._bannerV2Data.bzb.o == "undefined") ? 100 : Fai.top._bannerV2Data.bzb.o;
        var n = Fai.hexadecimalToRgb(m);
        Fai.top._bannerV2Data.bzb.c = m;
        Fai.top._bannerV2Data.bzb.o = o;
        if (Fai.isIE6() || Fai.isIE7() || Fai.isIE8()) {
            Fai.top.Fai.setCtrlStyleCss("styleBannerBg", "", ".webBannerTable", "background", "" + m + " !important")
        } else {
            Fai.top.Fai.setCtrlStyleCss("styleBannerBg", "", ".webBannerTable", "background", "rgba(" + n + ", " + o / 100 + ") !important")
        }
        Fai.top.Fai.setCtrlStyleCss("styleBannerBg", "", ".webBanner", "background", "none !important")
    };
    h.hideBannerBg = function () {
        Fai.top.Fai.setCtrlStyleCss("styleBannerBg", "", ".webBannerTable", "background", "none !important");
        Fai.top.Fai.setCtrlStyleCss("styleBannerBg", "", ".webBanner", "background", "none !important")
    };
    h.startBannerInterval = function () {
        var m = 0;
        if (Fai.intervalFunc != b) {
            m = Fai.intervalFunc.length
        }
        if (m > 0) {
            for (var p = 0; p < m; p++) {
                var o = Fai.intervalFunc[p].id;
                var n = o.length;
                if (typeof o != "undefined" && o.substring(0, 11) == "imageSwitch" && o.substring(n - 6, n) == "banner") {
                    Fai.startInterval(o)
                }
            }
        }
        if (Fai.top._bannerV2Data.bl && Fai.top._bannerV2Data.bl.length > 1 && e.checkBrowser() && Fai.top._bannerV2Data.at > 0) {
            e.bannerAnimate.autoPlay()
        }
    };
    h.stopBannerInterval = function () {
        var m = 0;
        if (Fai.intervalFunc != b) {
            m = Fai.intervalFunc.length
        }
        if (m > 0) {
            for (var p = 0; p < m; p++) {
                var o = Fai.intervalFunc[p].id;
                var n = o.length;
                if (typeof o != "undefined" && o.substring(0, 11) == "imageSwitch" && o.substring(n - 6, n) == "banner") {
                    Fai.stopInterval(o)
                }
            }
        }
        if (Fai.top._bannerV2Data.bl && Fai.top._bannerV2Data.bl.length > 1 && e.checkBrowser() && Fai.top._bannerV2Data.at > 0) {
            e.bannerAnimate.stop()
        }
    };
    h.stopBannerPropagation = function () {
        var m = Fai.top.$("#bannerV2").find(".fk-inBannerListZone");
        m.off("click.stopFormP").on("click.stopFormP", ".form", function (q) {
            var n = c(q.target).parentsUntil("#bannerV2", ".J_bannerItem");
            var o = n.attr("href");
            var p = n.attr("target");
            n.attr("href", "javascript:void(0);").attr("target", "");
            q.stopPropagation();
            setTimeout(function () {
                n.attr("href", o).attr("target", p)
            }, 0)
        })
    }
})(jQuery, Site, Site.bannerV2 || (Site.bannerV2 = {}));
Site.initForms = function () {
    $(".form").each(function () {
        var a = $(this), b = a.attr("_moduleid") || 0;
        if (b > 0) {
            if (a.attr("_autoHeight") != "1") {
                Site.setModuleHeight2(b, a.height())
            } else {
                if (a.hasClass("formStyle29")) {
                    Site.setModuleHeight2(b, a.height())
                }
            }
        }
    })
};
Site.setModuleHeight2 = function (m, l) {
    var b = Fai.top.$("#module" + m);
    b.css("height", l + "px");
    if (b.hasClass("formStyle80") || b.hasClass("formStyle87")) {
        return
    }
    var g = b.find(".formTop" + m);
    var k = b.find(".formBanner" + m);
    var j = b.find(".formMiddle" + m);
    var r = b.find(".formBottom" + m);
    var a = g.is(":visible") ? g.outerHeight(true) : 0;
    var f = k.is(":visible") ? k.outerHeight(true) : 0;
    var s = r.is(":visible") ? r.outerHeight(true) : 0;
    var n = j.find(".formMiddleCenter" + m);
    var o = j.find(".formMiddleContent" + m);
    var t = l - a - f - s - Fai.getFrameHeight(j);
    j.css("height", t + "px");
    t = t - Fai.getFrameHeight(n);
    t = t - Fai.getFrameHeight(o);
    if (!b.hasClass("formStyle81") && !b.hasClass("formStyle82") && !b.hasClass("formStyle85") && !b.hasClass("formStyle98")) {
        if (t > 0) {
            o.css("height", t + "px");
            o.css("overflow-y", "hidden")
        }
    }
    if (b.hasClass("formStyle29")) {
        var p = b.find(".titleTable"), i = b.find(".formTabButtonList");
        if (p.length == 1) {
            var h = p.outerHeight(true);
            if (b.find(".formTabDirectionY").length > 0) {
                h = i.outerHeight(true)
            }
            var c = b.find(".formTabContent" + m);
            var e = t - h - Fai.getCssInt(c, "border-top-width") - Fai.getCssInt(c, "border-bottom-width");
            if (Fai.isIE6()) {
                e += 1
            }
            c.css("height", e + "px");
            var d = b.find(".formTabCntId");
            d.css("height", e + "px")
        }
    } else {
        if (b.hasClass("formStyle79")) {
            var q = b.attr("id").replace("module", "");
            if (!Site.floatImgInContainerForms(q)) {
                b.find("#float_img_" + m).css("height", t + "px")
            }
        }
    }
};
Site.refreshForms = function () {
    Site.refreshFormIndexClass();
    Site.displayAddModule();
    Fai.top.Fai.delayLoadImg(20)
};
Site.addModuleStyle = function (a) {
    Fai.top.Fai.addCtrlStyle("stylemodule", a)
};
Site.displayAddModule = function () {
    if (!Fai.top._designAuth) {
        return
    }
    Site.addAddModuleButton(1);
    Site.addAddModuleButton(2);
    Site.addAddModuleButton(3);
    Site.addAddModuleButton(4);
    Site.addAddModuleButton(5);
    Site.addAddModuleButton(6);
    Site.addAddModuleButton(7);
    Site.addAddModuleButton(8);
    Site.addAddModuleButton(10);
    Site.addAddModuleButton(11);
    Site.addAddModuleButton(12);
    Site.addAddModuleButton(13);
    Site.addAddModuleButton(20);
    Site.addAddModuleButton(22);
    Site.addAddModuleButton(23);
    Site.addAddModuleButton(24);
    Site.addAddModuleButton(25);
    Site.addAddModuleButton(26);
    Site.addAddModuleButton(27);
    Site.addAddModuleButton(28)
};
Site.checkModuleInZone = function (a) {
    return a.parent().hasClass("J_moduleZone")
};
Site.checkModuleInSubNav = function (a) {
    return a.parent().hasClass("J_subNavPack")
};
Site.checkModuleInElemZone = function (a) {
    return a.parent().hasClass("elemZone")
};
Site.checkFloatModulePosition = function (b) {
    if (!b.length) {
        return
    }
    var h = b.parent().attr("id");
    var e = b.offset().top, m = b[0].getBoundingClientRect().top;
    moduleTop = e - Fai.top.$("body").scrollTop();
    var d = b.offset().left;
    var i = b.height();
    var l = moduleTop + i;
    var k = 0;
    var f = Fai.top.Fai.getBrowserHeight() - k;
    var a = Site.getModuleStatus(b.attr("id").replace("module", ""));
    if (h == "floatLeftBottomForms" || h == "floatRightBottomForms") {
        var j = Fai.top.$("#web").offset().top;
        if (l > f) {
            var g = f - i;
            if (a != 3) {
                b.offset({left: d, top: j + Fai.top.Fai.getBrowserHeight() / 2})
            }
        }
        if (l < j) {
            b.offset({top: j + Fai.top.Fai.getBrowserHeight() / 2})
        }
        if (moduleTop < j) {
            if (a != 3) {
                b.offset({top: j + Fai.top.Fai.getBrowserHeight() / 2})
            }
        }
    } else {
        if (h == "floatLeftTopForms" || h == "floatRightTopForms") {
            var j = Fai.top.$("#web").offset().top;
            if (j < 0) {
                j = 0
            }
            if (moduleTop > (j + Fai.top.Fai.getBrowserHeight())) {
                b.offset({top: j + Fai.top.Fai.getBrowserHeight() / 2 - i})
            }
            if (l < j) {
                b.offset({top: j})
            }
            if (moduleTop < j) {
                b.offset({top: j})
            }
        }
    }
    if (b.hasClass("matFactoryModule") && !Fai.top._matFactorySideModuleDrag && !Fai.top._matFactoryLockModuleDrag) {
        var c = -(Fai.top.Fai.getBrowserHeight() + i) / 2;
        $("#" + h).find(".matFactoryModule").each(function (n, o) {
            if ($(o).attr("id") != b.attr("id")) {
                var p = $(o).css("top").replace("px", "");
                if (c == p) {
                    c += 40
                }
            }
        });
        b.css("top", c + "px")
    }
};
Site.closeAd = function (a) {
    $("#" + a).data("top", $("#" + a).position().top);
    $("#" + a).data("left", $("#" + a).position().left);
    $("#" + a).hide()
};
Site.checkSideModule = function (a) {
    Site.reSetSidePosition(a)
};
Site.reSetSidePosition = function (b, r) {
    var k = b.attr("id");
    var v = b.offset().top;
    var o = Fai.top.Fai.getBrowserWidth();
    var a = Fai.top.Fai.getBrowserHeight();
    var n = b.outerWidth();
    var x = b.height();
    var z = Fai.getCssInt(b, "border-left-width");
    var s = b.parent().attr("id");
    var c = b.attr("_side");
    var h = 0;
    var j = [];
    var t = Fai.top.$("#" + k + "SideBtn");
    t.remove();
    var w = k.replace("module", "");
    var m = b.find(".mainTitle" + w).first().text();
    var g = 0;
    var d = false;
    var i = parseInt(b.attr("_modulestyle"));
    if (i == 79 || i == 81 || i == 86) {
        if (b.find(".mainTitle").length < 1) {
            m = b.attr("bannertitle")
        }
    }
    if (c == 1) {
        if (s == "floatLeftTopForms" || s == "floatLeftBottomForms") {
            b.offset({top: v, left: 0});
            h = 1;
            j = ["<div id='" + k + "SideBtn' class='g_sideBtn fk-sideLeft'><div class='g_sideBtn_t g_sB_lt'></div><div class='g_sideBtn_c g_sB_lc'><span class='g_sideBtn_tl'>" + m + "</span></div><div class='g_sideBtn_b g_sB_lb'></div><div class='g_sideBtn_extend g_sB_le'></div></div>"];
            b.animate({left: -n}, {queue: false, duration: 0});
            b.off("mouseenter.sideModule").on("mouseenter.sideModule", Site.bindSideIn1);
            b.off("mouseleave.sideModule").on("mouseleave.sideModule", Site.bindSideOut1)
        } else {
            if (s == "floatRightTopForms" || s == "floatRightBottomForms") {
                if (Fai.top._Global._webRightBar) {
                    g = Fai.getScrollWidth() + $(".fk-rbar").width();
                    if (b.width() > 10) {
                        b.data("_selfWidth", b.width())
                    }
                    if (b.attr("_moduleStyle") == 7) {
                        b.find(".formWrap").css({
                            "word-break": "keep-all",
                            "white-space": "nowrap",
                            overflow: "hidden",
                            "text-overflow": "ellipsis"
                        })
                    }
                    d = b.data("notInitState") || d
                }
                b.offset({top: v, left: o - n - g});
                h = 0;
                j = ["<div id='" + k + "SideBtn' class='g_sideBtn fk-sideRight'><div class='g_sideBtn_t g_sB_rt'></div><div class='g_sideBtn_c g_sB_rc'><span class='g_sideBtn_tl'>" + m + "</span></div><div class='g_sideBtn_b g_sB_rb'></div><div class='g_sideBtn_extend g_sB_re'></div></div>"];
                if (Fai.top._Global._webRightBar) {
                    if (!d) {
                        b.animate({left: 0}, {queue: false, duration: 0})
                    }
                    if (Fai.top._manageMode && !r) {
                        b.css("overflow", "visible");
                        b.animate({left: -g + "px", width: 0}, {queue: false, duration: 300})
                    } else {
                        if (Fai.top._manageMode && r) {
                            b.animate({left: -g + "px"}, {queue: false, duration: 0})
                        } else {
                            b.animate({left: -$(".fk-rbar").width() + "px"}, {queue: false, duration: 500})
                        }
                    }
                } else {
                    b.animate({left: 0}, {queue: false, duration: 0})
                }
                b.off("mouseenter.sideModule").on("mouseenter.sideModule", Site.bindSideIn2);
                b.off("mouseleave.sideModule").on("mouseleave.sideModule", Site.bindSideOut2)
            } else {
                b.attr("_side", 0)
            }
        }
        b.css("overflow", "visible")
    }
    b.append(j.join(""));
    b.addClass("jz-moduleSide");
    if (!!b.find(".formMiddle").length) {
        b.find(".formMiddle").addClass("jz-moduleSide-content")
    }
    var l = Fai.top.$("#" + k + "SideBtn");
    if (l.length > 0) {
        var u = l.width();
        var e = l.height();
        var q = parseInt((x - e) / 2);
        if (h == 0) {
            l.css({top: q, left: -u - z})
        } else {
            l.css({top: q, left: n - z})
        }
        var p = l.position().top;
        var y = l.position().top + e;
        if (c == 1) {
            if (s == "floatLeftTopForms" || s == "floatRightTopForms") {
                if (y <= 0) {
                    l.css({top: x - e})
                }
            } else {
                if (s == "floatLeftBottomForms" || s == "floatRightBottomForms") {
                    if ((p - a) >= 0) {
                        l.css({top: 0})
                    }
                }
            }
            var f = l[0].getBoundingClientRect();
            if (f.top > a || f.bottom < 0) {
                l.css({top: 0})
            }
        }
    }
};
Site.checkFlutterModule = function (b) {
    var a = b.attr("_side");
    if (a == 2) {
        Site.flutterStart(b)
    }
};
var flutterCount = 1000;
Site.flutterInternel = function (d) {
    var i = d.attr("_flutterSwitch");
    if (i == "true") {
        Site.stopFlutterInterval(d)
    }
    var m = 1;
    var b = document.body.scrollTop;
    var g = document.body.scrollLeft;
    if (Fai.isIE8() || Fai.isIE7() || Fai.isIE10() || Fai.isIE9() || Fai.isIE11()) {
        b = document.documentElement.scrollTop
    }
    var a = $("#g_main").offset().top + b;
    var e = 0 + g;
    var c = document.documentElement.clientWidth - d.width() + g;
    var h = document.documentElement.clientHeight - d.height() + b;
    if (Fai.isIE6()) {
        c = document.body.clientWidth - d.width()
    }
    var l = d.data("flutterXPos");
    var f = d.data("flutterYPos");
    d.offset({left: l, top: f});
    var k = d.data("flutterXPos") + m * (d.data("flutterXon") ? 1 : -1);
    d.data("flutterXPos", k);
    if (d.data("flutterXPos") <= e) {
        d.data("flutterXon", true);
        d.data("flutterXPos", e)
    }
    if (d.data("flutterXPos") >= c) {
        d.data("flutterXon", false);
        d.data("flutterXPos", c)
    }
    var j = d.data("flutterYPos") + m * (d.data("flutterYon") ? 1 : -1);
    d.data("flutterYPos", j);
    if (d.data("flutterYPos") <= a) {
        d.data("flutterYon", true);
        d.data("flutterYPos", a)
    }
    if (d.data("flutterYPos") >= h) {
        d.data("flutterYon", false);
        d.data("flutterYPos", h)
    }
};
Site.stopFlutterInterval = function (a) {
    Fai.stopInterval("flutter" + a.attr("id"))
};
Site.startFlutterInterval = function (b) {
    var a = b.attr("_side");
    if (a != 2) {
        return
    }
    if (b.attr("_edit") == "true") {
        return
    }
    Site.stopFlutterInterval(b);
    var d = function () {
        var f = b.attr("_side");
        var g = b.attr("_flutterSwitch");
        if (f == 2) {
            Site.flutterInternel(b)
        } else {
            Site.stopFlutterInterval(b)
        }
    };
    var e = 10;
    var c = "flutter" + b.attr("id");
    Fai.addInterval(c, d, e);
    Fai.startInterval(c)
};
Site.flutterStart = function (b, a) {
    b.addClass("fk-flutterForm");
    var g = 0;
    var f = document.body.scrollLeft;
    if (Fai.isIE6()) {
        rightBoundary = document.body.clientWidth - b.width()
    } else {
        rightBoundary = document.documentElement.clientWidth - b.width() + f
    }
    if (b.offset().left > rightBoundary) {
        b.offset({left: rightBoundary - b.outerWidth()})
    } else {
        if (b.offset().left + b.width() < 0) {
            b.offset({left: 0})
        }
    }
    var h = b.position().left;
    var c = b.position().top;
    var i = b.data("toFlutterFlag");
    var k = b.attr("_flutterSwitch");
    if (!i) {
        b.data("startFlutterXPos", h);
        b.data("startFlutterYPos", c)
    } else {
        var j = b.data("startFlutterXPos");
        var d = b.data("startFlutterYPos");
        if (!j && !d) {
            b.data("startFlutterXPos", h);
            b.data("startFlutterYPos", c)
        }
    }
    var l = b.data("startFlutterParentId");
    if (!l) {
        b.data("startFlutterParentId", b.parent().attr("id"))
    }
    b.data("flutterXPos", b.offset().left);
    b.data("flutterYPos", b.offset().top);
    b.data("flutterXon", true);
    b.data("flutterYon", true);
    var e = b.attr("_side");
    if (_manageMode == true && e == 2 && !a) {
        b.attr("_flutterSwitch", true)
    }
    var k = b.attr("_flutterSwitch");
    if (k == "false" || !k) {
        Site.startFlutterInterval(b)
    }
    b.on("mouseenter", function () {
        Site.stopFlutterInterval($(this))
    });
    b.on("mouseleave", function () {
        var m = $(this).attr("_flutterSwitch");
        if (m == "false" || !m) {
            Site.startFlutterInterval($(this))
        }
    })
};
Site.bindSideIn1 = function (b) {
    var b = $(this);
    var c = b.attr("_side");
    var a = b.outerWidth();
    var d = b.parent().attr("id");
    if (Fai.top._manageMode) {
        Site.disableEditLayer();
        if (-a == b.offset().left) {
            jzUtils.run({name: "moduleAnimation.canRunAgain", base: Site})
        }
        b.animate({left: 0}, {
            queue: false, duration: 500, complete: function () {
                Site.enableEditLayer();
                if (c == 1) {
                    b.unbind("mouseenter.sideModule", Site.bindSideIn1).unbind("mouseleave.sideModule", Site.bindSideOut1).unbind("mouseenter.sideModule", Site.bindSideIn2).unbind("mouseleave.sideModule", Site.bindSideOut2)
                }
                jzUtils.run({name: "moduleAnimation.publish", base: Site});
                jzUtils.run({name: "moduleAnimation.contentAnimationPublish", base: Site})
            }
        })
    } else {
        if (-a == b.offset().left) {
            jzUtils.run({name: "moduleAnimation.canRunAgain", base: Site})
        }
        b.animate({left: 0}, {
            queue: false, duration: 500, complete: function () {
                jzUtils.run({name: "moduleAnimation.publish", base: Site});
                jzUtils.run({name: "moduleAnimation.contentAnimationPublish", base: Site})
            }
        })
    }
    $(b).find("img").trigger("appear")
};
Site.bindSideIn2 = function (e) {
    var e = $(this);
    var d = e.attr("_side");
    var g = e.outerWidth();
    var i = e.parent().attr("id");
    var m = Fai.top.Fai.getBrowserWidth();
    var j = 0;
    var l = Fai.top.$("#" + e.attr("id") + "SideBtn");
    var k = l.width();
    var b = Fai.getCssInt(e, "border-left-width");
    var f = 0;
    var c = {left: -g};
    var h = 0;
    var a = 500;
    if (Fai.top._Global._webRightBar) {
        f = $(".fk-rbar").width();
        j = Fai.getScrollWidth() + f;
        g = e.data("_selfWidth");
        if (e.attr("_moduleStyle") == 7) {
            e.find(".formWrap").css({
                "word-break": "keep-all",
                "white-space": "nowrap",
                overflow: "hidden",
                "text-overflow": "ellipsis"
            })
        }
        e.data("notInitState", true);
        c = {left: -g - j, width: g};
        h = Fai.getScrollWidth();
        if (Fai.top._isTemplateVersion2 && Fai.top._manageMode) {
            a = 0
        }
    }
    e.find("img").trigger("appear");
    if (Fai.top._manageMode) {
        Site.disableEditLayer();
        if (m == (e.offset().left + f + h)) {
            jzUtils.run({name: "moduleAnimation.canRunAgain", base: Site})
        }
        e.animate(c, {
            queue: false, duration: a, complete: function () {
                Site.enableEditLayer();
                if (d == 1) {
                    e.unbind("mouseenter.sideModule", Site.bindSideIn1).unbind("mouseleave.sideModule", Site.bindSideOut1).unbind("mouseenter.sideModule", Site.bindSideIn2).unbind("mouseleave.sideModule", Site.bindSideOut2)
                }
                jzUtils.run({name: "moduleAnimation.publish", base: Site});
                jzUtils.run({name: "moduleAnimation.contentAnimationPublish", base: Site})
            }
        })
    } else {
        if (m == e.offset().left) {
            jzUtils.run({name: "moduleAnimation.canRunAgain", base: Site})
        }
        e.animate({left: -g - f}, {
            queue: false, duration: 500, complete: function () {
                jzUtils.run({name: "moduleAnimation.publish", base: Site});
                jzUtils.run({name: "moduleAnimation.contentAnimationPublish", base: Site})
            }
        })
    }
};
Site.bindSideOut1 = function (b) {
    var b = $(this);
    var c = b.attr("_side");
    var a = b.outerWidth();
    var d = b.parent().attr("id");
    b.animate({left: -a}, {queue: false, duration: 500})
};
Site.bindSideOut2 = function (d) {
    var d = $(this);
    var e = d.attr("_side");
    var b = d.outerWidth();
    var f = d.parent().attr("id");
    var a = 0;
    var c = 0;
    if (Fai.top._Global._webRightBar) {
        a = Fai.getScrollWidth() + $(".fk-rbar").width();
        if (d.attr("_moduleStyle") == 7) {
            d.find(".formWrap").css({"word-break": "keep-all", "white-space": "nowrap"})
        }
        c = $(".fk-rbar").width()
    }
    if (Fai.top._manageMode) {
        d.animate({left: 0 - a}, {queue: false, duration: 500})
    } else {
        d.animate({left: -c}, {queue: false, duration: 500})
    }
};
Site.setAbsFormsHolder2 = function (h) {
    var a = 0, f = 0, j = 0, g = Fai.top.$("#containerPlaceholder"), b = Fai.top.$("#g_main"), d = Fai.isIE6(),
        c = Fai.isIE7(), i = false, k, e;
    k = function (l) {
        if (!Fai.top._manageMode && !d && !c) {
            return l
        }
        var m = b.scrollTop();
        if (m <= 0) {
            return l
        }
        return l + m
    };
    Fai.top.$("#absForms >.form").each(function () {
        var l = $(this).offset().top + $(this).outerHeight();
        l = k(l);
        if (l > a) {
            a = l
        }
    });
    Fai.top.$("#absTopForms >.form").each(function () {
        var l = $(this).offset().top + $(this).outerHeight();
        l = k(l);
        if (l > a) {
            a = l
        }
    });
    f = Fai.top.$("#fullmeasureBottomForms").outerHeight();
    if (f > 0) {
        a = a - f;
        if (a < 0) {
            a = 0
        }
        i = true
    }
    j = k(g.offset().top);
    if (i) {
        if (a > j) {
            e = a - j;
            if (e !== parseInt(g.height())) {
                if (!Fai.top._manageMode && Fai.top._colOtherStyleData.y > e) {
                    g.css("height", e + "px")
                } else {
                    g.css("height", e + "px");
                    if (!h) {
                        Fai.top._colOtherStyleData.y = parseInt(e)
                    }
                }
            } else {
                if (Fai.top._manageMode && Fai.top._colOtherStyleData.y != parseInt(e)) {
                    Fai.top._colOtherStyleData.y = parseInt(e)
                }
            }
        } else {
            if (a != 0 && (a - j) !== 0) {
                g.css("height", "0");
                if (!h) {
                    Fai.top._colOtherStyleData.y = 0
                }
            } else {
                if (Fai.top._colOtherStyleData.y > 0 && a < j) {
                    g.css("height", "0");
                    Fai.top._colOtherStyleData.y = 0
                }
            }
        }
    } else {
        if (a > j) {
            var e = a - j;
            if (e !== parseInt(g.height())) {
                g.css("height", e + "px");
                Fai.top._colOtherStyleData.y = parseInt(e)
            }
        } else {
            if (a != 0 && (a - j) !== 0) {
                g.css("height", "0px");
                Fai.top._colOtherStyleData.y = 0
            }
        }
    }
};
Site.checkAbsModulePosition = function (c, a) {
    var h = c.parent().attr("id");
    var f = c.offset().left;
    var d = c.offset().top;
    var e = c.height();
    var g = c.offset().top + e;
    if (h == "absTopForms") {
        var b = Fai.top.$("#web").offset().top;
        if (d < b) {
            d = b;
            c.offset({top: d, left: f})
        }
        Site.setAbsFormsHolder2(a)
    } else {
        if (h == "absBottomForms") {
            var b = Fai.top.$("#webFooter").offset().top;
            if (d < b) {
                d = b
            }
            if (Fai.top._siteVer < 30) {
                var b = Site.getFooterBottom();
                if (d + e > b) {
                    d = b - e;
                    c.offset({top: d, left: f})
                }
            } else {
                var b = Site.getFooterBottom(true);
                if (d + e > b) {
                    d = b - e;
                    c.offset({top: d, left: f})
                }
            }
            c.offset({top: d, left: f})
        } else {
            if (h == "absForms") {
                Site.setAbsFormsHolder2(a)
            }
        }
    }
};
Site.demoStyleDesignLoading = function (a, c) {
    var b = $('<div class="forWaiting ajaxLoading2" style="position:absolute;background-color:#d6d9e0;width:100%;height:205px;top:0;left:0;"></div>');
    b.appendTo("#" + a);
    $("#" + c).load(function () {
        $(".forWaiting").remove()
    })
};
Site._webToggleClass = function (a) {
    if (a == "show") {
        $("html").removeClass("g_html").addClass("g_htmlManage");
        $("body").removeClass("g_body").addClass("g_bodyManage");
        $("#g_main").addClass("g_mainManage");
        $("#web").addClass("g_webManage")
    }
};
Site._demoTemplate = function () {
    var a = $("#siteTipsDemoTemplate");
    if (a.is(":visible")) {
        document.location.reload()
    } else {
        a.show();
        Site._webToggleClass("show");
        if ($("#topBarArea").length > 0) {
            $("#topBarArea").hide();
            $("#topBar").hide()
        }
        Site.demoStyleDesignLoading("siteTipsDemoTemplate", "siteTipsDemoTemplateFrame");
        $("#siteTipsDemoTemplateFrame").attr("src", "manage/styleTemplate.jsp?demoTemplate=true&ram" + Math.random());
        Site.resetGmainPos()
    }
};
Site.adjustFlBtnPos = function (b) {
    var a = Fai.top.$("#module" + b);
    a.css({border: "10px solid transparent", "margin-top": "-10px", "margin-left": "-10px"});
    if (Fai.isIE6()) {
        var c = a.attr("style");
        a.attr("style", c + "; _border-color:tomato; _filter:chroma(color=tomato)")
    }
};
Site.initFlBtnStyle = function (a) {
    var g = a.moduleId, f = a.btnNumSystem, e = a.btnStyle, h = "module" + g, b = Fai.top.$("#" + h);
    if (Fai.top._designAuth) {
        Site.initManageFlBtnStyle(g, f, e)
    } else {
        var c = Fai.top.$(".mulMColContent");
        var d = b.find(".floatBtn")
    }
};
Site.setFlBtnParentColHide = function () {
    var a = Fai.top.$(".mulMColContent");
    if (a.length > 0) {
        a.each(function () {
            if ($(this).find(".formStyle81").length > 0) {
                var b = $(this).attr("id");
                Fai.top.Fai.setCtrlStyleCss("stylemodule", b, ".mulMColList", "overflow", "hidden")
            }
        })
    }
};
Site.initPhotoCard = function (b) {
    var a = Fai.top.$("#module" + b);
    Site.resizePhotoCardHeight(a);
    Site.setPhotoCardHeight(a);
    Site.adjustPhotoCardImgSize(a);
    jzUtils.run({name: "ImageEffect.FUNC.BASIC.Init", callMethod: true}, Fai.top["photoCard" + b])
};
Site.setPhotoCardHeight = function (a) {
    var b = a.find(".cardTd");
    b.each(function () {
        var e = $(this).height(), d = $(this).find(".photoCard"), c = d.height();
        if (c < e) {
            d.css("height", e + "px")
        }
    })
};
Site.adjustPhotoCardImgSize = function (b) {
    var c = b.attr("id").replace("module", ""), a = b.find(".photoCard"), d = b.find(".cardDivEffect .cardImg");
    Site.setPhotoCardHeight(b);
    a.each(function () {
        var o = $(this).find(".cardImgView"), l = $(this).find(".cardDivEffect"), m = $(this).height();
        if (o.length < 1) {
            return true
        }
        var k = o.width(), g = o.height(), e = $(this).width(), i, n, f = k, j = g, h = l.attr("tmpPic");
        imgOrProp = f / j;
        if (e / m <= imgOrProp) {
            o.css("width", "");
            o.css("height", m + "px");
            i = $(this).width();
            n = o.width();
            l.css("marginTop", "");
            l.css("marginLeft", ((i - n) / 2) + "px")
        } else {
            o.css("height", "");
            o.css("width", e + "px");
            i = $(this).height();
            n = o.height();
            l.css("marginLeft", "");
            l.css("marginTop", ((i - n) / 2) + "px")
        }
        o.removeClass("cardImgViewHide")
    });
    d.load(function () {
        var p = $(this), m = p.parents(".cardDiv"), j = p.parents(".photoCard"), n = j.height();
        var l = p.width(), f = p.height(), e = j.width(), k, o, i, h = l / f, g = m.attr("tmpPic");
        if (e / n <= h) {
            p.css("width", "");
            p.css("height", n + "px");
            k = j.width();
            o = p.width();
            i = (k - o) / 2;
            m.css("marginTop", "");
            m.css("marginLeft", i + "px")
        } else {
            p.css("height", "");
            p.css("width", e + "px");
            k = j.height();
            o = p.height();
            i = (k - o) / 2;
            m.css("marginLeft", "");
            m.css("marginTop", i + "px")
        }
        jzUtils.run({name: "ImageEffect.FUNC.BASIC.Init", callMethod: true}, Fai.top["photoCard" + c])
    })
};
Site.resizePhotoCardHeight = function (c) {
    var k = c.find(".photoCardTable"), l = c.find(".formMiddleContent"), a = c.find(".photoCardOuter"),
        b = c.find(".photoCardInner"), h = k.find("tr"), e = c.find(".cardTd"), d = a.attr("cusHeight"), f = h.length,
        i = c.height(), j = parseInt(l.css("marginTop").replace("px", ""));
    formMiddleContentMB = parseInt(l.css("marginBottom").replace("px", ""));
    photoCardInnerMT = parseInt(b.css("marginTop").replace("px", ""));
    photoCardInnerMB = parseInt(b.css("marginBottom").replace("px", ""));
    cellspacing = parseInt(k.attr("cellspacing"));
    if (d) {
        i = a.height();
        j = 0;
        formMiddleContentMB = 0
    }
    var g = i - j - formMiddleContentMB - photoCardInnerMT - photoCardInnerMB - (2 * cellspacing);
    e.each(function () {
        var n = $(this).find(".photoCard"), o = parseInt($(this).attr("rowspan")),
            m = (g - (f - 1) * cellspacing) / f || "";
        switch (o) {
            case 1:
                n.css("height", m + "px");
                break;
            case 2:
                n.css("height", (m * 2 + cellspacing) + "px");
                break;
            default:
                n.css("height", m + "px")
        }
    })
};
Site.adjustPhotoCard = function (b) {
    if (Fai.isNumber(b)) {
        var a = Fai.top.$("#module" + b);
        if (a.hasClass("formStyle83") && !a.find(".photoCardOuter").attr("cusHeight")) {
            Site.initPhotoCard(b);
            a.attr("_autoheight", 0)
        }
    } else {
        if (typeof b == "object") {
            var d = b;
            var c = d.find(".formStyle83");
            if (c.length > 0) {
                e(c)
            }
        } else {
            if (b == undefined) {
                var c = Fai.top.$(".formStyle83");
                if (c.length > 0) {
                    e(c)
                }
            }
        }
    }

    function e(f) {
        c.each(function () {
            var h = $(this).attr("id").replace("module", ""), g = $(this).find(".photoCardOuter"),
                i = g.attr("cusHeight");
            if (i) {
                return true
            }
            Site.initPhotoCard(h);
            $(this).attr("_autoheight", 0)
        })
    }
};
Site.addPhotoCardModuleHeight = function (b) {
    var g = Fai.top.$("#module" + b), a = g.find(".photoCardOuter"), f = g.find(".photoCard"), c = g.width(),
        i = g.height(), h = c / 960, j = a.attr("cusHeight"), e = a.height(), d = i * h;
    if (j) {
        d = e
    }
    g.css("height", d + "px");
    Site.initPhotoCard(b);
    Site.scrollToModuleDiv(g);
    Site.getModuleAttrPattern(b).changed = true;
    g.attr("_autoheight", 0)
};
Site.initPhotoNewCard = function (b) {
    var a = Fai.top.$("#module" + b);
    Site.resizePhotoNewCardHeight(a);
    Site.setPhotoNewCardHeight(a);
    Site.adjustPhotoNewCardImgSize(a);
    jzUtils.run({name: "ImageEffect.FUNC.BASIC.Init", callMethod: true}, Fai.top["photoNewCard" + b])
};
Site.setPhotoNewCardHeight = function (a) {
    var b = a.find(".cardTd");
    b.each(function () {
        var c = $(this).height(), e = $(this).find(".photoNewCard"), d = e.height();
        if (d < c) {
            e.css("height", c + "px")
        }
    })
};
Site.adjustPhotoNewCardImgSize = function (a) {
    var c = a.attr("id").replace("module", ""), b = a.find(".photoNewCard"), d = a.find(".cardDivEffect .cardImg");
    Site.setPhotoNewCardHeight(a);
    b.each(function () {
        var o = $(this).find(".cardImgView"), l = $(this).find(".cardDivEffect"), m = $(this).height();
        if (o.length < 1) {
            return true
        }
        var k = o.width(), g = o.height(), e = $(this).width(), i, n, f = k, j = g, h = l.attr("tmpPic");
        imgOrProp = f / j;
        if (e / m <= imgOrProp) {
            o.css("width", "");
            o.css("height", m + "px");
            i = $(this).width();
            n = o.width();
            l.css("marginTop", "");
            l.css("marginLeft", ((i - n) / 2) + "px")
        } else {
            o.css("height", "");
            o.css("width", e + "px");
            i = $(this).height();
            n = o.height();
            l.css("marginLeft", "");
            l.css("marginTop", ((i - n) / 2) + "px")
        }
        o.removeClass("cardImgViewHide")
    });
    d.load(function () {
        var p = $(this), m = p.parents(".cardDiv"), g = p.parents(".photoNewCard"), n = g.height();
        var l = p.width(), f = p.height(), e = g.width(), k, o, j, i = l / f, h = m.attr("tmpPic");
        if (e / n <= i) {
            p.css("width", "");
            p.css("height", n + "px");
            k = g.width();
            o = p.width();
            j = (k - o) / 2;
            m.css("marginTop", "");
            m.css("marginLeft", j + "px")
        } else {
            p.css("height", "");
            p.css("width", e + "px");
            k = g.height();
            o = p.height();
            j = (k - o) / 2;
            m.css("marginLeft", "");
            m.css("marginTop", j + "px")
        }
        jzUtils.run({name: "ImageEffect.FUNC.BASIC.Init", callMethod: true}, Fai.top["photoNewCard" + c])
    })
};
Site.resizePhotoNewCardHeight = function (a) {
    var k = a.find(".photoNewCardTable"), l = a.find(".formMiddleContent"), e = a.find(".photoNewCardOuter"),
        f = a.find(".photoNewCardInner"), h = k.find(".newCardDrag"), c = a.find(".cardTd"), b = e.attr("cusHeight"),
        d = h.length, i = a.height(), j = parseInt(l.css("marginTop").replace("px", ""));
    formMiddleContentMB = parseInt(l.css("marginBottom").replace("px", ""));
    photoNewCardInnerMT = parseInt(f.css("marginTop").replace("px", ""));
    photoNewCardInnerMB = parseInt(f.css("marginBottom").replace("px", ""));
    cellspacing = parseInt(k.attr("cellspacing"));
    if (b) {
        i = e.height();
        j = 0;
        formMiddleContentMB = 0
    }
    var g = i - j - formMiddleContentMB - photoNewCardInnerMT - photoNewCardInnerMB - (2 * cellspacing);
    c.each(function () {
        var o = $(this).find(".photoNewCard"), n = parseInt($(this).attr("rowspan")),
            m = (g - (d - 1) * cellspacing) / d || "";
        switch (n) {
            case 1:
                o.css("height", m - 1 + "px");
                break;
            case 2:
                o.css("height", (m * 2 + cellspacing) - 1 + "px");
                break;
            default:
                o.css("height", m - 1 + "px")
        }
    })
};
Site.adjustPhotoNewCard = function (b) {
    if (Fai.isNumber(b)) {
        var a = Fai.top.$("#module" + b);
        if (a.hasClass("formStyle85") && !a.find(".photoNewCardOuter").attr("cusHeight")) {
            Site.initPhotoNewCard(b);
            a.attr("_autoheight", 0)
        }
    } else {
        if (typeof b == "object") {
            var d = b;
            var e = d.find(".formStyle85");
            if (e.length > 0) {
                c(e)
            }
        } else {
            if (b == undefined) {
                var e = Fai.top.$(".formStyle85");
                if (e.length > 0) {
                    c(e)
                }
            }
        }
    }

    function c(f) {
        e.each(function () {
            var h = $(this).attr("id").replace("module", ""), g = $(this).find(".photoNewCardOuter"),
                i = g.attr("cusHeight");
            if (i) {
                return true
            }
            Site.initPhotoNewCard(h);
            $(this).attr("_autoheight", 1)
        })
    }
};
Site.addPhotoNewCardModuleHeight = function (a) {
    var d = Fai.top.$("#module" + a), h = d.find(".formBanner").height(), e = d.find(".photoNewCardOuter"),
        c = d.find(".photoNewCard"), l = d.width(), g = d.height(), j = l / 960, k = e.attr("cusHeight"),
        i = e.height(), b = g * j;
    if (k) {
        b = i
    }
    var f = (d.find(".newCardDrag").length) / 2;
    d.css("height", b * f + "px");
    Site.initPhotoNewCard(a);
    Site.scrollToModuleDiv(d);
    Site.getModuleAttrPattern(a).changed = true;
    d.attr("_autoheight", 0)
};
Site.hideDrag = function (a) {
    $("#module" + a).find(".photoNewCardTable").find(".drag").each(function () {
        $(this).css("display", "none")
    })
};
Site.initPhotoMoreCard = function (b, c) {
    var a = Fai.top.$("#module" + b);
    Site.resizePhotoMoreCardHeight(a, c);
    Site.setPhotoMoreCardHeight(a);
    Site.adjustPhotoMoreCardImgSize(a);
    jzUtils.run({name: "ImageEffect.FUNC.BASIC.Init", callMethod: true}, Fai.top["photoMoreCard" + b])
};
Site.setPhotoMoreCardHeight = function (a) {
    var b = a.find(".moreCardTd");
    b.each(function () {
        var f = $(this).height(), c = $(this).width(), g = $(this).find(".photoMoreCard"), h = g.height(),
            e = g.width(), d = parseInt(g.css("borderTopWidth").replace("px", "") || 0);
        if (h >= f) {
            g.css("height", f - 2 * d + "px")
        }
        if (e >= c) {
            g.css("width", c - 2 * d + "px")
        }
        if (g.attr("photoname") == "noPhoto") {
            g.css("border", "2px dashed #d4d4d4")
        }
    })
};
Site.adjustPhotoMoreCardImgSize = function (a) {
    var c = a.attr("id").replace("module", ""), b = a.find(".photoMoreCard"), d = a.find(".cardDivEffect .cardImg");
    Site.setPhotoMoreCardHeight(a);
    b.each(function () {
        var o = $(this).find(".cardImgView"), l = $(this).find(".cardDivEffect"), m = $(this).height();
        if (o.length < 1) {
            return true
        }
        var k = o.width(), g = o.height(), e = $(this).width(), i, n, f = k, j = g, h = l.attr("tmpPic");
        imgOrProp = f / j;
        if (e / m <= imgOrProp) {
            o.css("width", "");
            o.css("height", m + "px");
            i = $(this).width();
            n = o.width();
            l.css("marginTop", "");
            l.css("marginLeft", ((i - n) / 2) + "px")
        } else {
            o.css("height", "");
            o.css("width", e + "px");
            i = $(this).height();
            n = o.height();
            l.css("marginLeft", "");
            l.css("marginTop", ((i - n) / 2) + "px")
        }
        o.removeClass("cardImgViewHide")
    });
    d.load(function () {
        var p = $(this), m = p.parents(".cardDiv"), h = p.parents(".photoMoreCard"), n = h.height();
        var l = p.width(), f = p.height(), e = h.width(), k, o, j, i = l / f, g = m.attr("tmpPic");
        if (e / n <= i) {
            p.css("width", "");
            p.css("height", n + "px");
            k = h.width();
            o = p.width();
            j = (k - o) / 2;
            m.css("marginTop", "");
            m.css("marginLeft", j + "px")
        } else {
            p.css("height", "");
            p.css("width", e + "px");
            k = h.height();
            o = p.height();
            j = (k - o) / 2;
            m.css("marginLeft", "");
            m.css("marginTop", j + "px")
        }
    })
};
Site.resizePhotoMoreCardHeight = function (b, d) {
    var p = b.find(".photoMoreCardTable"), q = b.find(".formMiddleContent"), c = b.find(".photoMoreCardOuter"),
        e = b.find(".photoMoreCardInner"), m = p.find(".moreCardDrag"), i = b.find(".moreCardTd"), k = 1, h = 1,
        j = false, f = c.attr("cusHeight"), g = m.length, a = b.width(), n = b.height(),
        o = parseInt((q.css("marginTop") || "0").replace("px", ""));
    formMiddleContentMB = parseInt((q.css("marginBottom") || "0").replace("px", ""));
    photoMoreCardInnerMT = parseInt((e.css("marginTop") || "0").replace("px", ""));
    photoMoreCardInnerMB = parseInt((e.css("marginBottom") || "0").replace("px", ""));
    cellspacing = parseInt(p.attr("cellspacing"));
    if (f) {
        n = c.height();
        o = 0;
        formMiddleContentMB = 0
    }
    var l = n - o - formMiddleContentMB - photoMoreCardInnerMT - photoMoreCardInnerMB - (2 * cellspacing);
    if (d != null) {
        b.find(".moreCardDrag").each(function (s, t) {
            var r = parseInt($(this).attr("num"));
            if (s == 0) {
                k = (a - ((2 + r) * cellspacing)) / (d - ((2 + r) * cellspacing))
            } else {
                h = (a - ((2 + r) * cellspacing)) / (d - ((2 + r) * cellspacing));
                return false
            }
        });
        j = true
    }
    i.each(function () {
        var t = $(this).find(".photoMoreCard"), s = parseInt($(this).attr("rowspan")), u = $(this).width(),
            r = Math.floor((l - (g - 1) * cellspacing) / g) || "";
        $(this).css("padding-top", cellspacing + "px");
        $(this).css("padding-left", cellspacing + "px");
        if (j) {
            if ($(this).parents(".moreCardDrag").attr("tr") == 0) {
                $(this).css("width", u * k + "px");
                t.css("width", u * k + "px")
            } else {
                $(this).css("width", u * h + "px");
                t.css("width", u * h + "px")
            }
        }
    });
    Site.resizePhotoMoreCartShape(b)
};
Site.resizePhotoMoreCartShape = function (c) {
    var r = c.find(".photoMoreCardTable"), i = c.find(".photoMoreCardOuter"), n = c.find(".moreCardDrag"),
        l = c.find(".moreCardTd"), b = parseInt(r.attr("cellspacing")),
        u = parseInt(c.find(".photoMoreCardInner").attr("cardstyle")) || 0;
    var n = c.find(".moreCardDrag"), t = n.length, p = t / 2, d = c.height() - (t + 1) * b, a = d / (p), h, m, s, g, e,
        l;
    o(c);
    var k = 0;
    n.each(function (w, x) {
        var v = $(this).find(".noPhoto");
        var y = v.length > 0;
        if (y) {
            j($(this), v)
        }
        k += $(this).find(".moreCardTd").last().height()
    });

    function j(x, v) {
        var w = v.first().prev();
        if (w.length > 0 && w.attr("rowspan") != "2") {
            x.find(".noPhoto, .noPhoto .photoMoreCard").css("height", w.height());
            return
        }
        if (w.length > 0 && w.attr("rowspan") == "2") {
            x.find(".noPhoto, .noPhoto .photoMoreCard").css("height", (w.height() - u) / 2);
            return
        }
        if (w.length == 0) {
            var y = x.prev().find(".moreCardTd").last().height();
            x.find(".noPhoto, .noPhoto .photoMoreCard").css("height", a - y)
        }
    }

    var q = [];
    c.find(".moreCardTd").each(function () {
        var v = $(this).height();
        if ($(this).attr("rowspan") == "2") {
            q.push($(this))
        } else {
            $(this).css("height", Math.floor(d * v / k));
            $(this).find(".photoMoreCard").css("height", Math.floor(d * v / k))
        }
    });
    $.each(q, function (w, y) {
        if (y.attr("rowspan") == "2") {
            var x = y.next().height();
            var v = y.parent().next().find(".moreCardTd").first().height();
            y.css("height", Math.floor(x + v + b));
            y.find(".photoMoreCard").css("height", Math.floor(x + v + b))
        }
    });
    f();

    function f() {
        n.each(function () {
            var w = $(this).find(".noPhoto");
            if (w.length < 1) {
                return true
            }
            var v = $(this).children(), x = v.first();
            if (!x.hasClass("noPhoto") && x.attr("rowspan") != "2") {
                v.css("height", x.height())
            }
        })
    }

    function o(v) {
        v.find(".moreCardTd").each(function () {
            var x = $(this), w = x.height();
            if (w === 0) {
                x.height(1)
            }
            x.find(".photoMoreCard").each(function () {
                var y = $(this), z = y.height();
                if (z === 0) {
                    y.height(1)
                }
            })
        })
    }
};
Site.adjustPhotoMoreCard = function (d) {
    if (Fai.isNumber(d)) {
        var b = Fai.top.$("#module" + d);
        if (b.hasClass("formStyle98") && !b.find(".photoMoreCardOuter").attr("cusHeight")) {
            Site.initPhotoMoreCard(d);
            b.attr("_autoheight", 0)
        }
    } else {
        if (typeof d == "object") {
            var e = d;
            var c = e.find(".formStyle98");
            if (c.length > 0) {
                a(c)
            }
        } else {
            if (d == undefined) {
                var c = Fai.top.$(".formStyle98");
                if (c.length > 0) {
                    a(c)
                }
            }
        }
    }

    function a(f) {
        c.each(function () {
            var h = $(this).attr("id").replace("module", ""), g = $(this).find(".photoMoreCardOuter"),
                j = g.attr("cusHeight"), i = parseInt($(this).data("contentWidth")) || undefined;
            if (j) {
                return true
            }
            Site.initPhotoMoreCard(h, i);
            $(this).attr("_autoheight", 1)
        })
    }
};
Site.photoMoreCardHideDrag = function (a) {
    $("#module" + a).find(".photoMoreCardTable").find(".drag").each(function () {
        $(this).css("display", "none")
    })
};
Site.initPhotoMoreCardTdLength = function (d, b) {
    var a = $("#module" + d), c = a.find(".photoMoreCardTable"), e = parseInt(c.attr("cellspacing"));
    a.data("photoStyleId", b);
    if (b == 0) {
        a.find(".moreCardDrag").each(function (g, h) {
            var f = $(this).attr("num");
            if (f == 0) {
                $(this).attr("num", 1)
            } else {
                $(this).attr("num", 2)
            }
        })
    } else {
        if (b == 1) {
            a.find(".moreCardDrag").each(function (g, h) {
                var f = $(this).attr("num");
                if (f == 0) {
                    $(this).attr("num", 2)
                } else {
                    $(this).attr("num", 1)
                }
            })
        } else {
            if (b == 2) {
                a.find(".moreCardDrag").each(function (g, h) {
                    var f = $(this).attr("num");
                    if (f == 0) {
                        $(this).attr("num", 2)
                    } else {
                        $(this).attr("num", 2)
                    }
                })
            } else {
                if (b == 3) {
                    a.find(".moreCardDrag").each(function (g, h) {
                        var f = $(this).attr("num");
                        if (f == 0) {
                            $(this).attr("num", 1)
                        } else {
                            $(this).attr("num", 2)
                        }
                    })
                } else {
                    if (b == 4) {
                        a.find(".moreCardDrag").each(function (g, h) {
                            var f = $(this).attr("num");
                            if (f == 0) {
                                $(this).attr("num", 1)
                            } else {
                                $(this).attr("num", 2)
                            }
                        })
                    } else {
                        if (b == 5) {
                            a.find(".moreCardDrag").each(function (g, h) {
                                var f = $(this).attr("num");
                                if (f == 0) {
                                    $(this).attr("num", 2)
                                } else {
                                    $(this).attr("num", 1)
                                }
                            })
                        } else {
                            if (b == 6) {
                                a.find(".moreCardDrag").each(function (g, h) {
                                    var f = $(this).attr("num");
                                    if (f == 0) {
                                        $(this).attr("num", 3)
                                    } else {
                                        $(this).attr("num", 2)
                                    }
                                })
                            } else {
                                if (b == 7) {
                                    a.find(".moreCardDrag").each(function (g, h) {
                                        var f = $(this).attr("num");
                                        if (f == 0) {
                                            $(this).attr("num", 2)
                                        } else {
                                            $(this).attr("num", 1)
                                        }
                                    })
                                } else {
                                    if (b == 8) {
                                        a.find(".moreCardDrag").each(function (g, h) {
                                            var f = $(this).attr("num");
                                            if (f == 0) {
                                                $(this).attr("num", 1)
                                            } else {
                                                $(this).attr("num", 2)
                                            }
                                        })
                                    } else {
                                        if (b == 9) {
                                            a.find(".moreCardDrag").each(function (g, h) {
                                                var f = $(this).attr("num");
                                                if (f == 0) {
                                                    $(this).attr("num", 1)
                                                } else {
                                                    $(this).attr("num", 0)
                                                }
                                            })
                                        } else {
                                            if (b == 10) {
                                                a.find(".moreCardDrag").each(function (g, h) {
                                                    var f = $(this).attr("num");
                                                    if (f == 0) {
                                                        $(this).attr("num", 0)
                                                    } else {
                                                        $(this).attr("num", 1)
                                                    }
                                                })
                                            } else {
                                                if (b == 11) {
                                                    a.find(".moreCardDrag").each(function (g, h) {
                                                        var f = $(this).attr("num");
                                                        if (f == 0) {
                                                            $(this).attr("num", 1)
                                                        } else {
                                                            $(this).attr("num", 1)
                                                        }
                                                    })
                                                } else {
                                                    if (b == 12) {
                                                        a.find(".moreCardDrag").each(function (g, h) {
                                                            var f = $(this).attr("num");
                                                            if (f == 0) {
                                                                $(this).attr("num", 2)
                                                            } else {
                                                                $(this).attr("num", 2)
                                                            }
                                                        })
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
};
Site.firstPhotoMoreCardInit = function (b, o) {
    var c = $("#module" + b), p = c.find(".photoMoreCardTable"), g = parseInt(p.attr("cellspacing")), n = c.width(),
        j = c.height(), f;
    c.data("photoStyleId", o);
    if (o == 0) {
        var f = Math.ceil(c.find(".moreCardTd").length / 4), l = (n - 3 * g) * 0.35, k = (n - 3 * g) * 0.65,
            e = (n - 4 * g - l) * 0.5, m = e, a = (j - (f + 1) * g) / f, i = (a - g) / 2, h = i, d = h;
        c.find(".moreCardTd").each(function (q, r) {
            q = q % 4;
            if (q == 0) {
                $(this).css("width", l + "px");
                $(this).css("height", a + "px")
            } else {
                if (q == 1) {
                    $(this).css("width", k + "px");
                    $(this).css("height", i + "px")
                } else {
                    if (q == 2) {
                        $(this).css("width", e + "px");
                        $(this).css("height", h + "px")
                    } else {
                        if (q == 3) {
                            $(this).css("width", m + "px");
                            $(this).css("height", d + "px")
                        }
                    }
                }
            }
        })
    } else {
        if (o == 1) {
            var f = Math.ceil(c.find(".moreCardTd").length / 4);
            l = (n - 3 * g) * 0.35, k = (n - 4 * g - l) * 0.5, e = k, m = (n - 3 * g) * 0.65, a = (j - (f + 1) * g) / f, i = (a - g) / 2, h = i, d = h;
            c.find(".moreCardTd").each(function (q, r) {
                q = q % 4;
                if (q == 0) {
                    $(this).css("width", l + "px");
                    $(this).css("height", a + "px")
                } else {
                    if (q == 1) {
                        $(this).css("width", k + "px");
                        $(this).css("height", i + "px")
                    } else {
                        if (q == 2) {
                            $(this).css("width", e + "px");
                            $(this).css("height", h + "px")
                        } else {
                            if (q == 3) {
                                $(this).css("width", m + "px");
                                $(this).css("height", d + "px")
                            }
                        }
                    }
                }
            })
        } else {
            if (o == 2) {
                var f = Math.ceil(c.find(".moreCardTd").length / 5);
                l = (n - 4 * g) * 0.35, k = (n - 4 * g - l) * 0.5, e = k, m = e, fifthWidth = m, a = (j - (f + 1) * g) / f, i = (a - g) / 2, h = i, d = h, fifthHeight = d;
                c.find(".moreCardTd").each(function (q, r) {
                    q = q % 5;
                    if (q == 0) {
                        $(this).css("width", l + "px");
                        $(this).css("height", a + "px")
                    } else {
                        if (q == 1) {
                            $(this).css("width", k + "px");
                            $(this).css("height", i + "px")
                        } else {
                            if (q == 2) {
                                $(this).css("width", e + "px");
                                $(this).css("height", h + "px")
                            } else {
                                if (q == 3) {
                                    $(this).css("width", m + "px");
                                    $(this).css("height", d + "px")
                                } else {
                                    if (q == 4) {
                                        $(this).css("width", fifthWidth + "px");
                                        $(this).css("height", fifthHeight + "px")
                                    }
                                }
                            }
                        }
                    }
                })
            } else {
                if (o == 3) {
                    var f = Math.ceil(c.find(".moreCardTd").length / 5);
                    l = (n - 3 * g) * 0.35, k = (n - 3 * g) * 0.65, e = l, m = (n - 4 * g - l) * 0.5, fifthWidth = m, a = ((j - (f + 1) * g) / f - g) / 2, i = a, h = i, d = h, fifthHeight = d;
                    c.find(".moreCardTd").each(function (q, r) {
                        q = q % 5;
                        if (q == 0) {
                            $(this).css("width", l + "px");
                            $(this).css("height", a + "px")
                        } else {
                            if (q == 1) {
                                $(this).css("width", k + "px");
                                $(this).css("height", i + "px")
                            } else {
                                if (q == 2) {
                                    $(this).css("width", e + "px");
                                    $(this).css("height", h + "px")
                                } else {
                                    if (q == 3) {
                                        $(this).css("width", m + "px");
                                        $(this).css("height", d + "px")
                                    } else {
                                        if (q == 4) {
                                            $(this).css("width", fifthWidth + "px");
                                            $(this).css("height", fifthHeight + "px")
                                        }
                                    }
                                }
                            }
                        }
                    })
                } else {
                    if (o == 4) {
                        var f = Math.ceil(c.find(".moreCardTd").length / 5);
                        l = (n - 3 * g) * 0.65, k = (n - 3 * g) * 0.35, e = (n - 4 * g - k) * 0.5, m = e, fifthWidth = k, a = ((j - (f + 1) * g) / f - g) / 2, i = a, h = i, d = h, fifthHeight = d;
                        c.find(".moreCardTd").each(function (q, r) {
                            q = q % 5;
                            if (q == 0) {
                                $(this).css("width", l + "px");
                                $(this).css("height", a + "px")
                            } else {
                                if (q == 1) {
                                    $(this).css("width", k + "px");
                                    $(this).css("height", i + "px")
                                } else {
                                    if (q == 2) {
                                        $(this).css("width", e + "px");
                                        $(this).css("height", h + "px")
                                    } else {
                                        if (q == 3) {
                                            $(this).css("width", m + "px");
                                            $(this).css("height", d + "px")
                                        } else {
                                            if (q == 4) {
                                                $(this).css("width", fifthWidth + "px");
                                                $(this).css("height", fifthHeight + "px")
                                            }
                                        }
                                    }
                                }
                            }
                        })
                    } else {
                        if (o == 5) {
                            var f = Math.ceil(c.find(".moreCardTd").length / 5);
                            m = (n - 3 * g) * 0.65, fifthWidth = (n - 3 * g) * 0.35, l = (n - 4 * g - fifthWidth) * 0.5, k = l, e = (n - 4 * g) * 0.35, a = ((j - (f + 1) * g) / f - g) / 2, i = a, h = i, d = h, fifthHeight = d;
                            c.find(".moreCardTd").each(function (q, r) {
                                q = q % 5;
                                if (q == 0) {
                                    $(this).css("width", l + "px");
                                    $(this).css("height", a + "px")
                                } else {
                                    if (q == 1) {
                                        $(this).css("width", k + "px");
                                        $(this).css("height", i + "px")
                                    } else {
                                        if (q == 2) {
                                            $(this).css("width", e + "px");
                                            $(this).css("height", h + "px")
                                        } else {
                                            if (q == 3) {
                                                $(this).css("width", m + "px");
                                                $(this).css("height", d + "px")
                                            } else {
                                                if (q == 4) {
                                                    $(this).css("width", fifthWidth + "px");
                                                    $(this).css("height", fifthHeight + "px")
                                                }
                                            }
                                        }
                                    }
                                }
                            })
                        } else {
                            if (o == 6) {
                                var f = Math.ceil(c.find(".moreCardTd").length / 7);
                                l = (n - 5 * g) * 0.25, k = l, e = k, m = e, fifthWidth = l * 2 + g, sixthWidth = m, seventhWidth = sixthWidth, a = ((j - (f + 1) * g) / f - g) / 2, i = a, h = i, d = h, fifthHeight = d;
                                sixthHeight = fifthHeight, seventhHeight = sixthHeight;
                                c.find(".moreCardTd").each(function (q, r) {
                                    q = q % 7;
                                    if (q == 0) {
                                        $(this).css("width", l + "px");
                                        $(this).css("height", a + "px")
                                    } else {
                                        if (q == 1) {
                                            $(this).css("width", k + "px");
                                            $(this).css("height", i + "px")
                                        } else {
                                            if (q == 2) {
                                                $(this).css("width", e + "px");
                                                $(this).css("height", h + "px")
                                            } else {
                                                if (q == 3) {
                                                    $(this).css("width", m + "px");
                                                    $(this).css("height", d + "px")
                                                } else {
                                                    if (q == 4) {
                                                        $(this).css("width", fifthWidth + "px");
                                                        $(this).css("height", fifthHeight + "px")
                                                    } else {
                                                        if (q == 5) {
                                                            $(this).css("width", sixthWidth + "px");
                                                            $(this).css("height", sixthHeight + "px")
                                                        } else {
                                                            if (q == 6) {
                                                                $(this).css("width", seventhWidth + "px");
                                                                $(this).css("height", seventhHeight + "px")
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                })
                            } else {
                                if (o == 7) {
                                    var f = Math.ceil(c.find(".moreCardTd").length / 5);
                                    l = (n - 4 * g) * 0.33, k = (n - 4 * g) * 0.34, e = l, m = (n - 3 * g) * 0.5, fifthWidth = m, a = ((j - (f + 1) * g) / f - g) / 2, i = a, h = i, d = h, fifthHeight = d;
                                    c.find(".moreCardTd").each(function (q, r) {
                                        q = q % 5;
                                        if (q == 0) {
                                            $(this).css("width", l + "px");
                                            $(this).css("height", a + "px")
                                        } else {
                                            if (q == 1) {
                                                $(this).css("width", k + "px");
                                                $(this).css("height", i + "px")
                                            } else {
                                                if (q == 2) {
                                                    $(this).css("width", e + "px");
                                                    $(this).css("height", h + "px")
                                                } else {
                                                    if (q == 3) {
                                                        $(this).css("width", m + "px");
                                                        $(this).css("height", d + "px")
                                                    } else {
                                                        if (q == 4) {
                                                            $(this).css("width", fifthWidth + "px");
                                                            $(this).css("height", fifthHeight + "px")
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    })
                                } else {
                                    if (o == 8) {
                                        var f = Math.ceil(c.find(".moreCardTd").length / 5);
                                        l = (n - 3 * g) * 0.5, k = l, e = (n - 4 * g) * 0.33, m = (n - 4 * g) * 0.34, fifthWidth = e, a = ((j - (f + 1) * g) / f - g) / 2, i = a, h = i, d = h, fifthHeight = d;
                                        c.find(".moreCardTd").each(function (q, r) {
                                            q = q % 5;
                                            if (q == 0) {
                                                $(this).css("width", l + "px");
                                                $(this).css("height", a + "px")
                                            } else {
                                                if (q == 1) {
                                                    $(this).css("width", k + "px");
                                                    $(this).css("height", i + "px")
                                                } else {
                                                    if (q == 2) {
                                                        $(this).css("width", e + "px");
                                                        $(this).css("height", h + "px")
                                                    } else {
                                                        if (q == 3) {
                                                            $(this).css("width", m + "px");
                                                            $(this).css("height", d + "px")
                                                        } else {
                                                            if (q == 4) {
                                                                $(this).css("width", fifthWidth + "px");
                                                                $(this).css("height", fifthHeight + "px")
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        })
                                    } else {
                                        if (o == 9) {
                                            var f = Math.ceil(c.find(".moreCardTd").length / 3);
                                            l = (n - 3 * g) * 0.5, k = l, e = (n - 2 * g) * 1, a = ((j - (f + 1) * g) / f - g) / 2, i = a, h = i;
                                            c.find(".moreCardTd").each(function (q, r) {
                                                q = q % 3;
                                                if (q == 0) {
                                                    $(this).css("width", l + "px");
                                                    $(this).css("height", a + "px")
                                                } else {
                                                    if (q == 1) {
                                                        $(this).css("width", k + "px");
                                                        $(this).css("height", i + "px")
                                                    } else {
                                                        if (q == 2) {
                                                            $(this).css("width", e + "px");
                                                            $(this).css("height", h + "px")
                                                        }
                                                    }
                                                }
                                            })
                                        } else {
                                            if (o == 10) {
                                                var f = Math.ceil(c.find(".moreCardTd").length / 3);
                                                l = (n - 2 * g) * 1, k = (n - 3 * g) * 0.5, e = k, a = ((j - (f + 1) * g) / f - g) / 2, i = a, h = i;
                                                c.find(".moreCardTd").each(function (q, r) {
                                                    q = q % 3;
                                                    if (q == 0) {
                                                        $(this).css("width", l + "px");
                                                        $(this).css("height", a + "px")
                                                    } else {
                                                        if (q == 1) {
                                                            $(this).css("width", k + "px");
                                                            $(this).css("height", i + "px")
                                                        } else {
                                                            if (q == 2) {
                                                                $(this).css("width", e + "px");
                                                                $(this).css("height", h + "px")
                                                            }
                                                        }
                                                    }
                                                })
                                            } else {
                                                if (o == 11) {
                                                    var f = Math.ceil(c.find(".moreCardTd").length / 4);
                                                    l = (n - 3 * g) * 0.65, k = (n - 3 * g) * 0.35, e = k, m = l, a = ((j - (f + 1) * g) / f - g) / 2, i = a, h = i, d = h;
                                                    c.find(".moreCardTd").each(function (q, r) {
                                                        q = q % 4;
                                                        if (q == 0) {
                                                            $(this).css("width", l + "px");
                                                            $(this).css("height", a + "px")
                                                        } else {
                                                            if (q == 1) {
                                                                $(this).css("width", k + "px");
                                                                $(this).css("height", i + "px")
                                                            } else {
                                                                if (q == 2) {
                                                                    $(this).css("width", e + "px");
                                                                    $(this).css("height", h + "px")
                                                                } else {
                                                                    if (q == 3) {
                                                                        $(this).css("width", m + "px");
                                                                        $(this).css("height", d + "px")
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    })
                                                } else {
                                                    if (o == 12) {
                                                        var f = Math.ceil(c.find(".moreCardTd").length / 6);
                                                        l = (n - 4 * g) * 0.43, k = (n - 4 * g) * 0.34, e = (n - 4 * g) * 0.23, m = e, fifthWidth = k, sixthWidth = l, a = ((j - (f + 1) * g) / f - g) / 2, i = a, h = i, d = h, fifthHeight = d;
                                                        sixthHeight = fifthHeight;
                                                        c.find(".moreCardTd").each(function (q, r) {
                                                            q = q % 6;
                                                            if (q == 0) {
                                                                $(this).css("width", l + "px");
                                                                $(this).css("height", a + "px")
                                                            } else {
                                                                if (q == 1) {
                                                                    $(this).css("width", k + "px");
                                                                    $(this).css("height", i + "px")
                                                                } else {
                                                                    if (q == 2) {
                                                                        $(this).css("width", e + "px");
                                                                        $(this).css("height", h + "px")
                                                                    } else {
                                                                        if (q == 3) {
                                                                            $(this).css("width", m + "px");
                                                                            $(this).css("height", d + "px")
                                                                        } else {
                                                                            if (q == 4) {
                                                                                $(this).css("width", fifthWidth + "px");
                                                                                $(this).css("height", fifthHeight + "px")
                                                                            } else {
                                                                                if (q == 5) {
                                                                                    $(this).css("width", sixthWidth + "px");
                                                                                    $(this).css("height", sixthHeight + "px")
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        })
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
    Site.adjustPhotoMoreCardImgSize(c)
};
Site.nophotoMoreCardInit = function (a, l) {
    var b = $("#module" + a), m = b.find(".photoMoreCardTable"), e = parseInt(m.attr("cellspacing")), k = b.width(),
        f = b.height(), c;
    if (l == 0) {
        var j, h, g, i = b.find(".noPhoto").length, d = b.find(".noPhoto").eq(0).attr("number");
        if (i == 1) {
            j = b.find(".moreCardTd").eq(d - 1).width();
            h = b.find(".moreCardTd").eq(d - 2).width() - j - e;
            b.find(".noPhoto").eq(0).css("width", h + "px")
        } else {
            if (i == 2) {
                j = b.find(".moreCardTd").eq(d - 1).width();
                h = (j - e) / 2;
                g = h;
                b.find(".noPhoto").eq(0).css("width", h + "px");
                b.find(".noPhoto").eq(1).css("width", g + "px")
            } else {
                if (i == 3) {
                    j = b.find(".moreCardTd").eq(d - 1).width();
                    h = k - j - 3 * e;
                    g = (k - j - 4 * e) / 2;
                    b.find(".noPhoto").eq(0).css("width", h + "px");
                    b.find(".noPhoto").eq(1).css("width", g + "px");
                    b.find(".noPhoto").eq(2).css("width", g + "px")
                }
            }
        }
    } else {
        if (l == 1) {
            var j, h, g, i = b.find(".noPhoto").length, d = b.find(".noPhoto").eq(0).attr("number");
            if (i == 1) {
                j = b.find(".moreCardTd").eq(d - 1).width();
                h = b.find(".moreCardTd").eq(d - 2).width() + j + e;
                b.find(".noPhoto").eq(0).css("width", h + "px")
            } else {
                if (i == 2) {
                    j = b.find(".moreCardTd").eq(d - 2).width();
                    h = k - 3 * e - j;
                    g = h - b.find(".moreCardTd").eq(d - 1).width() - e;
                    b.find(".noPhoto").eq(0).css("width", g + "px");
                    b.find(".noPhoto").eq(1).css("width", h + "px")
                } else {
                    if (i == 3) {
                        j = b.find(".moreCardTd").eq(d - 1).width();
                        h = k - j - 3 * e;
                        g = (k - j - 4 * e) / 2;
                        b.find(".noPhoto").eq(0).css("width", g + "px");
                        b.find(".noPhoto").eq(1).css("width", g + "px");
                        b.find(".noPhoto").eq(2).css("width", h + "px")
                    }
                }
            }
        } else {
            if (l == 2) {
                var j, h, g, i = b.find(".noPhoto").length, d = b.find(".noPhoto").eq(0).attr("number");
                if (i == 1) {
                    j = b.find(".moreCardTd").eq(d - 4).width();
                    h = k - b.find(".moreCardTd").eq(d - 1).width() - j - 4 * e;
                    b.find(".noPhoto").eq(0).css("width", h + "px")
                } else {
                    if (i == 2) {
                        j = b.find(".moreCardTd").eq(d - 3).width();
                        h = (k - 4 * e - j) / 2;
                        b.find(".noPhoto").eq(0).css("width", h + "px");
                        b.find(".noPhoto").eq(1).css("width", h + "px")
                    } else {
                        if (i == 3) {
                            j = b.find(".moreCardTd").eq(d - 2).width();
                            h = k - b.find(".moreCardTd").eq(d - 1).width() - j - 4 * e;
                            g = (k - j - 4 * e) / 2;
                            b.find(".noPhoto").eq(0).css("width", h + "px");
                            b.find(".noPhoto").eq(1).css("width", g + "px");
                            b.find(".noPhoto").eq(2).css("width", g + "px")
                        } else {
                            if (i == 4) {
                                j = b.find(".moreCardTd").eq(d - 1).width();
                                h = (k - 4 * e - j) / 2;
                                b.find(".noPhoto").eq(0).css("width", h + "px");
                                b.find(".noPhoto").eq(1).css("width", h + "px");
                                b.find(".noPhoto").eq(2).css("width", h + "px");
                                b.find(".noPhoto").eq(3).css("width", h + "px")
                            }
                        }
                    }
                }
            } else {
                if (l == 3) {
                    var j, h, g, i = b.find(".noPhoto").length, d = b.find(".noPhoto").eq(0).attr("number");
                    if (i == 1) {
                        j = k - b.find(".moreCardTd").eq(d - 1).width() - b.find(".moreCardTd").eq(d - 2).width() - 4 * e;
                        b.find(".noPhoto").eq(0).css("width", j + "px")
                    } else {
                        if (i == 2) {
                            j = (k - b.find(".moreCardTd").eq(d - 1).width() - 4 * e) / 2;
                            b.find(".noPhoto").eq(0).css("width", j + "px");
                            b.find(".noPhoto").eq(1).css("width", j + "px")
                        } else {
                            if (i == 3) {
                                j = (k - 4 * e) / 3;
                                b.find(".noPhoto").eq(0).css("width", j + "px");
                                b.find(".noPhoto").eq(1).css("width", j + "px");
                                b.find(".noPhoto").eq(2).css("width", j + "px")
                            } else {
                                if (i == 4) {
                                    j = k - b.find(".moreCardTd").eq(d - 1).width() - 3 * e;
                                    h = (k - 4 * e) / 3;
                                    b.find(".noPhoto").eq(0).css("width", j + "px");
                                    b.find(".noPhoto").eq(1).css("width", h + "px");
                                    b.find(".noPhoto").eq(2).css("width", h + "px");
                                    b.find(".noPhoto").eq(3).css("width", h + "px")
                                }
                            }
                        }
                    }
                } else {
                    if (l == 4) {
                        var j, h, g, i = b.find(".noPhoto").length, d = b.find(".noPhoto").eq(0).attr("number");
                        if (i == 1) {
                            j = k - b.find(".moreCardTd").eq(d - 1).width() - b.find(".moreCardTd").eq(d - 2).width() - 4 * e;
                            b.find(".noPhoto").eq(0).css("width", j + "px")
                        } else {
                            if (i == 2) {
                                j = (k - b.find(".moreCardTd").eq(d - 1).width() - 4 * e) / 2;
                                b.find(".noPhoto").eq(0).css("width", j + "px");
                                b.find(".noPhoto").eq(1).css("width", j + "px")
                            } else {
                                if (i == 3) {
                                    j = (k - 4 * e) / 3;
                                    b.find(".noPhoto").eq(0).css("width", j + "px");
                                    b.find(".noPhoto").eq(1).css("width", j + "px");
                                    b.find(".noPhoto").eq(2).css("width", j + "px")
                                } else {
                                    if (i == 4) {
                                        j = k - b.find(".moreCardTd").eq(d - 1).width() - 3 * e;
                                        h = (k - 4 * e) / 3;
                                        b.find(".noPhoto").eq(0).css("width", j + "px");
                                        b.find(".noPhoto").eq(1).css("width", h + "px");
                                        b.find(".noPhoto").eq(2).css("width", h + "px");
                                        b.find(".noPhoto").eq(3).css("width", h + "px")
                                    }
                                }
                            }
                        }
                    } else {
                        if (l == 5) {
                            var j, h, g, i = b.find(".noPhoto").length, d = b.find(".noPhoto").eq(0).attr("number");
                            if (i == 1) {
                                j = k - b.find(".moreCardTd").eq(d - 1).width() - 3 * e;
                                b.find(".noPhoto").eq(0).css("width", j + "px")
                            } else {
                                if (i == 2) {
                                    j = (k - 3 * e) / 2;
                                    b.find(".noPhoto").eq(0).css("width", j + "px");
                                    b.find(".noPhoto").eq(1).css("width", j + "px")
                                } else {
                                    if (i == 3) {
                                        j = k - b.find(".moreCardTd").eq(d - 1).width() - b.find(".moreCardTd").eq(d - 2).width() - 4 * e;
                                        h = (k - 3 * e) / 2;
                                        b.find(".noPhoto").eq(0).css("width", j + "px");
                                        b.find(".noPhoto").eq(1).css("width", h + "px");
                                        b.find(".noPhoto").eq(2).css("width", h + "px")
                                    } else {
                                        if (i == 4) {
                                            j = (k - b.find(".moreCardTd").eq(d - 1).width() - 4 * e) / 2;
                                            h = (k - 3 * e) / 2;
                                            b.find(".noPhoto").eq(0).css("width", j + "px");
                                            b.find(".noPhoto").eq(1).css("width", j + "px");
                                            b.find(".noPhoto").eq(2).css("width", h + "px");
                                            b.find(".noPhoto").eq(3).css("width", h + "px")
                                        }
                                    }
                                }
                            }
                        } else {
                            if (l == 6) {
                                var j, h, g, i = b.find(".noPhoto").length, d = b.find(".noPhoto").eq(0).attr("number");
                                if (i == 1) {
                                    j = k - b.find(".moreCardTd").eq(d - 1).width() - b.find(".moreCardTd").eq(d - 2).width() - 4 * e;
                                    b.find(".noPhoto").eq(0).css("width", j + "px")
                                } else {
                                    if (i == 2) {
                                        j = (k - b.find(".moreCardTd").eq(d - 1).width() - 4 * e) / 2;
                                        b.find(".noPhoto").eq(0).css("width", j + "px");
                                        b.find(".noPhoto").eq(1).css("width", j + "px")
                                    } else {
                                        if (i == 3) {
                                            j = (k - 4 * e) / 3;
                                            b.find(".noPhoto").eq(0).css("width", j + "px");
                                            b.find(".noPhoto").eq(1).css("width", j + "px");
                                            b.find(".noPhoto").eq(2).css("width", j + "px")
                                        } else {
                                            if (i == 4) {
                                                j = k - b.find(".moreCardTd").eq(d - 1).width() - b.find(".moreCardTd").eq(d - 2).width() - b.find(".moreCardTd").eq(d - 3).width() - 5 * e;
                                                h = (k - 4 * e) / 3;
                                                b.find(".noPhoto").eq(0).css("width", j + "px");
                                                b.find(".noPhoto").eq(1).css("width", h + "px");
                                                b.find(".noPhoto").eq(2).css("width", h + "px");
                                                b.find(".noPhoto").eq(3).css("width", h + "px")
                                            } else {
                                                if (i == 5) {
                                                    j = (k - b.find(".moreCardTd").eq(d - 1).width() - b.find(".moreCardTd").eq(d - 2).width() - 5 * e) / 2;
                                                    h = (k - 4 * e) / 3;
                                                    b.find(".noPhoto").eq(0).css("width", j + "px");
                                                    b.find(".noPhoto").eq(1).css("width", j + "px");
                                                    b.find(".noPhoto").eq(2).css("width", h + "px");
                                                    b.find(".noPhoto").eq(3).css("width", h + "px");
                                                    b.find(".noPhoto").eq(4).css("width", h + "px")
                                                } else {
                                                    if (i == 6) {
                                                        j = (k - b.find(".moreCardTd").eq(d - 1).width() - 5 * e) / 3;
                                                        h = (k - 4 * e) / 3;
                                                        b.find(".noPhoto").eq(0).css("width", j + "px");
                                                        b.find(".noPhoto").eq(1).css("width", j + "px");
                                                        b.find(".noPhoto").eq(2).css("width", j + "px");
                                                        b.find(".noPhoto").eq(3).css("width", h + "px");
                                                        b.find(".noPhoto").eq(4).css("width", h + "px");
                                                        b.find(".noPhoto").eq(5).css("width", h + "px")
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            } else {
                                if (l == 7) {
                                    var j, h, g, i = b.find(".noPhoto").length,
                                        d = b.find(".noPhoto").eq(0).attr("number");
                                    if (i == 1) {
                                        j = k - b.find(".moreCardTd").eq(d - 1).width() - 3 * e;
                                        b.find(".noPhoto").eq(0).css("width", j + "px")
                                    } else {
                                        if (i == 2) {
                                            j = (k - 3 * e) / 2;
                                            b.find(".noPhoto").eq(0).css("width", j + "px");
                                            b.find(".noPhoto").eq(1).css("width", j + "px")
                                        } else {
                                            if (i == 3) {
                                                j = k - b.find(".moreCardTd").eq(d - 1).width() - b.find(".moreCardTd").eq(d - 2).width() - 4 * e;
                                                h = (k - 3 * e) / 2;
                                                b.find(".noPhoto").eq(0).css("width", j + "px");
                                                b.find(".noPhoto").eq(1).css("width", h + "px");
                                                b.find(".noPhoto").eq(2).css("width", h + "px")
                                            } else {
                                                if (i == 4) {
                                                    j = (k - b.find(".moreCardTd").eq(d - 1).width() - 4 * e) / 2;
                                                    h = (k - 3 * e) / 2;
                                                    b.find(".noPhoto").eq(0).css("width", j + "px");
                                                    b.find(".noPhoto").eq(1).css("width", j + "px");
                                                    b.find(".noPhoto").eq(2).css("width", h + "px");
                                                    b.find(".noPhoto").eq(3).css("width", h + "px")
                                                }
                                            }
                                        }
                                    }
                                } else {
                                    if (l == 8) {
                                        var j, h, g, i = b.find(".noPhoto").length,
                                            d = b.find(".noPhoto").eq(0).attr("number");
                                        if (i == 1) {
                                            j = k - b.find(".moreCardTd").eq(d - 1).width() - b.find(".moreCardTd").eq(d - 2).width() - 4 * e;
                                            b.find(".noPhoto").eq(0).css("width", j + "px")
                                        } else {
                                            if (i == 2) {
                                                j = (k - b.find(".moreCardTd").eq(d - 1).width() - 4 * e) / 2;
                                                b.find(".noPhoto").eq(0).css("width", j + "px");
                                                b.find(".noPhoto").eq(1).css("width", j + "px")
                                            } else {
                                                if (i == 3) {
                                                    j = (k - 4 * e) / 3;
                                                    b.find(".noPhoto").eq(0).css("width", j + "px");
                                                    b.find(".noPhoto").eq(1).css("width", j + "px");
                                                    b.find(".noPhoto").eq(2).css("width", j + "px")
                                                } else {
                                                    if (i == 4) {
                                                        j = k - b.find(".moreCardTd").eq(d - 1).width() - 3 * e;
                                                        h = (k - 4 * e) / 3;
                                                        b.find(".noPhoto").eq(0).css("width", j + "px");
                                                        b.find(".noPhoto").eq(1).css("width", h + "px");
                                                        b.find(".noPhoto").eq(2).css("width", h + "px");
                                                        b.find(".noPhoto").eq(3).css("width", h + "px")
                                                    }
                                                }
                                            }
                                        }
                                    } else {
                                        if (l == 9) {
                                            var j, h, g, i = b.find(".noPhoto").length,
                                                d = b.find(".noPhoto").eq(0).attr("number");
                                            if (i == 1) {
                                                j = k - 2 * e;
                                                b.find(".noPhoto").eq(0).css("width", j + "px")
                                            } else {
                                                if (i == 2) {
                                                    j = k - b.find(".moreCardTd").eq(d - 1).width() - 3 * e;
                                                    h = k - 2 * e;
                                                    b.find(".noPhoto").eq(0).css("width", j + "px");
                                                    b.find(".noPhoto").eq(1).css("width", h + "px")
                                                }
                                            }
                                        } else {
                                            if (l == 10) {
                                                var j, h, g, i = b.find(".noPhoto").length,
                                                    d = b.find(".noPhoto").eq(0).attr("number");
                                                if (i == 1) {
                                                    j = k - b.find(".moreCardTd").eq(d - 1).width() - 3 * e;
                                                    b.find(".noPhoto").eq(0).css("width", j + "px")
                                                } else {
                                                    if (i == 2) {
                                                        j = (k - 3 * e) / 2;
                                                        b.find(".noPhoto").eq(0).css("width", j + "px");
                                                        b.find(".noPhoto").eq(1).css("width", j + "px")
                                                    }
                                                }
                                            } else {
                                                if (l == 11) {
                                                    var j, h, g, i = b.find(".noPhoto").length,
                                                        d = b.find(".noPhoto").eq(0).attr("number");
                                                    if (i == 1) {
                                                        j = k - b.find(".moreCardTd").eq(d - 1).width() - 3 * e;
                                                        b.find(".noPhoto").eq(0).css("width", j + "px")
                                                    } else {
                                                        if (i == 2) {
                                                            j = (k - 3 * e) / 2;
                                                            b.find(".noPhoto").eq(0).css("width", j + "px");
                                                            b.find(".noPhoto").eq(1).css("width", j + "px")
                                                        } else {
                                                            if (i == 3) {
                                                                j = k - b.find(".moreCardTd").eq(d - 1).width() - 3 * e;
                                                                h = (k - 3 * e) / 2;
                                                                b.find(".noPhoto").eq(0).css("width", j + "px");
                                                                b.find(".noPhoto").eq(1).css("width", h + "px");
                                                                b.find(".noPhoto").eq(2).css("width", h + "px")
                                                            }
                                                        }
                                                    }
                                                } else {
                                                    if (l == 12) {
                                                        var j, h, g, i = b.find(".noPhoto").length,
                                                            d = b.find(".noPhoto").eq(0).attr("number");
                                                        if (i == 1) {
                                                            j = k - b.find(".moreCardTd").eq(d - 1).width() - b.find(".moreCardTd").eq(d - 2).width() - 4 * e;
                                                            b.find(".noPhoto").eq(0).css("width", j + "px")
                                                        } else {
                                                            if (i == 2) {
                                                                j = (k - b.find(".moreCardTd").eq(d - 1).width() - 4 * e) / 2;
                                                                b.find(".noPhoto").eq(0).css("width", j + "px");
                                                                b.find(".noPhoto").eq(1).css("width", j + "px")
                                                            } else {
                                                                if (i == 3) {
                                                                    j = (k - 4 * e) / 3;
                                                                    b.find(".noPhoto").eq(0).css("width", j + "px");
                                                                    b.find(".noPhoto").eq(1).css("width", j + "px");
                                                                    b.find(".noPhoto").eq(2).css("width", j + "px")
                                                                } else {
                                                                    if (i == 4) {
                                                                        j = k - b.find(".moreCardTd").eq(d - 1).width() - b.find(".moreCardTd").eq(d - 2).width() - 4 * e;
                                                                        h = (k - 4 * e) / 3;
                                                                        b.find(".noPhoto").eq(0).css("width", j + "px");
                                                                        b.find(".noPhoto").eq(1).css("width", h + "px");
                                                                        b.find(".noPhoto").eq(2).css("width", h + "px");
                                                                        b.find(".noPhoto").eq(3).css("width", h + "px")
                                                                    } else {
                                                                        if (i == 5) {
                                                                            j = (k - b.find(".moreCardTd").eq(d - 1).width() - 4 * e) / 2;
                                                                            h = (k - 4 * e) / 3;
                                                                            b.find(".noPhoto").eq(0).css("width", j + "px");
                                                                            b.find(".noPhoto").eq(1).css("width", j + "px");
                                                                            b.find(".noPhoto").eq(2).css("width", h + "px");
                                                                            b.find(".noPhoto").eq(3).css("width", h + "px");
                                                                            b.find(".noPhoto").eq(4).css("width", h + "px")
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
    Site.adjustPhotoMoreCardImgSize(b)
};
Site.initSimpleTextContent = function (d, c) {
    var b = Fai.top.$("#module" + d), a;
    if (c != 1) {
        if (b.is(":visible")) {
            if (Fai.isIE() || Fai.isMozilla()) {
                b.css({height: "auto", clear: "both"})
            } else {
                b.css({height: "auto"})
            }
            b.css("height", b.height())
        } else {
            a = b.clone();
            if (Fai.isIE() || Fai.isMozilla()) {
                a.attr("id", "").css({
                    position: "absolute",
                    visibility: "hidden",
                    height: "auto",
                    clear: "both"
                }).appendTo(Fai.top.$("body"))
            } else {
                a.attr("id", "").css({
                    position: "absolute",
                    visibility: "hidden",
                    height: "auto"
                }).appendTo(Fai.top.$("body"))
            }
            b.css("height", a.height());
            a.remove()
        }
    }
};
(function (h, e, f) {
    var b = {}, l = "fullmeasureOuterContentPage", g = false, k = false, c = false, j = false, a = 0, i = 0;
    var d = [];
    h(function () {
        var o = h(".formStyle80");
        setTimeout(function () {
            k = true;
            if (d.length > 0 || Fai.top._manageMode) {
                h("body").off("mousemove.fmGmainMousemove").on("mousemove.fmGmainMousemove", function (p) {
                    if (Fai.top._manageMode) {
                        if (h(".popupBg").length > 0) {
                            if (!j) {
                                j = true;
                                a = 0;
                                var w = h(".formStyle80");
                                if (w.length > 0) {
                                    w.each(function (y, A) {
                                        var z = h(A).attr("id");
                                        if (typeof(z) != f) {
                                            h("#module" + z.replace("module", "")).data("mouseenter", false)
                                        }
                                    })
                                }
                            }
                        } else {
                            j = false
                        }
                    }
                    if (d.length > 0) {
                        if (c) {
                            return
                        }
                        c = true;
                        a = 0;
                        var u = p || window.event;
                        var v = u.clientY;
                        var s = false;
                        for (var t = 0; t < d.length; t++) {
                            var r = h("#module" + d[t]);
                            var x = r.height();
                            var q = h("#module" + d[t])[0].getBoundingClientRect().top;
                            if (v >= q && v <= (x + q)) {
                                a = d[t];
                                s = true;
                                break
                            }
                        }
                        if (!s) {
                            a = 0
                        }
                        c = false
                    }
                })
            }
            if (Fai.top._manageMode) {
                h("body").off("click.fmGmainClick").on("click.fmGmainClick", function () {
                    if (i == 0) {
                        return
                    }
                    if (i != a) {
                        if (h("#faiFloatPanel").css("display") != "block") {
                            i = 0
                        }
                    }
                })
            }
        }, 1500);
        if (o.length > 0 || Fai.top._manageMode) {
            o.each(function (p, q) {
                var r = h(q).attr("id");
                if (typeof(r) != f) {
                    e.refFillRelativeDivHeight(r.replace("module", ""), true)
                }
            });
            if (Fai.top._colId == 8) {
                setTimeout(function () {
                    o.each(function (p, q) {
                        var r = h(q).attr("id");
                        if (typeof(r) != f) {
                            e.refFillRelativeDivHeight(r.replace("module", ""), true)
                        }
                    })
                }, 2500)
            }
            setTimeout(function () {
                g = true;
                o.each(function (p, r) {
                    var q = h(r).attr("id");
                    if (typeof(q) != f) {
                        q = q.replace("module", "");
                        e.refFillRelativeDivHeight(q, true);
                        e.dynamicSetArrowDom(q)
                    }
                })
            }, 1000);
            h(window).resize(function () {
                var p = h(".formStyle80");
                p.each(function (q, t) {
                    var s = h(t).attr("fmslidestyle");
                    var r = h(t).attr("id");
                    if (typeof r != f) {
                        r = r.replace("module", "");
                        e.buildFmSlideStyleDom(r, s)
                    }
                })
            })
        }
    });
    e.fmAddModuleStopCarousel = function (q) {
        if (typeof(q) == f) {
            return
        }
        if (Fai.top._manageMode) {
            var o = h("#module" + q);
            if (!o.hasClass("formStyle80")) {
                var p = Site.checkNestModule(o);
                if (p.inFullmeasure) {
                    q = p.parentId
                }
            }
        }
        setTimeout(function () {
            i = q
        }, 500)
    };
    e.setFmCarouselIdList = function (r, q) {
        var o = false;
        for (var p = (d.length - 1); p >= 0; p--) {
            if (d[p] == r) {
                if (q != 1) {
                    d.splice(p, 1)
                }
                o = true;
                break
            }
        }
        if (!o) {
            if (q == 1) {
                d[d.length] = r
            }
        }
    };

    function n(r, p, o, q) {
        e.setModuleFmSlideStyleAndPage(r, p, o, q);
        e.clearAnimate(r);
        e.bindModuleEvent(r);
        e.refFillRelativeDivHeight(r)
    }

    e.setModuleFmSlideStyleAndPage = function (r, p, o, q) {
        if (typeof(r) == f || typeof(p) == f || typeof(o) == f) {
            return
        }
        h("#module" + r).attr("fmSlideStyle", p);
        h("#module" + r).attr("fmPage", o);
        h("#module" + r).attr("isCarousel", q.c);
        h("#module" + r).attr("displayTime", q.d);
        h("#module" + r).attr("carouselSpeed", q.s);
        h("#module" + r).attr("cuscarousel", q.u);
        e.buildFmSlideStyleDom(r, p);
        e.setFmCarouselIdList(r, q.c);
        m(r)
    };
    e.clearAnimate = function (p) {
        if (p in b) {
            var o = b[p];
            if ("animateCt" in o) {
                clearInterval(o.animateCt)
            }
            if ("animateSlide" in o) {
                clearInterval(o.animateSlide)
            }
        }
    };
    e.bindModuleEvent = function (p) {
        var o = h("#module" + p);
        o.off("mouseenter.fullmeasureAnimate").on("mouseenter.fullmeasureAnimate", function () {
            h(this).data("mouseenter", true)
        });
        o.off("mouseleave.fullmeasureAnimate").on("mouseleave.fullmeasureAnimate", function () {
            h(this).data("mouseenter", false)
        })
    };
    e.refFillRelativeDivHeight = function (o, u) {
        if (typeof(o) == f) {
            return
        }
        var q = h("#module" + o);
        var x = 0, p = 0;
        if (q.find(".fullmeasureContent").length > 0) {
            var r = q.find(".J_fullmeasurePageShow .fullmeasureOuterContent").clone();
            var s = false;
            q.prepend("<div class='J_fullmeasureGetMaxHeight' style='display:none; position:relative; height:auto;'></div>");
            if (typeof(r) != f && r != null) {
                r.each(function (z, A) {
                    h(A).find("input").removeAttr("name");
                    q.find(".J_fullmeasureGetMaxHeight").html(h(A));
                    if (q.find(".J_fullmeasureGetMaxHeight").find(".fullmeasureContent").children(".form").length <= 0) {
                        var B = q.find(".J_fullmeasureGetMaxHeight").innerHeight();
                        var y = q.find(".J_fullmeasureGetMaxHeight").height();
                        if (y > 0) {
                            s = true
                        }
                        if (B > p) {
                            p = B
                        }
                        return true
                    }
                    var y = q.find(".J_fullmeasureGetMaxHeight").height();
                    if (y > x) {
                        x = y
                    }
                })
            }
            q.find(".J_fullmeasureGetMaxHeight").remove();
            var w = q.find(".J_fullmeasurePageShow").find(".fullmeasureOuterContentBg");
            w.each(function (y, A) {
                var z = h(A).css("background");
                if (typeof(z) != f && z.indexOf("url") > 0) {
                    s = true;
                    return false
                }
            });
            if (s == true && q.find(".fullmeasureContent").find(".form").length <= 0) {
                x = p
            }
            r = null;
            if (x <= 0) {
                if (Fai.top._manageMode || s == true) {
                    x = 165
                }
            }
            q.find(".fillContentRelative").css({height: x, position: "relative"})
        }
        if (u == true) {
            var v = q.find(".fullmeasureOuterContentPage");
            for (var t = 0; t < v.length; t++) {
                if (v.eq(t).css("display") != "block") {
                    v.eq(t).addClass("hideFmOuterContentPage").css("display", "block")
                }
            }
            setTimeout(function () {
                q.find(".formTabButtonHover").click();
                setTimeout(function () {
                    q.find(".hideFmOuterContentPage").removeClass("hideFmOuterContentPage").css("display", "none")
                }, 100)
            }, 1000)
        }
        e.dynamicSetArrowDom(o)
    };
    e.refreshSlideArrowPositon = function (p) {
        var o = h("#module" + p).attr("fmslidestyle");
        e.buildFmSlideStyleDom(p, o)
    };
    e.slide = function (q, E, u, s) {
        if (!k) {
            return
        }
        var A = b[q];
        var p = h("#module" + q);
        if (s != 0) {
            if (Fai.top._manageMode) {
                if (h("body").children(".popupBg").length || h(".moduleMaskContainer").length > 0) {
                    return
                }
                if (h("#faiFloatPanel").css("display") == "block" && q == i) {
                    return
                }
            }
            if (p.data("stopCarousel") == true) {
                return
            }
            if (a == q) {
                return
            }
        }
        var o = parseInt(p.attr("isCarousel"));
        if (isNaN(o)) {
            o = 0
        }
        var F = o;
        if (typeof(s) != f) {
            o = s
        }
        var G = parseFloat(p.attr("carouselSpeed"));
        if (isNaN(G)) {
            G = 1
        }
        if (o == 1) {
            if (p.data("mouseenter") == true) {
                return
            }
        }
        if (p.data("animateSlide") == true) {
            return
        }
        p.data("animateSlide", true);
        var v = p.find(".J_fullmeasurePageShow");
        if ("animateSlide" in A) {
            clearInterval(A.animateSlide)
        }
        if (v.length <= 1) {
            p.data("animateSlide", false);
            return
        }
        var y, D, C, r = true;
        if (o == 1) {
            for (var B = 0; B < v.length; B++) {
                var z = v.eq(B);
                if (z.css("display") == "block") {
                    D = z;
                    C = B;
                    if (B < (v.length - 1)) {
                        E = (parseInt(B) + 1);
                        y = v.eq(E)
                    } else {
                        E = 0;
                        y = v.eq(0)
                    }
                    break
                }
            }
        } else {
            for (var B = 0; B < v.length; B++) {
                var z = v.eq(B);
                if (z.css("display") == "block" && B != E) {
                    D = z;
                    C = B;
                    break
                }
            }
            y = v.eq(E)
        }
        if (typeof(y) == f || y == null || y.length <= 0) {
            p.data("animateSlide", false);
            return
        }
        if (typeof(D) == f || D == null || D.length <= 0) {
            p.data("animateSlide", false);
            return
        }
        if (C > E) {
            r = false
        }
        if (u == true && E == 0) {
            r = true
        }
        if (o == 1) {
            r = true
        }
        var x = p.width(), t = 0, w = parseInt(x / parseInt(G * 1000 / 40));
        if (F != 1) {
            w = 150
        }
        p.find(".fmSlideStyleShow").removeClass("fmSlideStyleShow");
        p.find(".fmSlideStyle").eq(E).addClass("fmSlideStyleShow");
        if (r) {
            y.css({left: x, display: "block"})
        } else {
            y.css({left: ("-" + x + "px"), display: "block"})
        }
        if ("animateSlide" in A) {
            clearInterval(A.animateSlide)
        }
        A.animateSlide = setInterval(function () {
            if (r) {
                if (y.css("left").replace("px", "") <= 0) {
                    if ("animateSlide" in A) {
                        clearInterval(A.animateSlide);
                        jzUtils.run({name: "moduleAnimation.publish", base: Fai.top.Site});
                        jzUtils.run({name: "moduleAnimation.contentAnimationPublish", base: Fai.top.Site})
                    }
                    y.css({display: "block", left: "0"});
                    D.css({display: "none", left: "0"});
                    p.data("animateSlide", false);
                    return
                }
                if (t >= x) {
                    y.css({display: "block", left: "0"});
                    D.css({display: "none", left: "0"});
                    if ("animateSlide" in A) {
                        clearInterval(A.animateSlide);
                        jzUtils.run({name: "moduleAnimation.publish", base: Fai.top.Site});
                        jzUtils.run({name: "moduleAnimation.contentAnimationPublish", base: Fai.top.Site})
                    }
                    p.data("animateSlide", false);
                    return
                }
                D.css("left", "-" + t + "px");
                y.css("left", (parseInt(x) - parseInt(t)) + "px");
                t = t + w
            } else {
                if (y.css("left").replace("px", "") >= 0) {
                    if ("animateSlide" in A) {
                        clearInterval(A.animateSlide);
                        jzUtils.run({name: "moduleAnimation.publish", base: Fai.top.Site});
                        jzUtils.run({name: "moduleAnimation.contentAnimationPublish", base: Fai.top.Site})
                    }
                    y.css({display: "block", left: "0"});
                    D.css({display: "none", left: "0"});
                    p.data("animateSlide", false);
                    return
                }
                if (t >= x) {
                    y.css({display: "block", left: "0"});
                    D.css({display: "none", left: "0"});
                    if ("animateSlide" in A) {
                        clearInterval(A.animateSlide);
                        jzUtils.run({name: "moduleAnimation.publish", base: Fai.top.Site});
                        jzUtils.run({name: "moduleAnimation.contentAnimationPublish", base: Fai.top.Site})
                    }
                    p.data("animateSlide", false);
                    return
                }
                D.css("left", t + "px");
                y.css("left", (parseInt("-" + x) + parseInt(t)) + "px");
                t = t + w
            }
        }, 40)
    };

    function m(o) {
        if (typeof(b[o]) != f) {
            if ("animateCt" in b[o]) {
                clearInterval(b[o]["animateCt"])
            }
        }
        var p = {};
        b[o] = p;
        var q = h("#module" + o);
        var v = q.find(".fullmeasureOuterContentPage");
        var u = v.eq(0);
        if (q.find(".fillContentRelative").length > 0) {
            var t = u.height();
            q.find(".formWrap").css({position: "relative"});
            v.css({position: "absolute"})
        }
        if (v.length <= 1) {
            if (!Fai.top._manageMode && v.length == 1) {
                v.css({position: "static"})
            }
            return
        }
        v.each(function (z, A) {
            var y = h(A);
            var B = h(A).attr("page");
            if (typeof(B) == f) {
                B = 1000;
                y.attr("1000")
            }
        });
        var s = parseInt(q.attr("isCarousel"));
        if (isNaN(s)) {
            s = 0
        }
        if (s == 1) {
            var x = parseFloat(q.attr("displayTime"));
            if (isNaN(x)) {
                x = 4
            }
            var r = parseFloat(q.attr("carouselSpeed"));
            if (isNaN(r)) {
                r = 1
            }
            var w = (r + x) * 1000;
            p.animateCt = setInterval("Site.inFullmeasueAnimation.slide('" + o + "');", w)
        }
    }

    e.animateFm = function (r, p, o, q) {
        var r = r + "";
        n(r, p, o, q);
        m(r)
    };
    e.slideArrow = function (u, s) {
        var u = u + "";
        var q = h("#module" + u);
        var o = q.find(".J_fullmeasurePageShow");
        var r = o.length;
        if (r <= 1) {
            return
        }
        var p = 0;
        o.each(function (v, w) {
            if (h(w).css("display") == "block") {
                p = v;
                return false
            }
        });
        if (s == 1) {
            p--
        } else {
            if (s == 2) {
                p++
            } else {
                return
            }
        }
        if (p < -1) {
            r = parseInt(r) - 1
        } else {
            if (p >= r) {
                r = 0
            } else {
                r = p
            }
        }
        var t = s == 2 ? true : false;
        e.slide(u, r, t, 0)
    };
    e.dynamicSetArrowDom = function (s) {
        var s = s + "";
        var p = h("#module" + s);
        var o = p.find(".fmSlideStyleArrowBase");
        if (o.length > 0) {
            if (o.css("display") == "none") {
                setTimeout(function () {
                    var u = p.height();
                    if (u < 80) {
                        o.css({display: "none"})
                    } else {
                        var t = parseInt((parseInt(u) - 80) / 2);
                        o.css({top: t + "px", display: "block"})
                    }
                }, 500)
            } else {
                var r = p.height();
                if (r < 80) {
                    o.css({display: "none"})
                } else {
                    var q = parseInt((parseInt(r) - 80) / 2);
                    o.css({top: q + "px", display: "block"})
                }
            }
        } else {
            if (g) {
                if (p.find(".J_fmSlideStyle").length > 0) {
                    var r = p.height();
                    if (r < 40) {
                        p.find(".J_fmSlideStyle").css("display", "none")
                    } else {
                        p.find(".J_fmSlideStyle").css("display", "block")
                    }
                }
            }
        }
    };
    e.buildFmSlideStyleDom = function (r, C) {
        var r = r + "";
        var s = h("#module" + r);
        s.find(".J_fmSlideStyle").remove();
        var B = s.find(".J_fullmeasurePageShow");
        var A = B.length;
        if (A <= 1) {
            return
        }
        var q = 0;
        B.each(function (F, G) {
            if (h(G).css("display") == "block") {
                q = F;
                return false
            }
        });
        var x = [];
        if (C == 3) {
            var y = B.find(".fullmeasureContent").width();
            var z = h(document.body).width();
            var p = 0;
            if ((z - y) > 184) {
                p = parseInt(((parseInt(z) - parseInt(y)) / 2 - 92));
                if (Fai.top._manageMode) {
                    p = p - 10
                }
            } else {
                p = 20
            }
            p = p + "px";
            var o = "style='display:none;left:" + p + ";'", E = "style='display:none;right:" + p + ";''";
            var w = "", u = "", D = "";
            w = "J_fmSlideStyle fmSlideStyleArrowBase fmSlideStyleArrowLast fmSlideStyle" + C;
            u = "J_fmSlideStyle fmSlideStyleArrowBaseBg fmSlideStyleArrowBase fmSlideStyleArrowLast";
            x.push("<div " + o + " class='" + u + "'></div><div " + o + " class='" + w + "' onclick='Site.inFullmeasueAnimation.slideArrow(" + r + ", 1)'></div>");
            w = "J_fmSlideStyle fmSlideStyleArrowBase fmSlideStyleArrowNext fmSlideStyle" + C;
            u = "J_fmSlideStyle fmSlideStyleArrowBaseBg  fmSlideStyleArrowBase fmSlideStyleArrowNext";
            D = "Site.inFullmeasueAnimation.slideArrow(" + r + ", 'next')";
            x.push("<div " + E + "  class='" + u + "'></div><div " + E + " class='" + w + "' onclick='Site.inFullmeasueAnimation.slideArrow(" + r + ", 2)'></div>")
        } else {
            var t = "";
            if (!g) {
                t = "style='display:none;'"
            }
            x.push("<div " + t + " class='fmSlideStyleWrap J_fmSlideStyle'>");
            var w = "", D = "";
            for (var v = 0; v < A; v++) {
                w = "fmSlideStyle fmSlideStyle" + C;
                D = "Site.inFullmeasueAnimation.slide(" + r + "," + v + ", false, 0)";
                if (v == q) {
                    w = w + " fmSlideStyleShow"
                }
                x.push("<div class='" + w + "' onclick='" + D + "'></div>")
            }
            x.push("</div>")
        }
        s.append(x.join(""));
        e.dynamicSetArrowDom(r)
    }
})(jQuery, Site.inFullmeasueAnimation || (Site.inFullmeasueAnimation = {}), "undefined");
(function (a, b) {
    if (window != Fai.top) {
        return
    }
    b.pZone = null;
    b.openZone = function (g, f) {
        if (!window.site_cityUtil) {
            $LAB.script(Fai.top._cityJsLink).wait(function () {
                d(g, f)
            })
        } else {
            d(g, f)
        }
    };

    function d(h, f) {
        Fai.top.$("#popupLevel").addClass("popupLevelShow");
        b.pZone && b.pZone.destroy();
        b.pZone = new b.PopupZone(null, h, f);
        var g = b.pZone;
        g.ajaxDomShow();
        b.id = b.pZone.id;
        b.formLinkWin = f ? f : b.formLinkWin
    }

    b.closeZone = function () {
        b.pZone && b.pZone.destroy()
    };
    b.PopupZone = function (h, i, g, f) {
        var i = i || (h && h.attr("id").replace("module", "")), h = h || (i && Fai.top.$("#module" + i));
        this.id = i;
        this.module = h;
        this.create = f || false;
        this.funPanel = null;
        this.editing = false;
        this.enterStatus = g ? true : false;
        this.extDomModules = [79, 81, 86];
        this.allPopupZoneList = [];
        this.historyModules = [];
        this.switchActive = false
    };
    b.PopupZone.prototype.destroy = function () {
        var f = this;
        module = this.module, extDomModules = this.extDomModules;
        if (Fai.top._manageMode && !f.manageDestroy()) {
            delete f.isSwitching;
            return false
        }
        if (!f.isSwitching) {
            Fai.top.Fai.removeBg("popupZone")
        }
        this.module.remove();
        Fai.top.$("#popupLevel").removeClass("popupLevelShow");
        Fai.top.$("body").removeClass("popupZoneShow_gBody");
        b.pZone = null;
        $(window).off("resize.pz");
        delete b.id;
        delete f.isSwitching;
        return true
    };
    b.PopupZone.prototype.show = function () {
        var f = this;
        if (Fai.top.$("#popupBgpopupZone").length < 1) {
            Fai.top.Fai.bg("popupZone", null, null, "popupZoneDelOnlyById")
        }
        if (Fai.top.$("link[href='" + Fai.top._floatBtnCssLink + "']").length == 0) {
            Fai.top.$('<link type="text/css" href="' + Fai.top._floatBtnCssLink + '" rel="stylesheet">').appendTo(top.$("head"))
        }
        Fai.top.$("#popupLevel").appendTo(Fai.top.$("body"));
        Fai.top.$("#popupLevelForms").append(this.module);
        b.delay(function () {
            f.module.addClass("popupZoneScale");
            f.inModuleInit()
        });
        this.module.find(".popupZoneAreaClose").off("click.pz").on("click.pz", function (g) {
            a.logDog(200302, 1);
            f.hide();
            g.stopPropagation()
        });
        $("#popupLevelForms").off("mousewheel.pz").on("mousewheel.pz", function (g) {
            g.stopPropagation()
        });
        if (Fai.top._manageMode) {
            f.manageShow()
        }
        f.calScroll();
        $(window).off("resize.pz").on("resize.pz", function () {
            if (Fai.top._manageMode && f.editing) {
                f.calEditOperateArea()
            }
            f.calScroll()
        });
        delete f.enterStatus
    };
    b.PopupZone.prototype.inModuleInit = function () {
        if (Fai.top._manageMode) {
            return
        }
        var h = this, g = h.module, f = this.extDomModules;
        g.find(".form").each(function () {
            var k = $(this).attr("id"), i = parseInt($(this).attr("_modulestyle")), j = true;
            if ($.inArray(i, f) > -1) {
                j = false
            }
            a.cacheModuleFunc.run(k, j)
        })
    };
    b.PopupZone.prototype.hide = function () {
        this.destroy()
    };
    b.PopupZone.prototype.ajaxDomShow = function () {
        var g = this, h = g.id;
        e(h, function (r) {
            var l, o = $.parseJSON(r), k = o.rtInfo && $.parseJSON(o.rtInfo),
                m = k && k.moduleDomList && k.moduleDomList[0] && k.moduleDomList[0].dom,
                n = k && k.moduleDomList && k.moduleDomList[0] && k.moduleDomList[0].inModuleList;
            if (!m) {
                Fai.ing("弹窗链接不见了！");
                Fai.top.Fai.removeBg("popupZone");
                return
            }
            var q = Fai.top.$(f(m)), p = q.filter("script").first(), j = q.filter("#module" + h).first();
            p.appendTo(Fai.top.$("body"));
            for (l = 0; l < n.length; l++) {
                if (n[l].i && !n[l].s) {
                    j.find("#module" + n[l].i).hide()
                }
            }
            g.module = j;
            g.show();
            b.delay(function () {
                q.filter("script").last().appendTo(Fai.top.$("body"))
            })
        });

        function f(j) {
            var i = j.replace(/(.*?<script[\s\S]*?)document\.write([\s\S]*?<\/script>.*?)/gi, "$1void$2");
            return i
        }
    };
    b.PopupZone.prototype.calScroll = function () {
        var l = this, g = l.id, h = l.module, m = h.height(), p = h.width(), j = Fai.top.$("#popupLevelWrap"),
            n = j.height(), o = j.width(), i = Fai.top.$("#popupLevelForms"), k = Fai.getBrowserHeight(), f;
        if (l.editing) {
            i.css({height: n - 115})
        } else {
            i.css({height: m > n ? (m + 40) : "100%"})
        }
        if (l.editing) {
            h.css("left", m > i.height() ? parseInt(Fai.getScrollWidth() / 2) : "")
        } else {
            h.css("left", m > j.height() ? parseInt(Fai.getScrollWidth() / 2) : "")
        }
        f = i.height();
        h.css("marginTop", f < m ? 0 : (f - m) / 2);
        i.css("width", p > o ? (p + 40) : "");
        if (!Fai.top._manageMode) {
            if (m > k) {
                Fai.top.$("body").addClass("popupZoneShow_gBody")
            } else {
                Fai.top.$("body").removeClass("popupZoneShow_gBody")
            }
        }
    };
    var c = false;

    function e(g, f) {
        if (c) {
            return
        }
        c = true;
        $.ajax({
            type: "post",
            url: "ajax/module_h.jsp",
            data: "cmd=getPopupZoneModule&_fresh=false&_colId=" + Fai.top._colId + "&_extId=" + Fai.top._extId + "&popupZoneId=" + g + "&manageMode=" + Fai.top._manageMode + "&_majorColor=" + Fai.top._majorColorData,
            error: function () {
                Fai.ing("系统异常，请稍后重试", true)
            },
            success: function (h) {
                f && f(h);
                c = false
            }
        })
    }

    a.hasPopupModuleOpen = function () {
        return b.pZone
    };
    b.delay = function (g, f) {
        setTimeout(g, f || 0)
    }
})(Site, Fai.top._popupZone || (Fai.top._popupZone = {}));
(function (f, b, c) {
    //var d = !!window.localStorage;
    var d = true;
    var e = {bit: {}, tens: {}, array: {}};
    b.setBitMemory = function (h, m) {
        var l = e.bit[h];
        if (typeof l != "number") {
            throw new Error("参数错误！！未配置dic字典");
            return
        }
        var j = parseInt(l / 31), k = l % 31, i = g("JBM" + j);
        if (i == null) {
            i = 0
        } else {
            i = parseInt(i)
        }
        if (Boolean(m)) {
            i |= (1 << k)
        } else {
            i &= ~(1 << k)
        }
        a("JBM" + j, i)
    };
    b.getBitMemory = function (h) {
        var l = e.bit[h];
        if (typeof l != "number") {
            throw new Error("参数错误！！");
            return
        }
        var j = parseInt(l / 31), k = l % 31, i = g("JBM" + j);
        if (i == null) {
            return c
        } else {
            i = parseInt(i)
        }
        return ((i & (1 << k)) != 0) ? true : false
    };
    b.setTensMemory = function (k, o) {
        var h = e.tens[k];
        if (typeof h != "number" || o > 9 || o < 0) {
            throw new Error("参数错误！！");
            return
        }
        var n = parseInt(h), m = g("JTM") || "", l = 0;
        if (m == "") {
            l = n
        } else {
            l = n - m.length
        }
        for (var j = l; j > 0; j--) {
            m += "0"
        }
        m = m.split("");
        m[n] = o;
        m = m.join("");
        a("JTM", m)
    };
    b.getTensMemory = function (j) {
        var i = e.tens[j];
        if (typeof i != "number") {
            throw new Error("参数错误！！");
            return
        }
        var l = i, k = g("JTM") || [], h;
        k = k.split("");
        h = Number(k[l]);
        return isNaN(h) ? c : h
    };
    b.setArrayMemory = function (j, k) {
        var l = e.array[j];
        if (typeof l != "number") {
            throw new Error("参数错误！！");
            return
        }
        var h = unescape(g("JAM") || ""), i = h.split(",") || [];
        i[l] = k;
        h = i.join(",");
        a("JAM", escape(h))
    };
    b.getArrayMemory = function (j) {
        var k = e.array[j];
        if (typeof k != "number") {
            throw new Error("参数错误！！");
            return
        }
        var h = unescape(g("JAM")), i = h.split(",") || [];
        return i[k] || c
    };

    function a(h, i) {
        if (d) {
            b.getTopWindow().localStorage.setItem(h, i)
        } else {
            f.cookie(h, i, {expires: 1800, path: "/"})
        }
    }

    function g(h) {
        if (d) {
            return b.getTopWindow().localStorage.getItem(h)
        } else {
            return f.cookie(h, {path: "/"})
        }
    }
})(jQuery, Site);
$.ajaxSettings.errorCall.push(function (c, a, d) {
    var b = Site.getTopWindow()._faiAjax;
    if (b) {
        b.ajax({
            type: "post",
            url: "ajax/logAjaxErr_h.jsp?cmd=ajaxErr&error=" + d + "&status=" + a,
            data: "msg=" + Fai.encodeHtml("ajaxUrl=" + Fai.encodeUrl(c.url) + ";refer=" + Fai.encodeUrl(top.location.href))
        })
    }
});
Site.initPage = function () {
    var f = 0, i = 0;
    var d = setInterval(function () {
        $.each(Fai.top.$("body>iframe"), function (k, l) {
            var j = $.trim($(l).attr("src"));
            var n = j;
            var m = j.indexOf("http://");
            if (m >= 0) {
                n = j.substring(m + 7)
            } else {
                return
            }
            m = n.indexOf("/");
            if (m > 0) {
                n = n.substring(0, m)
            }
            m = n.indexOf(":");
            if (m > 0) {
                n = n.substring(0, m)
            }
            if (Fai.isIp(n)) {
                $(l).remove();
            }
        });
        f++;
        if (f >= 30) {
            clearInterval(d)
        }
    }, 300);
    if (Fai.isIE6()) {
        try {
            document.execCommand("BackgroundImageCache", false, true)
        } catch (h) {
        }
    }
    Site.resetGmainPos();
    if (Fai.isIE7() || Fai.isIE6()) {
        $(window).resize(function () {
            Site.resetGmainPos()
        })
    }
    Site.initForms();
    Site.refreshForms();
    if (!Fai.top._Global._footerHidden) {
        $("#footer").show()
    }
    Site.initPageBindAmousedown();
    Site.setAbsFormsHolder2(true);
    Fai.top.setAbsFormsHolder2_interval = setInterval(function () {
        Site.setAbsFormsHolder2(true)
    }, 1000);
    Site.fixSiteWidth(Fai.top._manageMode);
    var g = $("#web").find("iframe");
    if (g.size() > 0) {
        for (var c = 0; c < g.length - 1; c++) {
            $(g[c]).bind("load", function () {
                Site.fixWebFooterHeight()
            })
        }
    } else {
        Site.fixWebFooterHeight()
    }
    Site.refreshDefaultBannerEdge();
    if (Fai.top._uiMode) {
        Fai.top.$("#nav .navCenter .item").eq(0).mouseover()
    }
    Site.initPagenationEvent();

    function a(l) {
        var e = l.width(), k = $(window).width() - Fai.getScrollWidth(), j = (e - k) / 2;
        return j
    }

    if (!Fai.top._manageMode) {
        i = a($("#g_main"));
        $(window).scrollLeft(i)
    } else {
        i = a($("#web"));
        $("#g_main").scrollLeft(i)
    }
    Site.initPageWithLogDog();
    Site.serviceLogDog();
    if (!Fai.top._manageMode) {
        var b = Fai.getUrlParam(window.location.href, "errno");
        if (b == 14) {
            Fai.ing(LS.memberLoginNoPermission)
        }
    }
};
Site.initPageWithLogDog = function () {
    a();
    Site.checkVisitEnv();
    if (_siteDemo && !Fai.top._manageMode && Site.hasXScrollBar()) {
        Site.logDog(200190, 1)
    }

    function a() {
        var i = 200099, b = Fai.top.screen, e = (b.width + "*" + b.height), h = "fkLogDog-screenResolution", d, j, c, g;
        var f = {
            set: function (l, m) {
                //var k = window.localStorage;
                var k = false;
                k ? k.setItem(l, m) : $.cookie(l, m, {expires: 7, path: "/"})
            }, get: function (l) {
                //var k = window.localStorage;
                var k = false;
                return k ? k.getItem(l) : $.cookie(l)
            }
        };
        if (f.get(h)) {
            return
        }
        c = {
            "1920*1080": 1,
            "1366*768": 2,
            "1440*900": 3,
            "1600*900": 4,
            other: 5,
            "1680*1050": 6,
            "1280*800": 7,
            "1280*1024": 8,
            "1360*768": 9,
            "1280*720": 10,
            "1024*768": 11,
            "1280*768": 12,
            "1600*1200": 13,
            "1600*1024": 14
        };
        g = {
            "1920*1080": 15,
            "1366*768": 16,
            "1440*900": 17,
            "1600*900": 18,
            other: 19,
            "1680*1050": 20,
            "1280*800": 21,
            "1280*1024": 22,
            "1360*768": 23,
            "1280*720": 24,
            "1024*768": 25,
            "1280*768": 26,
            "1600*1200": 27,
            "1600*1024": 28
        };
        j = Fai.top._manageMode ? c : g;
        d = (j[e] || j.other);
        if (!Fai.isPC()) {
            d = j.other
        }
        if (i && d) {
            f.set(h, true);
            Site.logDog(i, d)
        }
    }
};
Site.initPagenationEvent = function () {
    var d = $(".pagenation a");
    var b = $(".pagenation");
    var c = "mouseover.bindPagenationHoverCls";
    var a = "mouseout.bindPagenationHoverCls";
    if (b.parents(".formStyle6").length === 0) {
        b.off(c).on(c, "a", function () {
            $(this).addClass("g_hover")
        });
        b.off(a).on(a, "a", function () {
            $(this).removeClass("g_hover")
        })
    }
    var e = $(".pagenation_N").find(".pageNo a, .prevShow_model, .nextShow_model, .jumpPageDiv .bottomSearch");
    e.live("mouseover", function () {
        $(this).addClass("p_hover")
    });
    e.live("mouseout", function () {
        $(this).removeClass("p_hover")
    })
};
Site.colLayout45Width = function () {
    var a = Fai.top._colOtherStyleData.layout4Width;
    var e = Fai.top._colOtherStyleData.layout5Width;
    var b = $(".containerFormsCenterMiddle").width();
    var d = Math.floor(b * 0.02);
    if (Fai.top._manageMode) {
        $("#middleLeftForms").css("padding-right", d + "px");
        if ((a + e + d) > b) {
            $("#middleLeftForms").css("width", (b - (e + d)) + "px")
        }
    }
    if (a > 0 && e == 0) {
        var c = $("#middleLeftForms").css("padding-right").replace("px", "");
        $("#middleLeftForms").css("width", a);
        $("#middleRightForms").css("width", b - c - a);
        Fai.top._colOtherStyleData.layout5Width = $("#middleRightForms").width()
    }
};
Site.initPage2 = function () {
    Site.manageFaiscoAd();
    Fai.top.$(".absForms >.form").each(function () {
        Site.checkAbsModulePosition($(this), true)
    });
    Fai.top.$(".floatForms >.form").each(function () {
        Site.checkFloatModulePosition($(this));
        Site.checkSideModule($(this));
        Site.checkFlutterModule($(this))
    });
    if (Fai.top.$("#faiBgMusicPlayer").length > 0) {
        Site.callMusicPlayButton("bgplayerButton", "faiBgMusicPlayer", "bgplayerTime", "bgplayerPause");
        var a = Fai.top.$("#faiBgMusicPlayer").attr("bgpause");
        if (a === "false") {
            $.cookie("bgplayerPause", "false");
            $("#bgplayerButton").attr("bgMusicStatus", "false")
        }
        if (a === "true") {
            $("#bgplayerButton").addClass("bgplayerButtonP");
            $("#bgplayerButton").attr("title", LS.playMusic);
            $("#bgplayerButton").attr("bgMusicStatus", "true");
            $.cookie("bgplayerPause", "true")
        }
    }
    if (!Fai.top._Global._footerHidden) {
        if (Fai.top.$(".footerSupport").find(":visible").length == 0) {
            Fai.top.$(".footerSupport").hide()
        }
    }
    Site.setAbsFormsHolder2(true);
    $.each($("img"), function (c, b) {
        if ($.trim($(b).attr("data-original")).length > 0) {
            $(b).addClass("loadingPlaceholderBackground")
        }
    });
    if (Fai.isIE6() || Fai.isIE7()) {
        $("img").lazyload({threshold: 400, lazyRemoveclass: "loadingPlaceholderBackground", container: $("#g_main")})
    } else {
        $("img").lazyload({threshold: 400, lazyRemoveclass: "loadingPlaceholderBackground"})
    }
    Site.bindGobalEvent("site_moduleTabSwitch", function (b, d) {
        var c = $("#formTabCntId" + d).find("img");
        $.each(c, function (f, e) {
            var g = $.trim($(e).attr("data-original"));
            if (g.length > 0) {
                $(e).attr("src", g).removeClass("loadingPlaceholderBackground")
            }
        })
    });
    Site.bindGobalEvent("site_BannerV2Switch", function (b) {
        var c = $("#bannerV2").find(".fk-inBannerListZone img");
        $.each(c, function (e, d) {
            var f = $.trim($(d).attr("data-original"));
            if (f.length > 0) {
                $(d).attr("src", f).removeClass("loadingPlaceholderBackground")
            }
        })
    });
    $(".g_ibutton").livequery(function () {
        $(this).faiButton()
    })
};
Site.initModuleItemHover = function (a) {
    $(a).mouseover(function () {
        $(this).addClass("g_hover")
    }).mouseleave(function () {
        $(this).removeClass("g_hover")
    })
};
Site.initModuleItemCover = function (a, c, d) {
    $(a).mouseover(function () {
        $(this).addClass("g_hover")
    }).mouseleave(function () {
        $(this).removeClass("g_hover")
    });
    var b = a.replace("#module", "");
    Site.initContentSplitLine(b, d)
};
Site.initBackToTopTool = function (k, j, f, h, a) {
    var d = '<div id="BackToTopborder" style="display:none;"><div id="BackToTopborder-left" style="position:fixed;border-left:1px dashed #2b73ba;z-index:9030;"></div><div id="BackToTopborder-top" style="position:fixed;border-top:1px dashed #2b73ba;z-index:9030;"></div><div id="BackToTopborder-bottom" style="position:fixed;border-bottom:1px dashed #2b73ba;z-index:9030;"></div><div id="BackToTopborder-right" style="position:fixed;border-right:1px dashed #2b73ba;z-index:9030;"></div></div>';
    var g = '<div id="borderLayer" class=" fk-editLayer-v2 fk-editLayer-v2-forBackToTop " style=" position:absolute;display:none; "><div class="item f-button-text"><a class="tool backToTopEdit" href="javascript:;" style="cursor:pointer;" >编辑</a></div><div class="itemHr"></div><div class="item f-button-icon f-hide-btn" data-title-tip="隐藏"><a class="tool backToTopClose"  style="cursor:pointer;" title="您可以在网站设计-网站设置-高级设置中重新开启" title="设置样式">隐藏</a></div></div>';
    var l = "";
    if (a == "small_box" || a == "null") {
        a = "";
        l = $('<div id="siteBackToTop_small_box" class="fk_siteBackToTop" title="' + h + '" _style="' + a + '"></div>');
        Fai.top.Fai.setCtrlStyleCssList("stylebacktotop", "", [{
            cls: ".fk_siteBackToTop",
            key: "display",
            value: "none"
        }, {cls: ".fk_siteBackToTop", key: "width", value: "41px"}, {
            cls: ".fk_siteBackToTop",
            key: "height",
            value: "38px"
        }, {cls: ".fk_siteBackToTop", key: "cursor", value: "pointer"}, {
            cls: ".fk_siteBackToTop",
            key: "position",
            value: "fixed"
        }, {cls: ".fk_siteBackToTop", key: "z-index", value: "9030"}, {
            cls: ".fk_siteBackToTop",
            key: "right",
            value: "40px"
        }, {cls: ".fk_siteBackToTop", key: "bottom", value: "50px"}, {
            cls: ".fk_siteBackToTop",
            key: "background",
            value: "url(" + _resRoot + "/image/site/backtotop.png?v=201411241810) no-repeat"
        }])
    } else {
        l = $('<div id="siteBackToTop_small_box" class="fk_siteBackToTop" title="' + h + '" _style="' + a + '"></div>');
        Fai.top.Fai.setCtrlStyleCssList("stylebacktotop", "", [{
            cls: ".fk_siteBackToTop",
            key: "display",
            value: "none"
        }, {cls: ".fk_siteBackToTop", key: "cursor", value: "pointer"}, {
            cls: ".fk_siteBackToTop",
            key: "position",
            value: "fixed"
        }, {cls: ".fk_siteBackToTop", key: "z-index", value: "9030"}, {
            cls: ".fk_siteBackToTop",
            key: "right",
            value: "40px"
        }, {cls: ".fk_siteBackToTop", key: "bottom", value: "50px"}]);
        getBackToTopStyleCss(a, false)
    }
    $("#g_main").before(l);
    if (j) {
        $("#g_main").before(d);
        $("#g_main").before(g)
    }
    $(".backToTopEdit").bind("click", function () {
        Site.popupWindow({
            title: "编辑返回顶部图标",
            frameSrcUrl: "manage/backToTopEdit.jsp?ram=" + Math.random(),
            width: "543",
            height: "543",
            version: 2,
            frameScrolling: "no",
            saveBeforePopup: false,
            closeFunc: Site.closeCss
        })
    });
    $(".backToTopClose").bind("click", function () {
        e.hide();
        $("#BackToTopborder").hide();
        $("#borderLayer").hide();
        Fai.top._advanceSettingData.backToTopOpen = false;
        Fai.top._Global._backToTop = false;
        Site.styleChanged();
        Site.styleSetting("open", "webSettingTab", false, "advanceFuncShow");
        Fai.ing("您可以在网站设计-网站设置-高级设置中重新开启。", true);
        c.scrollTop(0)
    });
    if (j && Site.simpleTip) {
        Site.simpleTip($("#borderLayer .f-hide-btn"), 0)
    }

    function b() {
        var n = $("#siteBackToTop_small_box").offset().left, m = $("#siteBackToTop_small_box").offset().top;
        $("#BackToTopborder-left").css({
            left: (n - 2) + "px",
            top: (m - 2) + "px",
            height: $("#siteBackToTop_small_box").height() + 2 + "px"
        });
        $("#BackToTopborder-top").css({
            left: (n - 2) + "px",
            top: (m - 2) + "px",
            width: $("#siteBackToTop_small_box").width() + 2 + "px"
        });
        $("#BackToTopborder-bottom").css({
            left: (n - 2) + "px",
            top: (m + $("#siteBackToTop_small_box").height() + 1) + "px",
            width: $("#siteBackToTop_small_box").width() + 2 + "px"
        });
        $("#BackToTopborder-right").css({
            left: (n + $("#siteBackToTop_small_box").width() + 1) + "px",
            top: (m - 2) + "px",
            height: $("#siteBackToTop_small_box").height() + 2 + "px"
        });
        $("#borderLayer").css({
            left: ($("#siteBackToTop_small_box").offset().left + $("#siteBackToTop_small_box").width() - $("#borderLayer").outerWidth()) + "px",
            top: (m - $("#borderLayer").outerHeight() - 6) + "px"
        })
    }

    var e = $("#siteBackToTop_small_box");
    var c = Fai.top.$("#g_main");
    if (!k && !Fai.isIE6()) {
        c = $(window);
        e.css("right", 40 + "px");
        e.css("bottom", 50 + "px")
    }
    if (Fai.top._manageMode) {
        e.css("right", 40 + Fai.getScrollWidth() + "px");
        e.css("bottom", 50 + "px")
    }
    if (!k && Fai.isIE6()) {
        e.css("bottom", 50 + "px")
    }
    i();
    c.scroll(function () {
        i()
    });
    e.click(function () {
        c.scrollTop(0)
    });

    function i() {
        if (!Fai.top._Global._backToTop) {
            e.hide();
            return
        }
        if (c.scrollTop() > 0) {
            if (e.css("display") == "none") {
                if (Fai.isIE6()) {
                    e.css("position", "absolute")
                }
                if (Fai.isIE8() && Fai.top._manageMode) {
                    e.show()
                } else {
                    e.slideDown("slow")
                }
            }
        } else {
            if (Fai.isIE8() && Fai.top._manageMode) {
                e.hide()
            } else {
                e.slideUp("slow")
            }
        }
    }

    $("#siteBackToTop_small_box").hover(function () {
        var n = $(this), m = n.attr("_style");
        n.animate({opacity: 0.2}, "slow", function () {
            $("#siteBackToTop_small_box").css("height", "")
        });
        if (m != "" && m != "small_box") {
            getBackToTopStyleCss(m, true)
        }
        b();
        $("#BackToTopborder").show();
        $("#borderLayer").show();
        n.attr("_realmousein", "1")
    }, function () {
        var n = $(this), m = n.attr("_style");
        n.animate({opacity: 1}, "slow", function () {
            $("#siteBackToTop_small_box").css("height", "")
        });
        if (m != "" && m != "small_box") {
            getBackToTopStyleCss(m, false)
        }
        return setTimeout(function () {
            n.attr("_realmousein", "0");
            if (n.attr("_mousein") == 1) {
                $("#BackToTopborder").show();
                $("#borderLayer").show()
            } else {
                $("#BackToTopborder").hide();
                $("#borderLayer").hide()
            }
        }, 50)
    });
    $("#borderLayer").hover(function () {
        $("#BackToTopborder").show();
        $("#borderLayer").show();
        $("#siteBackToTop_small_box").attr("_mousein", "1")
    }, function () {
        return setTimeout(function () {
            $("#siteBackToTop_small_box").attr("_mousein", "0");
            if ($("#siteBackToTop_small_box").attr("_realmousein") == 1) {
                $("#BackToTopborder").show();
                $("#borderLayer").show()
            } else {
                $("#BackToTopborder").hide();
                $("#borderLayer").hide()
            }
        }, 50)
    })
};

function getBackToTopStyleCss(a, e) {
    var g = a.split("_"), c = g[0], b = g[1], d = [], f = "";
    if (e) {
        f = "_hover"
    }
    if (a != "small_box") {
        switch (c) {
            case"firstStyle":
                d.push({cls: ".fk_siteBackToTop", key: "position", value: "fixed"});
                d.push({cls: ".fk_siteBackToTop", key: "width", value: "42px"});
                d.push({cls: ".fk_siteBackToTop", key: "height", value: "42px"});
                d.push({cls: ".fk_siteBackToTop", key: "margin", value: "5px"});
                if (e) {
                    d.push({
                        cls: ".fk_siteBackToTop:hover",
                        key: "background-image",
                        value: "url(" + _resRoot + "/image/backToTop/firstStyle/" + b + f + ".png?v=201505251717)"
                    })
                } else {
                    d.push({
                        cls: ".fk_siteBackToTop",
                        key: "background-image",
                        value: "url(" + _resRoot + "/image/backToTop/firstStyle/" + b + f + ".png?v=201505251717)"
                    })
                }
                break;
            case"secondStyle":
                d.push({cls: ".fk_siteBackToTop", key: "position", value: "fixed"});
                d.push({cls: ".fk_siteBackToTop", key: "width", value: "50px"});
                d.push({cls: ".fk_siteBackToTop", key: "height", value: "50px"});
                d.push({cls: ".fk_siteBackToTop", key: "margin", value: "1px"});
                if (b == "01" || b == "05") {
                    if (e) {
                        d.push({
                            cls: ".fk_siteBackToTop:hover",
                            key: "background-image",
                            value: "url(" + _resRoot + "/image/backToTop/secondStyle/" + b + f + ".png?v=201505261406)"
                        })
                    } else {
                        d.push({
                            cls: ".fk_siteBackToTop",
                            key: "background-image",
                            value: "url(" + _resRoot + "/image/backToTop/secondStyle/" + b + ".png?v=201505251717)"
                        })
                    }
                } else {
                    if (e) {
                        d.push({
                            cls: ".fk_siteBackToTop:hover",
                            key: "background-image",
                            value: "url(" + _resRoot + "/image/backToTop/secondStyle/" + b + f + ".png?201505251717)"
                        })
                    } else {
                        d.push({
                            cls: ".fk_siteBackToTop",
                            key: "background-image",
                            value: "url(" + _resRoot + "/image/backToTop/secondStyle/" + b + ".png?v=201505251717)"
                        })
                    }
                }
                break;
            case"special":
                d.push({cls: ".fk_siteBackToTop", key: "position", value: "fixed"});
                if (e) {
                    d.push({
                        cls: ".fk_siteBackToTop:hover",
                        key: "background-image",
                        value: "url(" + _resRoot + "/image/backToTop/" + b + f + ".png?v=201505251717)"
                    })
                } else {
                    d.push({
                        cls: ".fk_siteBackToTop",
                        key: "background-image",
                        value: "url(" + _resRoot + "/image/backToTop/" + b + ".png?v=201505251717)"
                    })
                }
                break
        }
        if (c == "special") {
            switch (b) {
                case"01":
                    d.push({cls: ".fk_siteBackToTop", key: "width", value: "32px"});
                    d.push({cls: ".fk_siteBackToTop", key: "height", value: "32px"});
                    d.push({cls: ".fk_siteBackToTop", key: "margin", value: "10px 10px"});
                    break;
                case"02":
                    d.push({cls: ".fk_siteBackToTop", key: "width", value: "26px"});
                    d.push({cls: ".fk_siteBackToTop", key: "height", value: "48px"});
                    d.push({cls: ".fk_siteBackToTop", key: "margin", value: "2px 13px"});
                    break;
                case"03":
                    d.push({cls: ".fk_siteBackToTop", key: "width", value: "42px"});
                    d.push({cls: ".fk_siteBackToTop", key: "height", value: "42px"});
                    d.push({cls: ".fk_siteBackToTop", key: "margin", value: "5px"});
                    break;
                case"04":
                    d.push({cls: ".fk_siteBackToTop", key: "width", value: "45px"});
                    d.push({cls: ".fk_siteBackToTop", key: "height", value: "50px"});
                    d.push({cls: ".fk_siteBackToTop", key: "margin", value: "1px 3px"});
                    break
            }
        }
    } else {
        Fai.top.Fai.setCtrlStyleCssList("stylebacktotop", "", [{
            cls: ".fk_siteBackToTop",
            key: "display",
            value: "none"
        }, {cls: ".fk_siteBackToTop", key: "width", value: "41px"}, {
            cls: ".fk_siteBackToTop",
            key: "height",
            value: "38px"
        }, {cls: ".fk_siteBackToTop", key: "cursor", value: "pointer"}, {
            cls: ".fk_siteBackToTop",
            key: "position",
            value: "fixed"
        }, {cls: ".fk_siteBackToTop", key: "z-index", value: "9030"}, {
            cls: ".fk_siteBackToTop",
            key: "right",
            value: "40px"
        }, {cls: ".fk_siteBackToTop", key: "bottom", value: "50px"}, {
            cls: ".fk_siteBackToTop",
            key: "background",
            value: "url(" + _resRoot + "/image/site/backtotop.png?v=201411241810) no-repeat"
        },]);
        if (e) {
            Fai.top.Fai.removeCtrlStyleCssList("stylebacktotop", "", [{
                cls: ".fk_siteBackToTop:hover",
                key: "background"
            },])
        }
    }
    if (!!d.length) {
        Fai.top.Fai.setCtrlStyleCssList("stylebacktotop", "", d)
    }
}

Site.closeCss = function () {
    if (Fai.top._advanceSettingData.btts == "small_box") {
        Fai.top.$("#siteBackToTop_small_box").attr("style", "display:block");
        Fai.top.Fai.removeCtrlStyleCssList("stylebacktotop", "", [{cls: ".fk_siteBackToTop:hover", key: "background"},])
    } else {
        Fai.top.Fai.setCtrlStyleCssList("stylebacktotop", "", [{
            cls: ".fk_siteBackToTop",
            key: "cursor",
            value: "pointer"
        }, {cls: ".fk_siteBackToTop", key: "position", value: "fixed"}, {
            cls: ".fk_siteBackToTop",
            key: "z-index",
            value: "9030"
        }, {cls: ".fk_siteBackToTop", key: "right", value: "40px"}, {
            cls: ".fk_siteBackToTop",
            key: "bottom",
            value: "50px"
        },])
    }
    Fai.top.$("#siteBackToTop_small_box").attr("_style", Fai.top._advanceSettingData.btts);
    getBackToTopStyleCss(Fai.top._advanceSettingData.btts, false)
};
Site.fixSiteWidth = function (c) {
    b(c);
    var a;
    Fai.top.$(window).off("resize.fixSiteWidth");
    Fai.top.$(window).on("resize.fixSiteWidth", function () {
        if (typeof a == "number") {
            return
        }
        a = setTimeout(function () {
            b(c);
            Site.fixWebFooterHeight();
            Site.refreshDefaultBannerEdge();
            a = null
        }, 300)
    });

    function b(f) {
        var s = Fai.top.$("#webContainer").outerWidth(true), o = s, q = s,
            n = document.documentElement ? document.documentElement.clientWidth : document.body.clientWidth,
            j = document.documentElement ? document.documentElement.scrollWidth : document.body.scrollWidth,
            k = Fai.top.$("#web"), m = Fai.top.$("#g_main"), l = 0, i = 960,
            h = (f || (Fai.isIE6() || Fai.isIE7())) ? m.scrollLeft() : $(document).scrollLeft(),
            e = k[0].getBoundingClientRect().right + h, r = 0, p, g;
        if (f || Fai.isIE6()) {
            n = n - Fai.getScrollWidth()
        }
        Fai.top.$(".fullmeasureForms").find(".fullmeasureContent").each(function (t, u) {
            if ($(u).is(":visible") && o < $(u).width()) {
                o = $(u).width()
            }
        });
        q = o;
        n = n > q ? n : q;
        i = n > i ? n : i;
        p = Fai.top.$("#nav");
        p = p.add(k.find("div.absForms").children(".form"));
        p = p.add(Fai.top.$("#corpTitle"));
        p = p.add(Fai.top.$("#logo"));
        r = d(p) + h;
        g = (r - e) * 2 + e;
        if (g > i) {
            i = g;
            l = (i - m[0].scrollWidth) + h
        }
        if (f) {
            if (!Fai.top._cusResponsive) {
                k.css({width: i + "px"})
            }
            if (l > 0) {
                m.scrollLeft(l)
            }
        } else {
            if (Fai.isIE6() || Fai.isIE7()) {
                if (!Fai.top._cusResponsive) {
                    k.css({width: i + "px"})
                }
                if (l > 0) {
                    m.scrollLeft(l)
                }
            } else {
                if (!Fai.top._cusResponsive) {
                    m.css({width: i + "px"})
                }
                if (l > 0) {
                    $(document).scrollLeft(l)
                }
            }
        }
    }

    function d(h) {
        var f = h.length, e = 0, g, i;
        while (f) {
            f -= 1;
            i = h.eq(f);
            if (i.is(":hidden") || i.css("position") == "fixed") {
                continue
            }
            g = i[0].getBoundingClientRect().right;
            if (g > e) {
                e = g
            }
        }
        return e
    }
};
Site.fixWebFooterHeight = function () {
    var h = Fai.top.$("#web"), a = Fai.top.$("body").height(), c = Fai.top.$("#webFooterTable"),
        b = c.css({height: ""}) && c.height(), f = h.offset().top, d = h.height();
    if (Fai.top._manageMode || Fai.isIE6()) {
        var g = 0;
        h.children().each(function () {
            g += $(this).height()
        });
        if (a > (g + f)) {
            c.css("height", (a - g + b - f) + "px")
        }
    } else {
        var e = d + f;
        if (a > e) {
            var i = a - e;
            b = c.outerHeight();
            c.css("height", i + b + "px")
        }
    }
};
Site.initPageBindAmousedown = function () {
    function a(f) {
        if (Fai.isIE8() && f.button == 1) {
            return true
        } else {
            if (Fai.isIE6() && f.button == 1) {
                return true
            } else {
                if (Fai.isIE7() && f.button == 1) {
                    return true
                } else {
                    if (f.button == 0) {
                        return true
                    }
                }
            }
        }
        return false
    }

    if (!Fai.top._designAuth) {
        return
    }
    var d = Site.getTopWindow().$(Site.getTopWindow().document).find("#g_main");
    var c = Site.getTopWindow().$(Site.getTopWindow().document).find("#memberBarArea");
    var b = /^javascript/g;
    d.delegate("a", "click.initSaveChange", function (f) {
        if (!a(f)) {
            return
        }
        var e = $(this).attr("href");
        if (e && e.match(b) == null && !$(this).hasClass("stopPropagation")) {
            var g = $(this).attr("target") || "_self";
            if (!Site.redirectUrl(e, g, f, 0, 0)) {
                return false
            }
        }
    });
    c.delegate("a", "mousedown", function (f) {
        if (!a(f)) {
            return
        }
        var e = $(this).attr("href");
        if (e && e.match(b) == null && !$(this).hasClass("stopPropagation")) {
            var g = $(this).attr("target") || "_self";
            Site.redirectUrl(e, g, f, 0, 0)
        }
        return false
    });
    Site.getTopWindow().$(Site.getTopWindow().document).find("#tabs a.cancelBtn").mousedown(function (e) {
        if (!a(e)) {
            return
        }
        Site.redirectUrl("javascript:;", "cancelBtn", e, 0, 1);
        return false
    });
    Site.getTopWindow().$(Site.getTopWindow().document).delegate("div.navSubMenu a", "mousedown", function (f) {
        if (!a(f)) {
            return
        }
        var e = $(this).attr("href");
        if (e && e.match(b) == null && !$(this).hasClass("stopPropagation")) {
            var g = $(this).attr("target") || "_self";
            Site.redirectUrl(e, g, f, 1, 0)
        }
        return false
    })
};
Site.refreshFooterItemSpacing = function () {
    var b = Fai.top.$("#footerNav");
    if (b.length < 1) {
        return
    }
    var j = b.find(".footerItemSpacing");
    var h = b.find(".footerItemSection");
    if (h.length < 1) {
        return
    }
    var a = 9;
    var f = 5;
    if (b.attr("cusHeight") == "1") {
        if (Fai.top._manageMode) {
            var e = Site.getFooterStyleData() || {};
            Fai.top.Fai.removeCtrlStyleCssList("stylefooter", "webFooterTable", [{
                cls: "li.footerItemSpacing",
                key: "padding-top"
            }]);
            if (b.hasClass("footerPattern1")) {
                Fai.top.Fai.setCtrlStyleCssList("stylefooter", "webFooterTable", [{
                    cls: "li.footerItemSection",
                    key: "height",
                    value: e.fih + "px"
                }, {
                    cls: "li.footerItemSpacing",
                    key: "height",
                    value: (e.fih - a) + "px"
                }, {cls: "li.footerItemSpacing", key: "padding-top", value: f + "px"}])
            } else {
                Fai.top.Fai.setCtrlStyleCssList("stylefooter", "webFooterTable", [{
                    cls: "li.footerItemSection",
                    key: "height",
                    value: e.fih + "px"
                }, {cls: "li.footerItemSpacing", key: "height", value: e.fih + "px"}])
            }
        }
        return
    }
    Fai.top.Fai.removeCtrlStyleCssList("stylefooter", "webFooterTable", [{
        cls: "li.footerItemSpacing",
        key: "padding-top"
    }]);
    Fai.top.Fai.setCtrlStyleCssList("tmpStylefooter", "webFooterTable", [{
        cls: "li.footerItemSection",
        key: "height",
        value: "auto !important"
    }, {cls: "li.footerItemSpacing", key: "height", value: "auto !important"}]);
    var g = h.eq(0).height();
    var d = 0;
    for (var c = 1; c < h.length; c++) {
        d = h.eq(c).height();
        if (d > g) {
            g = d
        }
    }
    if (b.hasClass("footerPattern1")) {
        Fai.top.Fai.setCtrlStyleCssList("stylefooter", "webFooterTable", [{
            cls: "li.footerItemSection",
            key: "height",
            value: g + "px"
        }, {cls: "li.footerItemSpacing", key: "height", value: (g - a) + "px"}, {
            cls: "li.footerItemSpacing",
            key: "padding-top",
            value: f + "px"
        }])
    } else {
        Fai.top.Fai.setCtrlStyleCssList("stylefooter", "webFooterTable", [{
            cls: "li.footerItemSection",
            key: "height",
            value: g + "px"
        }, {cls: "li.footerItemSpacing", key: "height", value: g + "px"}])
    }
    Fai.top.Fai.removeCtrlStyleCssList("tmpStylefooter", "webFooterTable", [{
        cls: "li.footerItemSection",
        key: "height"
    }, {cls: "li.footerItemSpacing", key: "height"}]);
    Fai.top.$("#tmpStylefooter").remove()
};
Site.pageOnload = function () {
    Site.userReadyOperateSite();
    Site.mobiPlatform();
    Site.fixWebFooterHeight();
    if (Fai.top.$("#banner").length) {
        Site.refreshBanner(0)
    }
    if (Fai.top.$("#bannerV2").length) {
        Site.bannerV2.adjustBannerWidth()
    }
    Site.adjustBannerWidth();
    Site.addStellarEvent();
    Site.checkFaiAnchor();
};
Site.beforeUnloadFunc = function () {
    var a = Fai.top.onbeforeunload;
    Fai.top.onbeforeunload = function () {
        if (typeof a == "function") {
            a.apply(this, arguments)
        }
    }
};
Site.bindBeforeUnloadEvent = function (b, c, a) {
    Fai.top.$(document).ready(function () {
        Fai.top.$(window).bind("beforeunload", function (f) {
            if (c) {
                Site.bgmFlushContinue()
            } else {
                if (Fai.top.bgmCloseToOpen) {
                    Site.bgmFlushContinue()
                }
            }
            if (b) {
                if (_changeStyleNum > 0) {
                    return "您的网站设计正处于编辑状态，离开该页面将会失去您对网站所做的修改。"
                }
            }
            if (a) {
                Site.jumpToMobiDesign(1)
            }
        });
        var d = Fai.top.onbeforeunload;
        Fai.top.onbeforeunload = function () {
            if (typeof d == "function") {
                d.apply(this, arguments)
            }
            if (b) {
                if (_changeStyleNum > 0) {
                    return "您的网站设计正处于编辑状态，离开该页面将会失去您对网站所做的修改。"
                }
            }
        }
    })
};
Site.closeRightClickTool = function () {
    $(document).bind("contextmenu copy cut", function (a) {
        if ($(a.target).is("input, textarea")) {
            return
        } else {
            return false
        }
    });
    if (Fai.isIE6() || Fai.isIE7() || Fai.isIE8()) {
        $(document).bind("selectstart", function (a) {
            if ($(a.target).is("input, textarea")) {
                return
            } else {
                return false
            }
        })
    }
};
Site.triggerGobalEvent = function (a, b) {
    Fai.top.$(Fai.top.document).trigger(a, b)
};
Site.bindGobalEvent = function (a, b) {
    if (a == "site_articlePictureChange" && Fai.isIE()) {
        Fai.top.$(Fai.top.document).off(a)
    }
    Fai.top.$(Fai.top.document).on(a, b)
};
Site.refreshFormIndexClass = function () {
    if (!Fai.top._manageMode) {
        return
    }
    Site.refreshFormIndexClass2({id: "topForms"});
    Site.refreshFormIndexClass2({id: "leftForms"});
    Site.refreshFormIndexClass2({id: "centerTopForms"});
    Site.refreshFormIndexClass2({id: "middleLeftForms"});
    Site.refreshFormIndexClass2({id: "middleRightForms"});
    Site.refreshFormIndexClass2({id: "centerBottomForms"});
    Site.refreshFormIndexClass2({id: "rightForms"});
    Site.refreshFormIndexClass2({id: "bottomForms"});
    Site.refreshFormIndexClass2({id: "fullmeasureTopForms"});
    Site.refreshFormIndexClass2({id: "fullmeasureBottomForms"});
    Site.refreshFormIndexClass2({id: "absTopForms"});
    Site.refreshFormIndexClass2({id: "absForms"});
    Site.refreshFormIndexClass2({id: "absBottomForms"});
    Site.refreshFormIndexClass2({id: "floatLeftTopForms"});
    Site.refreshFormIndexClass2({id: "floatRightTopForms"});
    Site.refreshFormIndexClass2({id: "floatLeftBottomForms"});
    Site.refreshFormIndexClass2({id: "floatRightBottomForms"});
    Site.refreshFormIndexClass2({id: "fk-webHeaderZone"});
    Site.refreshFormIndexClass2({id: "fk-webBannerZone"});
    Site.refreshFormIndexClass2({id: "fk-webFooterZone"});
    Site.refreshFormIndexClass2({_class: "fk-inBannerListZone"});
    Site.refreshFormIndexClassInPopupZone()
};
Site.refreshFormIndexClass2 = function (i) {
    var b = i.id;
    var e = i._class;
    var a = i.inFullmeasure || 0;
    var h, d, c, g;
    var f;
    if (typeof b != "undefined") {
        f = Fai.top.$("#" + b).children(".form")
    } else {
        if (typeof e != "undefined") {
            f = Fai.top.$("." + e).children(".form")
        }
    }
    f.each(function (j, k) {
        c = $(k);
        g = Site.checkNestModule(c);
        c.attr("_inmulmcol", 0);
        c.attr("_intab", 0);
        c.attr("_infullmeasure", 0);
        c.attr("_inpack", 0);
        if (g.isCol) {
            Site.refreshFormIndexClassInCol(c)
        } else {
            if (g.isTab) {
                Site.refreshFormIndexClassInTab(c)
            } else {
                if (g.isPack) {
                    Site.refreshFormIndexClassInPack(c)
                } else {
                    if (g.isFullmeasure) {
                        Site.refreshFormIndexClassInFullmeasure(c)
                    }
                }
            }
        }
        h = c.attr("_indexClass");
        d = "formIndex" + (j + 1);
        if (Fai.isNull(h)) {
            c.addClass(d);
            c.attr("_indexClass", d);
            Fai.refreshClass(c)
        } else {
            if (h != d) {
                c.removeClass(h);
                c.addClass(d);
                c.attr("_indexClass", d);
                Fai.refreshClass(c)
            }
        }
    })
};
Site.refreshFormIndexClassInCol = function (b) {
    var d = b.attr("id").replace("module", "") || 0, a, c;
    b.find(".mulMColList").children(".form").each(function (e, f) {
        a = $(f);
        a.attr("_inmulmcol", d);
        a.attr("_intab", 0);
        a.attr("_infullmeasure", 0);
        a.attr("_inpack", 0);
        a.removeAttr("_indexclass ");
        c = Site.checkNestModule(a);
        if (c.isTab) {
            Site.refreshFormIndexClassInTab(a)
        } else {
            if (c.isPack) {
                Site.refreshFormIndexClassInPack(a)
            }
        }
    })
};
Site.refreshFormIndexClassInTab = function (b) {
    var c = b.attr("id").replace("module", "") || 0, a;
    b.find(".formTabCntId").children(".form").each(function (d, e) {
        a = $(e);
        a.attr("_inmulmcol", 0);
        a.attr("_intab", c);
        a.attr("_infullmeasure", 0);
        a.attr("_inpack", 0);
        a.removeAttr("_indexclass ");
        if (Site.checkNestModule(a).isPack) {
            Site.refreshFormIndexClassInPack(a)
        }
    })
};
Site.refreshFormIndexClassInFullmeasure = function (c) {
    var f = c.attr("id").replace("module", "") || 0, a, e, b, d;
    c.find(".fullmeasureContent").children(".form").each(function (g, h) {
        b = $(h);
        b.attr("_inmulmcol", 0);
        b.attr("_intab", 0);
        b.attr("_infullmeasure", f);
        b.attr("_inpack", 0);
        d = Site.checkNestModule(b);
        if (d.isTab) {
            Site.refreshFormIndexClassInTab(b)
        } else {
            if (d.isCol) {
                Site.refreshFormIndexClassInCol(b)
            } else {
                if (d.isPack) {
                    Site.refreshFormIndexClassInPack(b)
                }
            }
        }
        a = b.attr("_indexClass");
        e = "formIndex" + (g + 1);
        if (Fai.isNull(a)) {
            b.addClass(e);
            b.attr("_indexClass", e);
            Fai.refreshClass(b)
        } else {
            if (a != e) {
                b.removeClass(a);
                b.addClass(e);
                b.attr("_indexClass", e);
                Fai.refreshClass(b)
            }
        }
    })
};
Site.refreshFormIndexClassInPack = function (b) {
    var d = b.attr("id").replace("module", "") || 0, a, c;
    b.find(".J_packContent").children(".form").each(function (e, f) {
        a = $(f);
        a.attr("_inmulmcol", 0);
        a.attr("_intab", 0);
        a.attr("_infullmeasure", 0);
        a.attr("_inpack", d);
        a.removeAttr("_indexclass ");
        c = Site.checkNestModule(a);
        if (c.isTab) {
            Site.refreshFormIndexClassInTab(a)
        } else {
            if (c.isCol) {
                Site.refreshFormIndexClassInCol(a)
            }
        }
    })
};
Site.refreshFormIndexClassInPopupZone = function () {
    var b = Fai.top.$(".formStyle105");
    if (b.length < 1) {
        return
    }
    var d = b.attr("id").replace("module", "") || 0, a, c;
    b.find(".J_popupZoneContent").children(".form").each(function (e, f) {
        a = $(f);
        a.attr("_inmulmcol", 0);
        a.attr("_intab", 0);
        a.attr("_infullmeasure", 0);
        a.attr("_inpack", 0);
        a.attr("_inpopupzone", d);
        a.removeAttr("_indexclass ")
    })
};
Site.checkNestModule = function (b) {
    var j = {
            nest: false,
            isTab: false,
            isCol: false,
            isFullmeasure: false,
            isPack: false,
            isElemZone: false,
            isPopupZone: false,
            parentId: 0,
            inTab: false,
            inCol: false,
            inFullmeasure: false,
            inPack: false,
            inZone: false,
            inSubNav: false,
            inElemZone: false,
            inPopupZone: false
        }, e = parseInt(b.attr("_intab")) || 0, f = parseInt(b.attr("_inmulmcol")) || 0,
        a = parseInt(b.attr("_infullmeasure")) || 0, i = parseInt(b.attr("_inpack")) || 0,
        h = Site.checkModuleInZone(b), g = Site.checkModuleInSubNav(b), d = Site.checkModuleInElemZone(b),
        c = parseInt(b.attr("_inpopupzone")) || 0;
    if (b.hasClass("formStyle35")) {
        j.nest = true;
        j.isCol = true
    } else {
        if (b.hasClass("formStyle29")) {
            j.nest = true;
            j.isTab = true
        } else {
            if (b.hasClass("formStyle80")) {
                j.nest = true;
                j.isFullmeasure = true
            } else {
                if (b.hasClass("formStyle87")) {
                    j.nest = true;
                    j.isPack = true
                } else {
                    if (b.hasClass("formStyle105")) {
                        j.nest = true;
                        j.isPopupZone = true
                    }
                }
            }
        }
    }
    if (b.hasClass("elemZone")) {
        j.isElemZone = true
    }
    if (e > 0) {
        j.parentId = e;
        j.inTab = true
    } else {
        if (f > 0) {
            j.parentId = f;
            j.inCol = true
        } else {
            if (a > 0) {
                j.parentId = a;
                j.inFullmeasure = true
            } else {
                if (i > 0) {
                    j.parentId = i;
                    j.inPack = true
                } else {
                    if (h) {
                        j.parentId = b.parent().attr("id");
                        j.inZone = true
                    } else {
                        if (g) {
                            j.parentId = b.parent().attr("id");
                            j.inSubNav = true
                        } else {
                            if (c) {
                                j.parentId = b.parent().attr("id");
                                j.inPopupZone = true
                            }
                        }
                    }
                }
            }
        }
    }
    if (d) {
        j.inElemZone = true;
        j.realParentId = b.parent().attr("id")
    }
    return j
};
Site.resetGmainPos = function (c) {
    var e = 0;
    e = c || Site.getTopHeight();
    var b = Fai.top.$("#g_main");
    if (Fai.isIE6() || Fai.isIE7()) {
        var a = Fai.top.document.documentElement.clientHeight - e;
        if (b.height() != a) {
            b.css("height", a + "px")
        }
        var d = Fai.top.document.documentElement.clientWidth;
        if (b.width() != d) {
            b.css("width", d + "px")
        }
    }
    if ($("#topBar").css("display") === "block") {
        e = (e - 6)
    }
    if ($("#memberBarArea").length !== 0) {
        e = e - 2
    }
    if (b.css("top") != (e + "px")) {
        b.css("top", e + "px")
    }
    Site.resetMemberBarPos();
    Fai.top.$(".floatLeftTop").css("top", e + "px");
    Fai.top.$(".floatRightTop").css("top", e + "px")
};
Site.resetMemberBarPos = function () {
    var b = Site.getTopHeight() - 37;
    if ($("#topBar").css("display") === "block") {
        b = (b - 6)
    }
    var a = Fai.top.$("#memberBarArea");
    if (a.css("top") != (b + "px")) {
        a.css("top", b + "px")
    }
};
Site.getTopHeight = function () {
    if (Fai.top._Global._topBarV2) {
        return a()
    } else {
        return b()
    }

    function b() {
        var h = 0;
        var g = 0;
        var c = 0;
        var f = 0;
        var i = 0;
        var e = 0;
        var d = 0;
        if ((Fai.top.$("#sitetips").length > 0) && (Fai.top.$("#sitetips").css("display") != "none")) {
            i = Fai.top.$("#sitetips").outerHeight(true)
        }
        if ((Fai.top.$("#arrears").length > 0) && (Fai.top.$("#arrears").css("display") != "none")) {
            g = Fai.top.$("#arrears").outerHeight(true)
        }
        if ((Fai.top.$("#topBar").length > 0) && (Fai.top.$("#topBar").css("display") != "none")) {
            c = Fai.top.$("#topBarArea").outerHeight(true)
        }
        if ((Fai.top.$("#styleDesign").length > 0) && (Fai.top.$("#styleDesign").css("display") != "none")) {
            f = Fai.top.$("#styleDesign").outerHeight(true)
        }
        if ((Fai.top.$("#siteTipsDemoTemplate").length > 0) && (Fai.top.$("#siteTipsDemoTemplate").css("display") != "none")) {
            e = Fai.top.$("#siteTipsDemoTemplate").outerHeight(true)
        }
        if ((Fai.top.$("#memberBarArea").length > 0) && (Fai.top.$("#memberBarArea").css("display") != "none")) {
            d = Fai.top.$("#memberBarArea").outerHeight(true)
        }
        if (f > 0) {
            i = 0
        }
        h = g + c + f + i + e + d;
        return h
    }

    function a() {
        var h = 0, c = Fai.top.$("#sitetips"), f = Fai.top.$("#arrears"), e = Fai.top.$("#fk-toolTopBar"),
            d = Fai.top.$("#siteTipsDemoTemplate"), g = Fai.top.$("#memberBarArea");
        if (c.length > 0 && c.is(":visible")) {
            h += c.outerHeight(true)
        }
        if (f.length > 0 && f.is(":visible")) {
            h += f.outerHeight(true)
        }
        if (e.length > 0 && e.is(":visible")) {
            h += e.outerHeight(true)
        }
        if (d.length > 0 && d.is(":visible")) {
            d += d.outerHeight(true)
        }
        if (g.length > 0 && g.is(":visible")) {
            h += g.outerHeight(true)
        }
        return h < 0 ? 0 : h
    }
};
Site.scrollToDiv = function (a) {
    if (Fai.top.$("#g_main").hasClass("g_mainManage")) {
        Fai.top.$("#g_main").scrollTop(0);
        Fai.top.$("#g_main").scrollTop(a.offset().top - Fai.top.$(".g_main").offset().top - 10)
    } else {
        Fai.top.$("body").scrollTop(0);
        Fai.top.$("body").scrollTop(a.offset().top - 10)
    }
};
Site.checkSaveBar = function (a) {
    if (Fai.top._changeStyleNum > 0) {
        Site.popupStyleChangeBodyWindow({
            msg: "您的网站设计已经更改，是否立即保存？",
            isCancelBtn: false,
            runCallback: false,
            saveBtnStr: "确定",
            cancelBtnStr: "取消",
            otherOptions: a
        });
        return true
    }
    return false
};
Site.logClick = function (c, b) {
    return;
    var a = "cmd=click&app=" + c;
    if (typeof b != "undefined") {
        a += "&value=" + b
    }
    $.ajax({
        type: "post", url: Site.genAjaxUrl("log_h.jsp"), data: a, error: function () {
        }, success: function () {
        }
    })
};
Site.getFooterBottom = function (a) {
    if (!a) {
        if (Fai.top.$(".footerSupport").css("display") != "none") {
            return Fai.top.$(".footerSupport").offset().top
        } else {
            return Fai.top.$("#webFooter").offset().top + Fai.top.$("#webFooter").height()
        }
    } else {
        return Fai.top.$("#webFooter").offset().top + Fai.top.$("#webFooter").height()
    }
};
Site.navAppendToParent = function (e, f) {
    var a = Site.getTopWindow().$("#nav"), b, g;

    function d(h, i) {
        if (Fai.top.$("#nav").data("isChangeNavWidth") !== true) {
            return
        }
        if (h !== i) {
            a.offset({top: h});
            a.removeData("isChangeNavWidth")
        }
    }

    if (!f) {
        var c = Site.getTopWindow().$("#nav");
        if (Fai.top._useNavVersionTwo) {
            c = Site.getTopWindow().$("#navV2Wrap")
        }
        if (Fai.top._isThemeNavFloatRight) {
            c.appendTo(Site.getTopWindow().$("#webNav"))
        } else {
            if (e == 0) {
                Site.getTopWindow().$("#banner").appendTo(Site.getTopWindow().$("#webBanner .bannerCenter"));
                c.appendTo(Site.getTopWindow().$("#webBanner .bannerCenter"))
            } else {
                if (e == 1) {
                    Site.getTopWindow().$("#banner").appendTo(Site.getTopWindow().$("#webBanner .bannerCenter"));
                    c.appendTo(Site.getTopWindow().$("#webHeader .headerNav"))
                } else {
                    if (e == 2) {
                        Site.getTopWindow().$("#banner").appendTo(Site.getTopWindow().$("#containerMiddleLeft"));
                        c.appendTo(Site.getTopWindow().$("#webHeader .headerNav"))
                    } else {
                        if (e == 3 || e == 5) {
                            c.appendTo(Site.getTopWindow().$("#containerMiddleLeft"));
                            Site.getTopWindow().$("#banner").appendTo(Site.getTopWindow().$("#containerMiddleLeft"))
                        } else {
                            if (e == 4 || e == 6) {
                                Site.getTopWindow().$("#banner").appendTo(Site.getTopWindow().$("#containerMiddleCenterTop"));
                                c.appendTo(Site.getTopWindow().$("#containerMiddleLeft"))
                            } else {
                                if (e == 7) {
                                    Site.getTopWindow().$("#banner").prependTo(Site.getTopWindow().$("#containerFormsCenter"));
                                    c.appendTo(Site.getTopWindow().$("#webHeader .headerNav"))
                                } else {
                                    if (e == 8) {
                                        Site.getTopWindow().$("#banner").prependTo(Site.getTopWindow().$("#centerTopForms"));
                                        c.appendTo(Site.getTopWindow().$("#webHeader .headerNav"))
                                    } else {
                                        if (e == 9) {
                                            Site.getTopWindow().$("#banner").appendTo(Site.getTopWindow().$("#webBanner .bannerCenter"));
                                            c.appendTo(Site.getTopWindow().$("#webNav"))
                                        } else {
                                            if (e == 10) {
                                                c.appendTo(Site.getTopWindow().$("#webBanner .bannerCenter"));
                                                Site.getTopWindow().$("#banner").appendTo(Site.getTopWindow().$("#webBanner .bannerCenter"))
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
};
Site.initTemplateLayout = function (c, d, b) {
    var a = Fai.top.$("#webBanner");
    Site.navAppendToParent(c, d);
    if (c == 0) {
        a.show();
        Site.showNavSubMenu(0);
        setTimeout(function () {
            Site.showNavItemContainer()
        }, 200)
    } else {
        if (c == 1) {
            a.show();
            Site.showNavSubMenu(0);
            setTimeout(function () {
                Site.showNavItemContainer()
            }, 200)
        } else {
            if (c == 2) {
                a.hide();
                Site.showNavSubMenu(0);
                setTimeout(function () {
                    Site.showNavItemContainer()
                }, 200)
            } else {
                if (c == 3) {
                    a.hide();
                    Site.showNavSubMenu(1);
                    setTimeout(function () {
                        Site.showNavItemContainer()
                    }, 200);
                    Site.hideNavItemContainer()
                } else {
                    if (c == 4) {
                        a.hide();
                        Site.showNavSubMenu(1);
                        setTimeout(function () {
                            Site.showNavItemContainer()
                        }, 200);
                        Site.hideNavItemContainer()
                    } else {
                        if (c == 5) {
                            a.hide();
                            Site.showNavSubMenu(1);
                            setTimeout(function () {
                                Site.showNavItemContainer()
                            }, 200);
                            Site.hideNavItemContainer()
                        } else {
                            if (c == 6) {
                                a.hide();
                                Site.showNavSubMenu(100);
                                setTimeout(function () {
                                    Site.showNavItemContainer()
                                }, 200);
                                Site.hideNavItemContainer()
                            } else {
                                if (c == 7) {
                                    a.hide();
                                    Site.showNavSubMenu(0);
                                    setTimeout(function () {
                                        Site.showNavItemContainer()
                                    }, 200)
                                } else {
                                    if (c == 8) {
                                        a.hide();
                                        Site.showNavSubMenu(0);
                                        setTimeout(function () {
                                            Site.showNavItemContainer()
                                        }, 200)
                                    } else {
                                        if (c == 9 || c == 10) {
                                            a.show();
                                            Site.showNavSubMenu(0);
                                            setTimeout(function () {
                                                Site.showNavItemContainer()
                                            }, 200)
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
    if (Fai.top._manageMode) {
        setTimeout(function () {
            Site.absoluteNavDraggableAndResize(c, b)
        }, 300)
    }
};
Site.checkFaiAnchor = function () {
    var c = window.location.hash;
    var b = c.substring(1).split("_");
    if (b[0] != "fai") {
        return
    }
    var d = b[1], a = b[2];
    if (!!d) {
        if (typeof a == "undefined") {
            a = "top"
        }
        Site.jumpToModulePosition(d, a)
    }
    return
};
Site.logout = function (a) {
    Fai.ing("正在退出系统...", false);
    $.ajax({
        type: "post", url: "ajax/login_h.jsp?cmd=logout", error: function () {
            Fai.ing("系统繁忙，请稍后重试。", false)
        }, success: function (b) {
            Fai.successHandle(b, "", "系统繁忙，请稍后重试。", a, 1, 1)
        }
    })
};
Site.manageFaiscoAd = function () {
    if (_manageMode) {
        $(".siteAdvertisement_box").mouseover(function () {
            $(".siteAdvertisement_boxTip").css("display", "block")
        }).mouseleave(function () {
            $(".siteAdvertisement_boxTip").css("display", "none")
        })
    }
    $(".reportUrl").mouseover(function () {
        $(this).text("举报此网站").css("text-decoration", "underline")
    }).mouseleave(function () {
        $(this).text("举报").css("text-decoration", "none")
    });
    $(".closeImg").click(function () {
        if (_manageMode) {
            if (Fai.isDbg()) {
                $.cookie("faiscoAd", false, {expires: 1, path: "/", domain: "aaa.cn"})
            } else {
                $.cookie("faiscoAd", false, {expires: 1, path: "/", domain: "faisco.cn"})
            }
            var a = $.cookie("faiscoAdLoopCount");
            if (a == "1") {
                Site.logDog(4000067, 5)
            } else {
                if (a == "2") {
                    Site.logDog(200004, 23)
                } else {
                    if (a == "3") {
                        Site.logDog(200004, 24)
                    } else {
                        if (a == "4") {
                            Site.logDog(200004, 21)
                        }
                    }
                }
            }
        }
        $(".siteAdvertisement_box").css("display", "none")
    });
    $(".fk-7thCelebrate").on("click.seventh", function (a) {
        if ($(a.target).hasClass("closeImg")) {
            return
        }
        Site.popBigAdWindow();
        return false
    })
};
Site.popBigAdWindow = function () {
    if (!Fai.top._bigAdOptions) {
        return
    }
    var b = Fai.top._bigAdOptions.sevenCelebration, f = {
        frameScrolling: false,
        noframeUrl: true,
        noHeadLine: true,
        noHeadBorder: true,
        popUpTip: "<a href='#' class='advCloseBtn'></a>",
        width: b ? 800 : 600,
        height: b ? 490 : 370,
        btnConfirm: b ? "了解看看" : "网站升级",
        popUpWinClass: b ? "sevenCelebration" : "bigAdvertisement"
    };
    if (b) {
        f.btnCls = "QQ咨询";
        f.callback = function () {
            if ($.cookie("7thHappy") == null) {
                $.cookie("7thHappy", true, {expires: 14})
            }
        }
    }
    var c = Fai.top.Fai.popupWindowVersionTwo.createPopupWindow(f);
    var a = Fai.top.$("#popupWindow" + c.popupWindowId), d = a.find(".jz-btn").eq(0), e = a.find(".advCloseBtn");
    d.click(function () {
        if (b) {
            Site.logDog(4000080, 3);
            window.open(Fai.top._bigAdOptions.sevenKnowMoreUrl)
        } else {
            window.location.href = Fai.top._bigAdOptions.dailyImgUrl;
            Site.logDog(200004, 27)
        }
    });
    if (b) {
        a.find(".jz-btn").eq(1).on("click.seven", function () {
            Site.logDog(4000080, 4);
            window.open(Fai.top._bigAdOptions.sevenQQUrl)
        })
    }
    if (b) {
        Site.logDog(4000080, 1)
    } else {
        Site.logDog(200004, 26)
    }
    e.unbind("click.close").bind("click.close", function () {
        a.addClass("transition");
        $(".popupBg").addClass("changeOpacity")
    })
};
Site.initMulColModuleInIE = function (a) {
    if (Fai.isIE10()) {
        $(a).find(".mulModuleColStyleLine").css("height", $(a).height() - 25 + "px")
    }
};
Site.initCorpTitleJump = function () {
    $("#corpTitle").click(function () {
        var b = $(this).attr("_href");
        if (b == "" || b == null) {
            return false
        }
        if ($(this).find(".fkEditor").attr("contenteditable") == "true") {
            return false
        }
        var a = parseInt($(this).attr("_linktype"));
        if (Fai.top._titleData != null && Fai.top._titleData != "") {
            if (Fai.top._titleData.jm.ot === 1) {
                window.open(b)
            } else {
                Fai.top.location.href = b
            }
        } else {
            if (a === 1) {
                window.open(b)
            } else {
                Fai.top.location.href = b
            }
        }
    })
};
Site.onTitleSiteFixTop = function () {
    var f, h = false, a = false, r = Fai.isIE6(), q = Fai.isIE7(), z = Fai.top.$("#corpTitle"), u = Fai.top.$(window),
        n = Fai.top.$("#g_main"), d = Fai.top.$("#web"), k = Fai.top.$("body"), w = Fai.top.$(".webTopTable"),
        g = Fai.top.$(".floatLeftTop"), e = z.parent(), m = Fai.top.$("#sitetips"), l,
        v = parseInt(z.css("top").replace("px", "")), s = z.offset().top - n.offset().top, j = z.position().left,
        p = m.height() || 0, c = s, b = g.css("top").replace("px", "") || 0, o = Fai.top.$(window), y = o;
    if (r || q) {
        a = true;
        y = n
    }
    var x = z.offset().left - e.offset().left;
    var t, i;
    y.off("scroll.title");
    y.on("scroll.title", function () {
        var B = y.scrollTop(), A = parseInt(g.css("top").replace("px", "")) - 1;
        b = A || 0;
        f = Site.getNavInClientPosition(z).left;
        if (w.find("#corpTitle").length > 0) {
            l = w;
            l.css({zIndex: "60", position: "relative"})
        }
        if (!h && c < B) {
            if (r) {
                t = z.parent();
                i = z.offset().left - t.offset().left;
                k.prepend(z);
                z.css({position: "absolute", left: f + "px", top: b + "px"})
            } else {
                z.addClass("titlefixtop");
                z.css({left: f + "px", top: b + "px", position: "fixed"})
            }
            h = true
        }
        if (h && c > B) {
            if (r) {
                e.append(z);
                z.css({position: "absolute", left: j, top: s, zIndex: ""})
            } else {
                z.removeClass("titlefixtop");
                z.css({position: "absolute", left: j, top: s})
            }
            h = false
        }
    });
    Fai.top.$(window).on("resize.title", function () {
        if (r && z.offset().top == 0) {
            z.css("left", t.offset().left + i)
        } else {
            if (z.hasClass("titlefixtop")) {
                setTimeout(function () {
                    z.css("left", e.offset().left + x)
                }, 0)
            }
        }
    })
};
Site.onLogoSiteFixTop = function () {
    var f, j = false, a = false, s = Fai.isIE6(), q = Fai.isIE7(), g = Fai.top.$("#logo"), w = Fai.top.$(window),
        n = Fai.top.$("#g_main"), e = Fai.top.$("#web"), k = Fai.top.$("body"), x = Fai.top.$(".webTopTable"),
        i = Fai.top.$(".floatLeftTop"), h = g.parent(), m = Fai.top.$("#sitetips"), l,
        v = parseInt(g.css("top").replace("px", "")), y = g.offset().top - n.offset().top, r = g.position().left,
        p = m.height() || 0, d = y, c = i.css("top").replace("px", "") || 0, o = Fai.top.$(window), z = o;
    if (s || q) {
        a = true;
        z = n
    }
    var u = g.offset().left - h.offset().left;
    var t, b;
    z.off("scroll.logo");
    z.on("scroll.logo", function () {
        var B = z.scrollTop(), A = parseInt(i.css("top").replace("px", "")) - 1;
        c = A || 0;
        f = Site.getNavInClientPosition(g).left;
        if (x.find("#logo").length > 0) {
            l = x;
            l.css({zIndex: "60", position: "relative"})
        }
        if (!j && d < B) {
            if (s) {
                t = g.parent();
                b = g.offset().left - t.offset().left;
                k.prepend(g);
                g.css({position: "absolute", left: f + "px", top: c + "px", zIndex: 60})
            } else {
                g.addClass("logofixtop");
                g.css({left: f + "px", top: c + "px", position: "fixed"})
            }
            j = true
        }
        if (j && d > B) {
            if (s) {
                h.append(g);
                g.css({position: "absolute", left: r, top: y, zIndex: ""})
            } else {
                g.removeClass("logofixtop");
                g.css({position: "absolute", left: r, top: y})
            }
            j = false
        }
    });
    Fai.top.$(window).on("resize.logo", function () {
        if (s && g.offset().top == 0) {
            g.css("left", t.offset().left + b)
        } else {
            if (g.hasClass("logofixtop")) {
                setTimeout(function () {
                    g.css("left", h.offset().left + u)
                }, 0)
            }
        }
    })
};
Site.voidFun = function () {
};
Site.codeInsertButtom = function (d) {
    var b = /document.write/g;
    d = d.replace(b, "Site.voidFun");
    var a = document.createElement("script");
    a.type = "text/javascript";
    try {
        a.appendChild(document.createTextNode(d))
    } catch (c) {
        a.text = d
    }
    document.body.appendChild(a)
};
Site.computeTabsWidthHideMore = function (e) {
    var d = Fai.top.$("#module" + e).find(".formTabButtonTopCenter");
    var c = parseInt(d.css("width")) + 4;
    var b = 0;
    var a = d.find(".formTabButton");
    $.each(a, function (f, h) {
        var g = parseInt($(h).css("width"));
        b += g + 5
    });
    b += 40;
    if (b > c) {
        d.find(".formTabButtonMore").hide()
    } else {
        d.find(".formTabButtonMore").show()
    }
};
Site.wxShareAlter = function (b, d) {
    var e = [];
    e.push("<div class='wxShare'>");
    e.push("<div class='wxShareContent'>");
    e.push("<div class='wxShareDesc'>");
    e.push("<span>" + LS.weChatShare + "</span>");
    e.push("</div>");
    e.push("<div class='wxShareQrcode'><img alt='' src='" + b + "' /></div>");
    e.push("</div>");
    e.push("</div>");
    var c = 0;
    if (d) {
        var a = {
            title: "微信分享", width: 480, height: 480, divContent: e.join(""), closeFunc: function () {
                $("body").css("overflow", "")
            }
        };
        c = Site.getTopWindow().Fai.popupWindowVersionTwo.createPopupWindow(a).getPopupWindowId();
        var g = $("#popupWindow" + c);
        var f = parseInt(g.css("top"));
        g.css("top", f + $(document).scrollTop() + "px");
        $("body").css("overflow", "hidden")
    } else {
        c = Site.getTopWindow().Fai.popupWindow({
            width: 480,
            height: 420,
            frameScrolling: "no",
            bannerDisplay: false,
            bgClose: true,
            closeBtnClass: "wxSharehideCloseBtn",
            divContent: e.join("")
        })
    }
    if (Fai.isIE6() && Fai.top.$("#fixSelectIframe" + c).length > 0) {
        Fai.top.$("#fixSelectIframe" + c).remove()
    }
};
Site.hoverChangeImage = function (k) {
    var n = [], f = [];
    var r = false;
    var o = this.body ? this.body : (this.editor ? this.editor.body : false);
    if (!!k && k.length > 0) {
        n = k.find("img[_defImg][_hovImg], img[_defFont][_hovFont], div[_defFont][_hovFont], div[_defImg][_hovImg]");
        f = k.find(".J_hoverImage")
    } else {
        if (o) {
            n = $(o).find("img[_defImg][_hovImg], img[_defFont][_hovFont], div[_defFont][_hovFont], div[_defImg][_hovImg]");
            f = $(o).find(".J_hoverImage")
        } else {
            n = $("img[_defImg][_hovImg], img[_defFont][_hovFont], div[_defFont][_hovFont], div[_defImg][_hovImg]");
            f = $(".J_hoverImage")
        }
    }
    if (n.length == 0) {
        return
    }
    f.remove();
    for (var s = 0; s < n.length; s++) {
        var v = n[s];
        var p = $(v).parent();
        var e = $(v).position().top;
        var c = $(v).position().left;
        var t = $(v).width();
        var q = $(v).height();
        var d = $(v).attr("title") || "";
        var m = $(v).attr("_defFont");
        var h = "";
        var g = $(v).attr("_hovImg");
        var w = "position: absolute; opacity:0;";
        var l = $(v).attr("_hovFont");
        var j = $(v).attr("_hovColor");
        r = ($(v).parents(".richContent").length > 0 || o) && $(p).is("p, span, td");
        if (r) {
            if (!(p[0].nodeName.toLowerCase() === "span" && $(p).hasClass("J_hoverImageParent"))) {
                var a = "display: inline-block; width: " + t + "px; height: " + q + "px; _display: block; _zoom: 1;";
                $(v).after("<span class='J_hoverImageParent' style='" + a + "'></span>");
                p = $(v).next("span");
                $(p).append($(v))
            }
        }
        var h = $(p).find(".J_hoverImage");
        if (h.length == 0) {
            w += "top: 0px; left: 0px; width:" + t + "px; height:" + q + "px;";
            if (!!l) {
                font_size = (t > q) ? q : t;
                w += "font-size:" + font_size + "px; text-align : center; line-height:" + q + "px;";
                h = "<div class='J_hoverImage " + l + "' style='" + w + "color: " + j + "' ></div>"
            } else {
                h = "<img class='J_hoverImage' src='" + g + "' style='" + w + (g ? "" : "visibility:hidden;") + "' title='" + d + "' alt='" + d + "' >"
            }
            $(v).after(h)
        }
        $(v).css("opacity", "")
    }
    var u = $(n).parent();
    $.each(u, function (y, z) {
        var A = $(this).find("img[_defImg], div[_defFont]")[0];
        if (typeof($(A).attr("_hovImg")) == "undefined" && typeof($(A).attr("_hovFont")) == "undefined") {
            return
        }
        if (typeof($(A).attr("_hovImg")) != "undefined" && $(A).attr("_hovImg").length == 0) {
            return
        }
        var x = $(z).parents(".form");
        if (Fai.isChrome() && !$(x).hasClass("formStyle31")) {
            $(z).css("position", "relative")
        }
        $(z).off(".hoverImage");
        $(z).on("mouseenter.hoverImage", function () {
            var B = $(this).find("img[_defImg], div[_defFont]")[0];
            var C = $(this).find(".J_hoverImage");
            var i = $(this).find(".forMargin");
            b(B, C);
            $(B).stop(false, true).animate({opacity: 0}, 500);
            $(C).stop(false, true).animate({opacity: 1}, 500)
        }).on("mouseleave.hoverImage", function () {
            var i = $(this).find("img[_defImg], div[_defFont]")[0];
            var B = $(this).find(".J_hoverImage");
            b(i, B);
            $(i).stop(false, true).animate({opacity: 1}, 500);
            $(B).stop(false, true).animate({opacity: 0}, 500)
        })
    });

    function b(A, D) {
        var y = $(A).width();
        var x = $(A).height();
        var z = $(A).position().top;
        var i = $(A).position().left;
        var C = $(A).css("margin-left");
        var B = $(A).css("margin-top");
        if (!!C) {
            C = parseInt(C.replace("px", ""));
            i += C
        }
        if (!!B) {
            B = parseInt(B.replace("px", ""));
            z += B
        }
        if ($(A).context.tagName == "DIV") {
            $(A).parent().css("display", "block")
        }
        $(D).css({top: z + "px", left: i + "px", width: y + "px", height: x + "px"})
    }
};
Site.hoverStyle = function () {
    var k = $("a[aStyle_h]"), m = this.body ? this.body : (this.editor ? this.editor.body : false), f, c, d, g = true,
        j, b;
    if (m) {
        k = $(m).find("a[aStyle_h]")
    }
    if (k.length == 0) {
        return
    }
    for (var e = 0; e < k.length; e++) {
        $(k[e]).off("mouseenter.hoverStyle").off("mouseleave.hoverStyle").on("mouseenter.hoverStyle", h).on("mouseleave.hoverStyle", l)
    }

    function h() {
        var o = $.parseJSON($(this).attr("stylehover")), i = $.parseJSON($(this).attr("wbackColor_h"));
        if (o == null && i == null) {
            return
        } else {
            if (o != null && i == null) {
                for (var n = 0; j = this.childNodes.length, n < j; n++) {
                    var p = this.childNodes[n];
                    a(p, 1, o, null, false)
                }
                d = this.style.textDecoration;
                c = this.style.color;
                $(this).css({
                    "text-decoration": (o.u ? "underline" : "none"),
                    color: o.c,
                    display: "inline-block",
                    "text-indent": 0
                });
                if (!o.u) {
                    g = false
                }
            } else {
                if (i != null && o == null) {
                    for (var n = 0; j = this.childNodes.length, n < j; n++) {
                        var p = this.childNodes[n];
                        a(p, 2, null, i, false)
                    }
                } else {
                    d = this.style.textDecoration;
                    c = this.style.color;
                    for (var n = 0; j = this.childNodes.length, n < j; n++) {
                        var p = this.childNodes[n];
                        a(p, 3, o, i, false)
                    }
                    $(this).css({"text-decoration": (o.u ? "underline" : "none"), color: o.c});
                    if (!o.u) {
                        g = false
                    }
                }
            }
        }
    }

    function l() {
        var o = $.parseJSON($(this).attr("stylehover"));
        var i = $.parseJSON($(this).attr("wbackColor_h"));
        if (o == null && i == null) {
            return
        }
        $(this).css("display", "");
        for (var n = 0; b = this.childNodes.length, n < b; n++) {
            var p = this.childNodes[n];
            a(p, 3, o, i, true)
        }
        if (!g) {
            $(this).css({"text-decoration": "none"});
            g = true
        }
        if ($(this).attr("astyle_h") == 1) {
            $(this).css({color: "" + c + ""});
            $(this).css({"text-decoration": "" + d + ""})
        } else {
            if ($(this).attr("astyle_h") == 2) {
                $(this).css({color: ""});
                $(this).css({"text-decoration": ""})
            }
        }
        d = null;
        c = null;
        f = null
    }

    function a(s, p, r, i, q) {
        var p = p || 0;
        var o = s.childNodes.length;
        if (s.nodeType == 1 && o > 0) {
            for (var n = 0; n < o; n++) {
                a(s.childNodes[n], p, r, i, q)
            }
        }
        if (s.nodeType == 3) {
            if (q) {
                s.parentNode.style.cssText = f
            } else {
                f = s.parentNode.style.cssText;
                if (p == 1) {
                    $(s.parentNode).css({
                        "font-size": r.fs,
                        "font-weight": r.b ? "bold" : "normal",
                        "font-family": r.ff,
                        color: r.c
                    })
                } else {
                    if (p == 2) {
                        $(s.parentNode).css({"background-color": i.bc})
                    } else {
                        if (p == 3) {
                            $(s.parentNode).css({
                                "font-size": r.fs,
                                "font-weight": r.b ? "bold" : "normal",
                                "font-family": r.ff,
                                color: r.c,
                                "background-color": i.bc
                            })
                        }
                    }
                }
            }
        }
    }
};
Site.setFullMeasureBgHightInIe6 = function (b) {
    if (Fai.isIE6()) {
        var a = Fai.top.$("#module" + b), c = a.height();
        a.find(".fullmeasureOuterContentBg" + b).css("height", c + "px");
        a.find(".fullmeasureContentBg" + b).css("height", c + "px")
    }
};
Site.addStellarEvent = function () {
    var a = Fai.top.$(".fullmeasureOuterContentBg"), b = false;
    if (a.length > 0) {
        a.each(function () {
            if (!!$(this).attr("data-stellar-background-ratio")) {
                b = true;
                return
            }
        })
    }
    if (b) {
        if (Fai.top._manageMode) {
            Fai.top.$("#g_main").stellar("destroy");
            Fai.top.$("#g_main").stellar({horizontalScrolling: false, responsive: false})
        } else {
            $(Fai.top).stellar("destroy");
            $(Fai.top).stellar({horizontalScrolling: false, responsive: false})
        }
    }
};
Site.popupPwdTips = function (b, a, c) {
    Site.getTopWindow().$.cookie("hasLoginSite", "true", {expires: 1, path: "/"});
    Site.getTopWindow().$(".formDialog .formX").trigger("click");
    var d = [];
    d += "<div id='changePwdPopWin' style=''>";
    d += "	<div class='headeline_pwd'><span class='warmIcon'></span>请先修改您的密码</div>";
    d += "	<div class='summery_pwd'>您的密码过于简单，为避免盗号造成损失，请先修改密码</div>";
    d += "	<div class='btnBox'>";
    d += "		<a class='btn_pwd cancle_pwd' href='javaScript:void(0);' onclick=\"Site.tipsClose('" + a + "','" + c + "')\">暂不修改</a>";
    d += "		<a class='btn_pwd changePwd_pwd' href='" + b + "/portal.jsp#appId=setPwd' onclick='toSetPwd();Site.logDog(100068,9);'>修改密码</a> ";
    d += "	<div>";
    d += "<div>";
    Fai.ing2(d, false);
    Site.getTopWindow().$(".msg2").css({"text-align": "left", margin: "15px", width: "auto"});
    Site.getTopWindow().$(".tips2").css({height: "224px", width: "440px", border: "none"});
    Site.getTopWindow().$("#ing2").css({width: "452px", "margin-top": "105px"});
    Site.getTopWindow().$("#ing2").css({transition: "opacity 0s ease", position: "fixed", top: "0"});
    Site.getTopWindow().$("#ing2,.tips2").css({
        transition: "opacity ease 0s",
        "-webkit-box-shadow": "none",
        "box-shadow": "none",
        "-moz-box-shadow": "none"
    });
    Site.getTopWindow().$(".msg2").css({margin: "0px", width: "auto"});
    Fai.bg(0, 0.7);
    Site.getTopWindow().$("body").css("overflow", "hidden");
    Site.getTopWindow().$("#popupBg0").click(function () {
        Site.tipsClose(a, c)
    });
    Site.getTopWindow().$("#ing2 .close").bind("click", function () {
        Site.tipsClose(a, c)
    })
};
Site.tipsClose = function (a, b) {
    Site.getTopWindow().Fai.removeIng2();
    Site.getTopWindow().Fai.removeBg();
    Site.getTopWindow().$("body").css("overflow", "scroll");
    $.cookie("hasLoginSite", "false", {expires: 1, path: "/"});
    window.location.href = "http://" + a + "." + b + ""
};
Site.changeAdmHref = function (a, b) {
    window.location.href = "http://" + a + "." + b + ""
};
Site.getDialogContent = function (b, a) {
    var d = b ? "suc-ico" : "resultFailIcon";
    var c = ["<table style='width:100%;height:100%;'>", "<tr>", "<td style='width:100px;'></td>", "<td style='width:180px;'>", "<div class='" + d + " addItemTextTips' style='max-width:160px;font-size:14px; color:#636363; overflow: hidden;word-wrap:normal; white-space: nowrap; text-overflow: ellipsis;' >" + a + "</div>", "</td>", "<td style='width:100px;'></td>", "</tr>", "</table>"];
    return c.join("")
};
/*!
* Clamp.js 0.5.1
*
* Copyright 2011-2013, Joseph Schmitt http://joe.sh
* Released under the WTFPL license
* http://sam.zoy.org/wtfpl/
*
* 第三方 多行省略代码
*/
(function (a, c) {
    function b(i, k) {
        k = k || {};
        var u = this, l = window, g = {
                clamp: k.clamp || 2,
                useNativeClamp: typeof(k.useNativeClamp) != "undefined" ? k.useNativeClamp : true,
                splitOnChars: k.splitOnChars || [".", "-", "–", "—", " "],
                animate: k.animate || false,
                truncationChar: k.truncationChar || "…",
                truncationHTML: k.truncationHTML
            }, s = i.style, A = i.innerHTML, w = typeof(i.style.webkitLineClamp) != "undefined", f = g.clamp,
            n = f.indexOf && (f.indexOf("px") > -1 || f.indexOf("em") > -1), p;
        if (g.truncationHTML) {
            p = document.createElement("span");
            p.innerHTML = g.truncationHTML
        }
        var e = g.splitOnChars.slice(0), x = e[0], r, z;
        if (f == "auto") {
            f = j()
        } else {
            if (n) {
                f = j(parseInt(f))
            }
        }
        var q;
        if (w && g.useNativeClamp) {
            s.overflow = "hidden";
            s.textOverflow = "ellipsis";
            s.webkitBoxOrient = "vertical";
            s.display = "-webkit-box";
            s.webkitLineClamp = f;
            if (n) {
                s.height = g.clamp + "px"
            }
        } else {
            var v = y(f);
            if (v <= i.clientHeight) {
                q = h(d(i), v)
            }
        }
        return {original: A, clamped: q};

        function t(B, C) {
            if (!l.getComputedStyle) {
                l.getComputedStyle = function (D, E) {
                    this.el = D;
                    this.getPropertyValue = function (G) {
                        var F = /(\-([a-z]){1})/g;
                        if (G == "float") {
                            G = "styleFloat"
                        }
                        if (F.test(G)) {
                            G = G.replace(F, function () {
                                return arguments[2].toUpperCase()
                            })
                        }
                        return D.currentStyle && D.currentStyle[G] ? D.currentStyle[G] : null
                    };
                    return this
                }
            }
            return l.getComputedStyle(B, null).getPropertyValue(C)
        }

        function j(B) {
            var C = B || i.clientHeight, D = o(i);
            return Math.max(Math.floor(C / D), 0)
        }

        function y(B) {
            var C = o(i);
            return C * B
        }

        function o(C) {
            var B = t(C, "line-height");
            if (B == "normal") {
                B = parseInt(t(C, "font-size")) * 1.2
            }
            return parseInt(B)
        }

        function d(B) {
            if (B.lastChild.children && B.lastChild.children.length > 0) {
                return d(Array.prototype.slice.call(B.children).pop())
            } else {
                if (!B.lastChild || !B.lastChild.nodeValue || B.lastChild.nodeValue == "" || B.lastChild.nodeValue == g.truncationChar) {
                    B.lastChild.parentNode.removeChild(B.lastChild);
                    return d(i)
                } else {
                    return B.lastChild
                }
            }
        }

        function h(E, D) {
            if (!D) {
                return
            }

            function C() {
                e = g.splitOnChars.slice(0);
                x = e[0];
                r = null;
                z = null
            }

            var B = E.nodeValue.replace(g.truncationChar, "");
            if (!r) {
                if (e.length > 0) {
                    x = e.shift()
                } else {
                    x = ""
                }
                r = B.split(x)
            }
            if (r.length > 1) {
                z = r.pop();
                m(E, r.join(x))
            } else {
                r = null
            }
            if (p) {
                E.nodeValue = E.nodeValue.replace(g.truncationChar, "");
                i.innerHTML = E.nodeValue + " " + p.innerHTML + g.truncationChar
            }
            if (r) {
                if (i.clientHeight <= D) {
                    if (e.length >= 0 && x != "") {
                        m(E, r.join(x) + x + z);
                        r = null
                    } else {
                        return i.innerHTML
                    }
                }
            } else {
                if (x == "") {
                    m(E, "");
                    E = d(i);
                    C()
                }
            }
            if (g.animate) {
                setTimeout(function () {
                    h(E, D)
                }, g.animate === true ? 10 : g.animate)
            } else {
                return h(E, D)
            }
        }

        function m(B, C) {
            B.nodeValue = C + g.truncationChar
        }
    }

    a.clamp = b
})(Site);
Site.userReadyOperateSite = function () {
    if (!Fai.top._Global._footerHidden) {
        if (!Fai.top._oem) {
            Site.changeTheLogoSize()
        }
        Site.refreshFooterItemSpacing()
    }
    Site.bindInTabSwitch()
};
(function () {
    if (Fai.top != window) {
        return
    }
    var f = Fai.top.window.location.hash, b, c, a;
    if (!f) {
        return
    }
    try {
        b = $(f)
    } catch (d) {
        return
    }
    if (b.length < 1) {
        return
    }
    c = Fai.top._manageMode ? "#g_main" : Fai.top.window;
    a = b.parents(":not(#g_main)");
    $(c).one("scroll", function () {
        a.each(function () {
            if ($(this).css("overflow") == "hidden") {
                $(this).scrollTop(0);
                $(this).scroll(function () {
                    if ($(this).scrollTop() != 0) {
                        $(this).scrollTop(0)
                    }
                })
            }
        })
    })
})();
Site.loginSiteInit = function (b, a, d, e) {
    var c = $.cookie("hasLoginSite");
    if (c == "true" && c != null) {
        $.cookie("hasLoginSite", "false", {expires: 1, path: "/"});
        Site.changeAdmHref(b, a)
    }
    if (d) {
        Fai.ing(e, true)
    }
};
Site.getModuleGMainRect = function (c) {
    var i = Fai.top.$("#module" + c), g = Fai.top.$("#g_main"), e = Fai.top.$(window), b, h, f, d, j;
    if (i.length < 1) {
        return
    }
    b = i[0].getBoundingClientRect();
    h = b.top + (a() ? g.scrollTop() : e.scrollTop()) - g.position().top;
    f = b.left + (a() ? g.scrollLeft() : e.scrollLeft()) - g.position().left;
    d = b.width;
    j = b.height;
    return {left: f, top: h, right: f + d, bottom: h + j, width: d, height: j};

    function a() {
        return Fai.top._manageMode
    }
};
Site.switchJump = function () {
    var a = $(".switchJump");
    $.each(a, function (c, f) {
        if (c === "length") {
            return
        }
        var d = f.getAttribute("href");
        var b = f.getAttribute("_mu") || f.getAttribute("mJUrl");
        var e = f.getAttribute("_mColHide");
        if (b == null && !e) {
            return
        }
        if (d == b) {
            f.setAttribute("href", "javascript:void(0);");
            f.setAttribute("style", "text-decoration:none;");
            return
        }
    })
};
Site.serviceLogDog = function () {
    var a = $(".formStyle40 .serOnline-service, .formStyle44 .serOnline-service");
    a.find(">div[servicetype]").off("click.log").on("click.log", function () {
        var b = $(this).attr("servicetype");
        switch (parseInt(b)) {
            case 0:
                Site.logDog(200172, 1);
                break;
            case 1:
                Site.logDog(200172, 4);
                break;
            case 2:
                Site.logDog(200172, 2);
                break;
            case 3:
                Site.logDog(200172, 3);
                break
        }
    });
    setTimeout(function () {
        $("#jiaxin-mcs-fixed-btn").off("click.log").on("click.log", function () {
            Site.logDog(200172, 7)
        });
        $("#newBridge #nb_icon_wrap").off("click.log").on("click.log", function () {
            Site.logDog(200172, 6)
        })
    }, 2000)
};
(function () {
    if (Fai.top != window) {
        return
    }
    var a = [];
    window.onerror = function (c, b, d) {
        if (typeof Site == "undefined") {
            alert("您的网页未加载完成，请尝试按“CTRL+功能键F5”重新加载。")
        }
        if (d < 1 || typeof c != "string" || c.length < 1) {
            return
        }
        var f = "Error:" + c + ";Line:" + d + ";Url:" + b;
        var e = "Error:" + c + "\nLine:" + d + "\nUrl:" + b + "\n";
        var j = function (i) {
            return typeof i === "undefined" ? "" : encodeURIComponent(i)
        };
        var k = true;
        var h = {m: c, u: b, l: d};
        for (var g = 0; g < a.length; g++) {
            if (a[g].m == h.m && a[g].u == h.u && a[g].l == h.l) {
                k = false;
                break
            }
        }
        if (k) {
            a.push(h);
            _faiAjax.ajax({type: "post", url: "ajax/logJsErr_h.jsp?cmd=jsErr", data: "msg=" + j(f)})
        }
        if (Fai.top._devMode) {
            alert(e)
        }
    }
})();
Site.ajaxClick = function (d, c) {
    showLoading = function (f) {
        var e = ['<div class="ajaxLoading" style="margin-top:50px;margin-bottom:50px;">', '<table style="width:100%;height:100%;"><tr><td align="center" valign="middle">', '<div class="ajaxLoading2"></div>', "</td></tr></table>", "</div>"];
        $("#module" + f + " .formMiddleCenter").empty().append(e.join(""))
    };
    showLoadingAgain = function (f) {
        closeLoading(f);
        var e = ['<div class="ajaxLoadingAgain width" style="margin-top:50px;margin-bottom:50px;text-align:center;">', '<div style="color: #1b7ad1; text-decoration: none; text-align:center; width:100%;cursor:pointer;" onclick="reloadingClick(' + f + ');">加载失败，请点击重新加载</div>', "</div>"];
        $("#module" + f + " .formMiddleCenter").empty().append(e.join(""))
    };
    closeLoading = function (e) {
        $("#module" + e + " .formMiddleCenter .ajaxLoading").remove()
    };
    reloadingClick = function (e) {
        loadingAjaxDom(e)
    };
    var a = $(d).attr("href");
    if (!a || typeof(a) == "undefined") {
        Fai.ing(LS.argsError, true);
        return
    }
    var b = false;
    loadingAjaxDom = function (e) {
        setTimeout(function () {
            if (!b) {
                showLoading(e)
            }
        }, 1000);
        $.ajax({
            type: "post",
            url: "ajax/ajaxLoadModuleDom_h.jsp",
            data: "cmd=getAjaxPageModuleInfo&_colId=" + Fai.top._colId + "&_extId=" + 0 + "&moduleId=" + e + "&href=" + Fai.encodeUrl(a),
            error: function (f) {
                b = true;
                showLoadingAgain(e);
                Fai.ing(LS.systemError, true)
            },
            success: function (g) {
                b = true;
                closeLoading(e);
                var g = $.parseJSON(g);
                if (g.success) {
                    var h = $(g.domStr).find(".formMiddleCenter" + e).html();
                    var f = $("#module" + e).find(".formMiddleCenter" + e);
                    f.html(h);
                    Fai.fkEval(g.scripts);
                    jzUtils.run({name: "moduleAnimation.publish", base: Fai.top.Site});
                    jzUtils.run({name: "moduleAnimation.contentAnimationPublish", base: Fai.top.Site})
                } else {
                    Fai.ing(g.msg, true);
                    showLoadingAgain(e)
                }
            }
        })
    };
    loadingAjaxDom(c)
};
Site.showTopTips = function () {
    if ($("#sitetips").length > 0) {
        return
    }
    var a = ['<div id="sitetips" class="sitetips sitetipsV2 newSiteVis">', '	<table align="center" cellpadding="0" cellspacing="0">', "	<tbody>", "		<tr>", '		<td align="center" valign="middle">', '			<div class="scrollbar">', '				<ul class="marquee" id="siteTipsMarquee">', '					<li class="marquee-showing" style="top: 0px; left: 0px;">', '						<table cellpadding="0" cellspacing="0" width="100%">', "							<tbody>", '								<tr><td align="center" valign="middle">', '									<div class="sitetipsTitle">', '										<a class="safeModeTipsText" href ="javascript:;">免费域名不支持调用第三方代码，请使用已购买的域名进行访问</a>', "									</div>", "								</td></tr>", "							</tbody>", "						</table>", "					</li>", "				</ul>", "			</div>", "		</td>", "		</tr>", "	</tbody>", "	</table>", "</div>"];
    $("body").prepend(a.join(""))
};
(function (h, m, n, d) {
    var e = "mCustomScrollbar", a = "mCS", l = ".mCustomScrollbar", f = {
        setWidth: false,
        setHeight: false,
        setTop: 0,
        setLeft: 0,
        axis: "y",
        scrollbarPosition: "inside",
        scrollInertia: 950,
        autoDraggerLength: true,
        autoHideScrollbar: false,
        autoExpandScrollbar: false,
        alwaysShowScrollbar: 0,
        snapAmount: null,
        snapOffset: 0,
        mouseWheel: {
            enable: true,
            scrollAmount: "auto",
            axis: "y",
            preventDefault: false,
            deltaFactor: "auto",
            normalizeDelta: false,
            invert: false,
            disableOver: ["select", "option", "keygen", "datalist", "textarea"]
        },
        scrollButtons: {enable: false, scrollType: "stepless", scrollAmount: "auto"},
        keyboard: {enable: true, scrollType: "stepless", scrollAmount: "auto"},
        contentTouchScroll: 25,
        advanced: {
            autoExpandHorizontalScroll: false,
            autoScrollOnFocus: "input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",
            updateOnContentResize: true,
            updateOnImageLoad: true,
            updateOnSelectorChange: false
        },
        theme: "light",
        callbacks: {
            onScrollStart: false,
            onScroll: false,
            onTotalScroll: false,
            onTotalScrollBack: false,
            whileScrolling: false,
            onTotalScrollOffset: 0,
            onTotalScrollBackOffset: 0,
            alwaysTriggerOffsets: true
        },
        live: false,
        liveSelector: null
    }, k = 0, p = {}, c = function (q) {
        if (p[q]) {
            clearTimeout(p[q]);
            g._delete.call(null, p[q])
        }
    }, j = (m.attachEvent && !m.addEventListener) ? 1 : 0, o = false, b = {
        init: function (r) {
            var r = h.extend(true, {}, f, r), q = g._selector.call(this);
            if (r.live) {
                var t = r.liveSelector || this.selector || l, s = h(t);
                if (r.live === "off") {
                    c(t);
                    return
                }
                p[t] = setTimeout(function () {
                    s.mCustomScrollbar(r);
                    if (r.live === "once" && s.length) {
                        c(t)
                    }
                }, 500)
            } else {
                c(t)
            }
            r.setWidth = (r.set_width) ? r.set_width : r.setWidth;
            r.setHeight = (r.set_height) ? r.set_height : r.setHeight;
            r.axis = (r.horizontalScroll) ? "x" : g._findAxis.call(null, r.axis);
            r.scrollInertia = r.scrollInertia < 17 ? 17 : r.scrollInertia;
            if (typeof r.mouseWheel !== "object" && r.mouseWheel == true) {
                r.mouseWheel = {
                    enable: true,
                    scrollAmount: "auto",
                    axis: "y",
                    preventDefault: false,
                    deltaFactor: "auto",
                    normalizeDelta: false,
                    invert: false
                }
            }
            r.mouseWheel.scrollAmount = !r.mouseWheelPixels ? r.mouseWheel.scrollAmount : r.mouseWheelPixels;
            r.mouseWheel.normalizeDelta = !r.advanced.normalizeMouseWheelDelta ? r.mouseWheel.normalizeDelta : r.advanced.normalizeMouseWheelDelta;
            r.scrollButtons.scrollType = g._findScrollButtonsType.call(null, r.scrollButtons.scrollType);
            g._theme.call(null, r);
            return h(q).each(function () {
                var v = h(this);
                if (!v.data(a)) {
                    v.data(a, {
                        idx: ++k,
                        opt: r,
                        scrollRatio: {y: null, x: null},
                        overflowed: null,
                        bindEvents: false,
                        tweenRunning: false,
                        sequential: {},
                        langDir: v.css("direction"),
                        cbOffsets: null,
                        trigger: null
                    });
                    var x = v.data(a).opt, w = v.data("mcs-axis"), u = v.data("mcs-scrollbar-position"),
                        y = v.data("mcs-theme");
                    if (w) {
                        x.axis = w
                    }
                    if (u) {
                        x.scrollbarPosition = u
                    }
                    if (y) {
                        x.theme = y;
                        g._theme.call(null, x)
                    }
                    g._pluginMarkup.call(this);
                    b.update.call(null, v)
                }
            })
        }, update: function (r) {
            var q = r || g._selector.call(this);
            return h(q).each(function () {
                var u = h(this);
                if (u.data(a)) {
                    var w = u.data(a), v = w.opt, s = h("#mCSB_" + w.idx + "_container"),
                        t = [h("#mCSB_" + w.idx + "_dragger_vertical"), h("#mCSB_" + w.idx + "_dragger_horizontal")];
                    if (!s.length) {
                        return
                    }
                    if (w.tweenRunning) {
                        g._stop.call(null, u)
                    }
                    if (u.hasClass("mCS_disabled")) {
                        u.removeClass("mCS_disabled")
                    }
                    if (u.hasClass("mCS_destroyed")) {
                        u.removeClass("mCS_destroyed")
                    }
                    g._maxHeight.call(this);
                    g._expandContentHorizontally.call(this);
                    if (v.axis !== "y" && !v.advanced.autoExpandHorizontalScroll) {
                        s.css("width", g._contentWidth(s.children()))
                    }
                    w.overflowed = g._overflowed.call(this);
                    g._scrollbarVisibility.call(this);
                    if (v.autoDraggerLength) {
                        g._setDraggerLength.call(this)
                    }
                    g._scrollRatio.call(this);
                    g._bindEvents.call(this);
                    var x = [Math.abs(s[0].offsetTop), Math.abs(s[0].offsetLeft)];
                    if (v.axis !== "x") {
                        if (!w.overflowed[0]) {
                            g._resetContentPosition.call(this);
                            if (v.axis === "y") {
                                g._unbindEvents.call(this)
                            } else {
                                if (v.axis === "yx" && w.overflowed[1]) {
                                    g._scrollTo.call(this, u, x[1].toString(), {dir: "x", dur: 0, overwrite: "none"})
                                }
                            }
                        } else {
                            if (t[0].height() > t[0].parent().height()) {
                                g._resetContentPosition.call(this)
                            } else {
                                g._scrollTo.call(this, u, x[0].toString(), {dir: "y", dur: 0, overwrite: "none"})
                            }
                        }
                    }
                    if (v.axis !== "y") {
                        if (!w.overflowed[1]) {
                            g._resetContentPosition.call(this);
                            if (v.axis === "x") {
                                g._unbindEvents.call(this)
                            } else {
                                if (v.axis === "yx" && w.overflowed[0]) {
                                    g._scrollTo.call(this, u, x[0].toString(), {dir: "y", dur: 0, overwrite: "none"})
                                }
                            }
                        } else {
                            if (t[1].width() > t[1].parent().width()) {
                                g._resetContentPosition.call(this)
                            } else {
                                g._scrollTo.call(this, u, x[1].toString(), {dir: "x", dur: 0, overwrite: "none"})
                            }
                        }
                    }
                    g._autoUpdate.call(this)
                }
            })
        }, scrollTo: function (s, r) {
            if (typeof s == "undefined" || s == null) {
                return
            }
            var q = g._selector.call(this);
            return h(q).each(function () {
                var v = h(this);
                if (v.data(a)) {
                    var y = v.data(a), x = y.opt, w = {
                            trigger: "external",
                            scrollInertia: x.scrollInertia,
                            scrollEasing: "mcsEaseInOut",
                            moveDragger: false,
                            callbacks: true,
                            onStart: true,
                            onUpdate: true,
                            onComplete: true
                        }, t = h.extend(true, {}, w, r), z = g._arr.call(this, s),
                        u = t.scrollInertia < 17 ? 17 : t.scrollInertia;
                    z[0] = g._to.call(this, z[0], "y");
                    z[1] = g._to.call(this, z[1], "x");
                    if (t.moveDragger) {
                        z[0] *= y.scrollRatio.y;
                        z[1] *= y.scrollRatio.x
                    }
                    t.dur = u;
                    setTimeout(function () {
                        if (z[0] !== null && typeof z[0] !== "undefined" && x.axis !== "x" && y.overflowed[0]) {
                            t.dir = "y";
                            t.overwrite = "all";
                            g._scrollTo.call(this, v, z[0].toString(), t)
                        }
                        if (z[1] !== null && typeof z[1] !== "undefined" && x.axis !== "y" && y.overflowed[1]) {
                            t.dir = "x";
                            t.overwrite = "none";
                            g._scrollTo.call(this, v, z[1].toString(), t)
                        }
                    }, 60)
                }
            })
        }, stop: function () {
            var q = g._selector.call(this);
            return h(q).each(function () {
                var r = h(this);
                if (r.data(a)) {
                    g._stop.call(null, r)
                }
            })
        }, disable: function (s) {
            var q = g._selector.call(this);
            return h(q).each(function () {
                var r = h(this);
                if (r.data(a)) {
                    var u = r.data(a), t = u.opt;
                    g._autoUpdate.call(this, "remove");
                    g._unbindEvents.call(this);
                    if (s) {
                        g._resetContentPosition.call(this)
                    }
                    g._scrollbarVisibility.call(this, true);
                    r.addClass("mCS_disabled")
                }
            })
        }, destroy: function () {
            var q = g._selector.call(this);
            return h(q).each(function () {
                var t = h(this);
                if (t.data(a)) {
                    var v = t.data(a), u = v.opt, r = h("#mCSB_" + v.idx), s = h("#mCSB_" + v.idx + "_container"),
                        w = h(".mCSB_" + v.idx + "_scrollbar");
                    if (u.live) {
                        c(q)
                    }
                    g._autoUpdate.call(this, "remove");
                    g._unbindEvents.call(this);
                    g._resetContentPosition.call(this);
                    t.removeData(a);
                    g._delete.call(null, this.mcs);
                    w.remove();
                    r.replaceWith(s.contents());
                    t.removeClass(e + " _" + a + "_" + v.idx + " mCS-autoHide mCS-dir-rtl mCS_no_scrollbar mCS_disabled").addClass("mCS_destroyed")
                }
            })
        }
    }, g = {
        _selector: function () {
            return (typeof h(this) !== "object" || h(this).length < 1) ? l : this
        }, _theme: function (t) {
            var s = ["rounded", "rounded-dark", "rounded-dots", "rounded-dots-dark"],
                r = ["rounded-dots", "rounded-dots-dark", "3d", "3d-dark", "3d-thick", "3d-thick-dark", "inset", "inset-dark", "inset-2", "inset-2-dark", "inset-3", "inset-3-dark"],
                q = ["minimal", "minimal-dark"], v = ["minimal", "minimal-dark"], u = ["minimal", "minimal-dark"];
            t.autoDraggerLength = h.inArray(t.theme, s) > -1 ? false : t.autoDraggerLength;
            t.autoExpandScrollbar = h.inArray(t.theme, r) > -1 ? false : t.autoExpandScrollbar;
            t.scrollButtons.enable = h.inArray(t.theme, q) > -1 ? false : t.scrollButtons.enable;
            t.autoHideScrollbar = h.inArray(t.theme, v) > -1 ? true : t.autoHideScrollbar;
            t.scrollbarPosition = h.inArray(t.theme, u) > -1 ? "outside" : t.scrollbarPosition
        }, _findAxis: function (q) {
            return (q === "yx" || q === "xy" || q === "auto") ? "yx" : (q === "x" || q === "horizontal") ? "x" : "y"
        }, _findScrollButtonsType: function (q) {
            return (q === "stepped" || q === "pixels" || q === "step" || q === "click") ? "stepped" : "stepless"
        }, _pluginMarkup: function () {
            var z = h(this), y = z.data(a), s = y.opt,
                u = s.autoExpandScrollbar ? " mCSB_scrollTools_onDrag_expand" : "",
                C = ["<div id='mCSB_" + y.idx + "_scrollbar_vertical' class='mCSB_scrollTools mCSB_" + y.idx + "_scrollbar mCS-" + s.theme + " mCSB_scrollTools_vertical" + u + "'><div class='mCSB_draggerContainer'><div id='mCSB_" + y.idx + "_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>", "<div id='mCSB_" + y.idx + "_scrollbar_horizontal' class='mCSB_scrollTools mCSB_" + y.idx + "_scrollbar mCS-" + s.theme + " mCSB_scrollTools_horizontal" + u + "'><div class='mCSB_draggerContainer'><div id='mCSB_" + y.idx + "_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],
                v = s.axis === "yx" ? "mCSB_vertical_horizontal" : s.axis === "x" ? "mCSB_horizontal" : "mCSB_vertical",
                x = s.axis === "yx" ? C[0] + C[1] : s.axis === "x" ? C[1] : C[0],
                w = s.axis === "yx" ? "<div id='mCSB_" + y.idx + "_container_wrapper' class='mCSB_container_wrapper' />" : "",
                t = s.autoHideScrollbar ? " mCS-autoHide" : "",
                q = (s.axis !== "x" && y.langDir === "rtl") ? " mCS-dir-rtl" : "";
            if (s.setWidth) {
                z.css("width", s.setWidth)
            }
            if (s.setHeight) {
                z.css("height", s.setHeight)
            }
            s.setLeft = (s.axis !== "y" && y.langDir === "rtl") ? "989999px" : s.setLeft;
            z.addClass(e + " _" + a + "_" + y.idx + t + q).wrapInner("<div id='mCSB_" + y.idx + "' class='mCustomScrollBox mCS-" + s.theme + " " + v + "'><div id='mCSB_" + y.idx + "_container' class='mCSB_container' style='position:relative; top:" + s.setTop + "; left:" + s.setLeft + ";' dir=" + y.langDir + " /></div>");
            var r = h("#mCSB_" + y.idx), A = h("#mCSB_" + y.idx + "_container");
            if (s.axis !== "y" && !s.advanced.autoExpandHorizontalScroll) {
                A.css("width", g._contentWidth(A.children()))
            }
            if (s.scrollbarPosition === "outside") {
                if (z.css("position") === "static") {
                    z.css("position", "relative")
                }
                z.css("overflow", "visible");
                r.addClass("mCSB_outside").after(x)
            } else {
                r.addClass("mCSB_inside").append(x);
                A.wrap(w)
            }
            g._scrollButtons.call(this);
            var B = [h("#mCSB_" + y.idx + "_dragger_vertical"), h("#mCSB_" + y.idx + "_dragger_horizontal")];
            B[0].css("min-height", B[0].height());
            B[1].css("min-width", B[1].width())
        }, _contentWidth: function (q) {
            return Math.max.apply(Math, q.map(function () {
                return h(this).outerWidth(true)
            }).get())
        }, _expandContentHorizontally: function () {
            var r = h(this), t = r.data(a), s = t.opt, q = h("#mCSB_" + t.idx + "_container");
            if (s.advanced.autoExpandHorizontalScroll && s.axis !== "y") {
                q.css({
                    position: "absolute",
                    width: "auto"
                }).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({
                    width: (Math.ceil(q[0].getBoundingClientRect().right + 0.4) - Math.floor(q[0].getBoundingClientRect().left)),
                    position: "relative"
                }).unwrap()
            }
        }, _scrollButtons: function () {
            var t = h(this), v = t.data(a), u = v.opt, r = h(".mCSB_" + v.idx + "_scrollbar:first"),
                s = ["<a href='#' class='mCSB_buttonUp' oncontextmenu='return false;' />", "<a href='#' class='mCSB_buttonDown' oncontextmenu='return false;' />", "<a href='#' class='mCSB_buttonLeft' oncontextmenu='return false;' />", "<a href='#' class='mCSB_buttonRight' oncontextmenu='return false;' />"],
                q = [(u.axis === "x" ? s[2] : s[0]), (u.axis === "x" ? s[3] : s[1]), s[2], s[3]];
            if (u.scrollButtons.enable) {
                r.prepend(q[0]).append(q[1]).next(".mCSB_scrollTools").prepend(q[2]).append(q[3])
            }
        }, _maxHeight: function () {
            var u = h(this), x = u.data(a), w = x.opt, s = h("#mCSB_" + x.idx), r = u.css("max-height"),
                t = r.indexOf("%") !== -1, q = u.css("box-sizing");
            if (r !== "none") {
                var v = t ? u.parent().height() * parseInt(r) / 100 : parseInt(r);
                if (q === "border-box") {
                    v -= ((u.innerHeight() - u.height()) + (u.outerHeight() - u.innerHeight()))
                }
                s.css("max-height", Math.round(v))
            }
        }, _setDraggerLength: function () {
            var v = h(this), t = v.data(a), q = h("#mCSB_" + t.idx), x = h("#mCSB_" + t.idx + "_container"),
                z = [h("#mCSB_" + t.idx + "_dragger_vertical"), h("#mCSB_" + t.idx + "_dragger_horizontal")],
                u = [q.height() / x.outerHeight(false), q.width() / x.outerWidth(false)],
                r = [parseInt(z[0].css("min-height")), Math.round(u[0] * z[0].parent().height()), parseInt(z[1].css("min-width")), Math.round(u[1] * z[1].parent().width())],
                s = j && (r[1] < r[0]) ? r[0] : r[1], y = j && (r[3] < r[2]) ? r[2] : r[3];
            z[0].css({
                height: s,
                "max-height": (z[0].parent().height() - 10)
            }).find(".mCSB_dragger_bar").css({"line-height": r[0] + "px"});
            z[1].css({width: y, "max-width": (z[1].parent().width() - 10)})
        }, _scrollRatio: function () {
            var u = h(this), w = u.data(a), r = h("#mCSB_" + w.idx), s = h("#mCSB_" + w.idx + "_container"),
                t = [h("#mCSB_" + w.idx + "_dragger_vertical"), h("#mCSB_" + w.idx + "_dragger_horizontal")],
                v = [s.outerHeight(false) - r.height(), s.outerWidth(false) - r.width()],
                q = [v[0] / (t[0].parent().height() - t[0].height()), v[1] / (t[1].parent().width() - t[1].width())];
            w.scrollRatio = {y: q[0], x: q[1]}
        }, _onDragClasses: function (s, u, r) {
            var t = r ? "mCSB_dragger_onDrag_expanded" : "", q = ["mCSB_dragger_onDrag", "mCSB_scrollTools_onDrag"],
                v = s.closest(".mCSB_scrollTools");
            if (u === "active") {
                s.toggleClass(q[0] + " " + t);
                v.toggleClass(q[1]);
                s[0]._draggable = s[0]._draggable ? 0 : 1
            } else {
                if (!s[0]._draggable) {
                    if (u === "hide") {
                        s.removeClass(q[0]);
                        v.removeClass(q[1])
                    } else {
                        s.addClass(q[0]);
                        v.addClass(q[1])
                    }
                }
            }
        }, _overflowed: function () {
            var u = h(this), v = u.data(a), r = h("#mCSB_" + v.idx), t = h("#mCSB_" + v.idx + "_container"),
                s = v.overflowed == null ? t.height() : t.outerHeight(false),
                q = v.overflowed == null ? t.width() : t.outerWidth(false);
            return [s > r.height(), q > r.width()]
        }, _resetContentPosition: function () {
            var u = h(this), w = u.data(a), v = w.opt, r = h("#mCSB_" + w.idx), s = h("#mCSB_" + w.idx + "_container"),
                t = [h("#mCSB_" + w.idx + "_dragger_vertical"), h("#mCSB_" + w.idx + "_dragger_horizontal")];
            g._stop(u);
            if ((v.axis !== "x" && !w.overflowed[0]) || (v.axis === "y" && w.overflowed[0])) {
                t[0].add(s).css("top", 0)
            }
            if ((v.axis !== "y" && !w.overflowed[1]) || (v.axis === "x" && w.overflowed[1])) {
                var q = dx = 0;
                if (w.langDir === "rtl") {
                    q = r.width() - s.outerWidth(false);
                    dx = Math.abs(q / w.scrollRatio.x)
                }
                s.css("left", q);
                t[1].css("left", dx)
            }
        }, _bindEvents: function () {
            var s = h(this), u = s.data(a), t = u.opt;
            if (!u.bindEvents) {
                g._draggable.call(this);
                if (t.contentTouchScroll) {
                    g._contentDraggable.call(this)
                }
                if (t.mouseWheel.enable) {
                    function r() {
                        q = setTimeout(function () {
                            if (!h.event.special.mousewheel) {
                                r()
                            } else {
                                clearTimeout(q);
                                g._mousewheel.call(s[0])
                            }
                        }, 1000)
                    }

                    var q;
                    r()
                }
                g._draggerRail.call(this);
                g._wrapperScroll.call(this);
                if (t.advanced.autoScrollOnFocus) {
                    g._focus.call(this)
                }
                if (t.scrollButtons.enable) {
                    g._buttons.call(this)
                }
                if (t.keyboard.enable) {
                    g._keyboard.call(this)
                }
                u.bindEvents = true
            }
        }, _unbindEvents: function () {
            var t = h(this), u = t.data(a), q = a + "_" + u.idx, v = ".mCSB_" + u.idx + "_scrollbar",
                s = h("#mCSB_" + u.idx + ",#mCSB_" + u.idx + "_container,#mCSB_" + u.idx + "_container_wrapper," + v + " .mCSB_draggerContainer,#mCSB_" + u.idx + "_dragger_vertical,#mCSB_" + u.idx + "_dragger_horizontal," + v + ">a"),
                r = h("#mCSB_" + u.idx + "_container");
            if (u.bindEvents) {
                h(n).unbind("." + q);
                s.each(function () {
                    h(this).unbind("." + q)
                });
                clearTimeout(t[0]._focusTimeout);
                g._delete.call(null, t[0]._focusTimeout);
                clearTimeout(u.sequential.step);
                g._delete.call(null, u.sequential.step);
                clearTimeout(r[0].onCompleteTimeout);
                g._delete.call(null, r[0].onCompleteTimeout);
                u.bindEvents = false
            }
        }, _scrollbarVisibility: function (r) {
            var u = h(this), w = u.data(a), v = w.opt, q = h("#mCSB_" + w.idx + "_container_wrapper"),
                s = q.length ? q : h("#mCSB_" + w.idx + "_container"),
                x = [h("#mCSB_" + w.idx + "_scrollbar_vertical"), h("#mCSB_" + w.idx + "_scrollbar_horizontal")],
                t = [x[0].find(".mCSB_dragger"), x[1].find(".mCSB_dragger")];
            if (v.axis !== "x") {
                if (w.overflowed[0] && !r) {
                    x[0].add(t[0]).add(x[0].children("a")).css("display", "block");
                    s.removeClass("mCS_no_scrollbar_y mCS_y_hidden")
                } else {
                    if (v.alwaysShowScrollbar) {
                        if (v.alwaysShowScrollbar !== 2) {
                            t[0].add(x[0].children("a")).css("display", "none")
                        }
                        s.removeClass("mCS_y_hidden")
                    } else {
                        x[0].css("display", "none");
                        s.addClass("mCS_y_hidden")
                    }
                    s.addClass("mCS_no_scrollbar_y")
                }
            }
            if (v.axis !== "y") {
                if (w.overflowed[1] && !r) {
                    x[1].add(t[1]).add(x[1].children("a")).css("display", "block");
                    s.removeClass("mCS_no_scrollbar_x mCS_x_hidden")
                } else {
                    if (v.alwaysShowScrollbar) {
                        if (v.alwaysShowScrollbar !== 2) {
                            t[1].add(x[1].children("a")).css("display", "none")
                        }
                        s.removeClass("mCS_x_hidden")
                    } else {
                        x[1].css("display", "none");
                        s.addClass("mCS_x_hidden")
                    }
                    s.addClass("mCS_no_scrollbar_x")
                }
            }
            if (!w.overflowed[0] && !w.overflowed[1]) {
                u.addClass("mCS_no_scrollbar")
            } else {
                u.removeClass("mCS_no_scrollbar")
            }
        }, _coordinates: function (r) {
            var q = r.type;
            switch (q) {
                case"pointerdown":
                case"MSPointerDown":
                case"pointermove":
                case"MSPointerMove":
                case"pointerup":
                case"MSPointerUp":
                    return [r.originalEvent.pageY, r.originalEvent.pageX];
                    break;
                case"touchstart":
                case"touchmove":
                case"touchend":
                    var s = r.originalEvent.touches[0] || r.originalEvent.changedTouches[0];
                    return [s.pageY, s.pageX];
                    break;
                default:
                    return [r.pageY, r.pageX]
            }
        }, _draggable: function () {
            var v = h(this), t = v.data(a), q = t.opt, s = a + "_" + t.idx,
                u = ["mCSB_" + t.idx + "_dragger_vertical", "mCSB_" + t.idx + "_dragger_horizontal"],
                w = h("#mCSB_" + t.idx + "_container"), x = h("#" + u[0] + ",#" + u[1]), B, z, A;
            x.bind("mousedown." + s + " touchstart." + s + " pointerdown." + s + " MSPointerDown." + s, function (F) {
                F.stopImmediatePropagation();
                F.preventDefault();
                if (!g._mouseBtnLeft(F)) {
                    return
                }
                o = true;
                if (j) {
                    n.onselectstart = function () {
                        return false
                    }
                }
                y(false);
                g._stop(v);
                B = h(this);
                var G = B.offset(), H = g._coordinates(F)[0] - G.top, C = g._coordinates(F)[1] - G.left,
                    E = B.height() + G.top, D = B.width() + G.left;
                if (H < E && H > 0 && C < D && C > 0) {
                    z = H;
                    A = C
                }
                g._onDragClasses(B, "active", q.autoExpandScrollbar)
            }).bind("touchmove." + s, function (D) {
                D.stopImmediatePropagation();
                D.preventDefault();
                var E = B.offset(), F = g._coordinates(D)[0] - E.top, C = g._coordinates(D)[1] - E.left;
                r(z, A, F, C)
            });
            h(n).bind("mousemove." + s + " pointermove." + s + " MSPointerMove." + s, function (D) {
                if (B) {
                    var E = B.offset(), F = g._coordinates(D)[0] - E.top, C = g._coordinates(D)[1] - E.left;
                    if (z === F) {
                        return
                    }
                    r(z, A, F, C)
                }
            }).add(x).bind("mouseup." + s + " touchend." + s + " pointerup." + s + " MSPointerUp." + s, function (C) {
                if (B) {
                    g._onDragClasses(B, "active", q.autoExpandScrollbar);
                    B = null
                }
                o = false;
                if (j) {
                    n.onselectstart = null
                }
                y(true)
            });

            function y(C) {
                var D = w.find("iframe");
                if (!D.length) {
                    return
                }
                var E = !C ? "none" : "auto";
                D.css("pointer-events", E)
            }

            function r(E, F, H, C) {
                w[0].idleTimer = q.scrollInertia < 233 ? 250 : 0;
                if (B.attr("id") === u[1]) {
                    var D = "x", G = ((B[0].offsetLeft - F) + C) * t.scrollRatio.x
                } else {
                    var D = "y", G = ((B[0].offsetTop - E) + H) * t.scrollRatio.y
                }
                g._scrollTo(v, G.toString(), {dir: D, drag: true})
            }
        }, _contentDraggable: function () {
            var z = h(this), L = z.data(a), J = L.opt, G = a + "_" + L.idx, w = h("#mCSB_" + L.idx),
                A = h("#mCSB_" + L.idx + "_container"),
                x = [h("#mCSB_" + L.idx + "_dragger_vertical"), h("#mCSB_" + L.idx + "_dragger_horizontal")], F, H, M,
                N, D = [], E = [], I, B, v, u, K, y, s = 0, r, t = J.axis === "yx" ? "none" : "all";
            A.bind("touchstart." + G + " pointerdown." + G + " MSPointerDown." + G, function (O) {
                if (!g._pointerTouch(O) || o) {
                    return
                }
                var P = A.offset();
                F = g._coordinates(O)[0] - P.top;
                H = g._coordinates(O)[1] - P.left
            }).bind("touchmove." + G + " pointermove." + G + " MSPointerMove." + G, function (R) {
                if (!g._pointerTouch(R) || o) {
                    return
                }
                R.stopImmediatePropagation();
                B = g._getTime();
                var Q = w.offset(), T = g._coordinates(R)[0] - Q.top, V = g._coordinates(R)[1] - Q.left,
                    S = "mcsLinearOut";
                D.push(T);
                E.push(V);
                if (L.overflowed[0]) {
                    var P = x[0].parent().height() - x[0].height(),
                        U = ((F - T) > 0 && (T - F) > -(P * L.scrollRatio.y))
                }
                if (L.overflowed[1]) {
                    var O = x[1].parent().width() - x[1].width(), W = ((H - V) > 0 && (V - H) > -(O * L.scrollRatio.x))
                }
                if (U || W) {
                    R.preventDefault()
                }
                y = J.axis === "yx" ? [(F - T), (H - V)] : J.axis === "x" ? [null, (H - V)] : [(F - T), null];
                A[0].idleTimer = 250;
                if (L.overflowed[0]) {
                    C(y[0], s, S, "y", "all", true)
                }
                if (L.overflowed[1]) {
                    C(y[1], s, S, "x", t, true)
                }
            });
            w.bind("touchstart." + G + " pointerdown." + G + " MSPointerDown." + G, function (O) {
                if (!g._pointerTouch(O) || o) {
                    return
                }
                O.stopImmediatePropagation();
                g._stop(z);
                I = g._getTime();
                var P = w.offset();
                M = g._coordinates(O)[0] - P.top;
                N = g._coordinates(O)[1] - P.left;
                D = [];
                E = []
            }).bind("touchend." + G + " pointerup." + G + " MSPointerUp." + G, function (Q) {
                if (!g._pointerTouch(Q) || o) {
                    return
                }
                Q.stopImmediatePropagation();
                v = g._getTime();
                var O = w.offset(), U = g._coordinates(Q)[0] - O.top, W = g._coordinates(Q)[1] - O.left;
                if ((v - B) > 30) {
                    return
                }
                K = 1000 / (v - I);
                var R = "mcsEaseOut", S = K < 2.5, X = S ? [D[D.length - 2], E[E.length - 2]] : [0, 0];
                u = S ? [(U - X[0]), (W - X[1])] : [U - M, W - N];
                var P = [Math.abs(u[0]), Math.abs(u[1])];
                K = S ? [Math.abs(u[0] / 4), Math.abs(u[1] / 4)] : [K, K];
                var V = [Math.abs(A[0].offsetTop) - (u[0] * q((P[0] / K[0]), K[0])), Math.abs(A[0].offsetLeft) - (u[1] * q((P[1] / K[1]), K[1]))];
                y = J.axis === "yx" ? [V[0], V[1]] : J.axis === "x" ? [null, V[1]] : [V[0], null];
                r = [(P[0] * 4) + J.scrollInertia, (P[1] * 4) + J.scrollInertia];
                var T = parseInt(J.contentTouchScroll) || 0;
                y[0] = P[0] > T ? y[0] : 0;
                y[1] = P[1] > T ? y[1] : 0;
                if (L.overflowed[0]) {
                    C(y[0], r[0], R, "y", t, false)
                }
                if (L.overflowed[1]) {
                    C(y[1], r[1], R, "x", t, false)
                }
            });

            function q(Q, O) {
                var P = [O * 1.5, O * 2, O / 1.5, O / 2];
                if (Q > 90) {
                    return O > 4 ? P[0] : P[3]
                } else {
                    if (Q > 60) {
                        return O > 3 ? P[3] : P[2]
                    } else {
                        if (Q > 30) {
                            return O > 8 ? P[1] : O > 6 ? P[0] : O > 4 ? O : P[2]
                        } else {
                            return O > 8 ? O : P[3]
                        }
                    }
                }
            }

            function C(Q, S, T, P, O, R) {
                if (!Q) {
                    return
                }
                g._scrollTo(z, Q.toString(), {dur: S, scrollEasing: T, dir: P, overwrite: O, drag: R})
            }
        }, _mousewheel: function () {
            var t = h(this), v = t.data(a), u = v.opt, r = a + "_" + v.idx, q = h("#mCSB_" + v.idx),
                s = [h("#mCSB_" + v.idx + "_dragger_vertical"), h("#mCSB_" + v.idx + "_dragger_horizontal")];
            q.bind("mousewheel." + r, function (A, E) {
                g._stop(t);
                if (g._disableMousewheel(t, A.target)) {
                    return
                }
                var C = u.mouseWheel.deltaFactor !== "auto" ? parseInt(u.mouseWheel.deltaFactor) : (j && A.deltaFactor < 100) ? 100 : A.deltaFactor < 40 ? 40 : A.deltaFactor || 100;
                if (u.axis === "x" || u.mouseWheel.axis === "x") {
                    var x = "x", D = [Math.round(C * v.scrollRatio.x), parseInt(u.mouseWheel.scrollAmount)],
                        z = u.mouseWheel.scrollAmount !== "auto" ? D[1] : D[0] >= q.width() ? q.width() * 0.9 : D[0],
                        F = Math.abs(h("#mCSB_" + v.idx + "_container")[0].offsetLeft), B = s[1][0].offsetLeft,
                        y = s[1].parent().width() - s[1].width(), w = A.deltaX || A.deltaY || E
                } else {
                    var x = "y", D = [Math.round(C * v.scrollRatio.y), parseInt(u.mouseWheel.scrollAmount)],
                        z = u.mouseWheel.scrollAmount !== "auto" ? D[1] : D[0] >= q.height() ? q.height() * 0.9 : D[0],
                        F = Math.abs(h("#mCSB_" + v.idx + "_container")[0].offsetTop), B = s[0][0].offsetTop,
                        y = s[0].parent().height() - s[0].height(), w = A.deltaY || E
                }
                if ((x === "y" && !v.overflowed[0]) || (x === "x" && !v.overflowed[1])) {
                    return
                }
                if (u.mouseWheel.invert) {
                    w = -w
                }
                if (u.mouseWheel.normalizeDelta) {
                    w = w < 0 ? -1 : 1
                }
                if ((w > 0 && B !== 0) || (w < 0 && B !== y) || u.mouseWheel.preventDefault) {
                    A.stopImmediatePropagation();
                    A.preventDefault()
                }
                g._scrollTo(t, (F - (w * z)).toString(), {dir: x})
            })
        }, _disableMousewheel: function (s, u) {
            var q = u.nodeName.toLowerCase(), r = s.data(a).opt.mouseWheel.disableOver, t = ["select", "textarea"];
            return h.inArray(q, r) > -1 && !(h.inArray(q, t) > -1 && !h(u).is(":focus"))
        }, _draggerRail: function () {
            var t = h(this), u = t.data(a), r = a + "_" + u.idx, s = h("#mCSB_" + u.idx + "_container"), v = s.parent(),
                q = h(".mCSB_" + u.idx + "_scrollbar .mCSB_draggerContainer");
            q.bind("touchstart." + r + " pointerdown." + r + " MSPointerDown." + r, function (w) {
                o = true
            }).bind("touchend." + r + " pointerup." + r + " MSPointerUp." + r, function (w) {
                o = false
            }).bind("click." + r, function (A) {
                if (h(A.target).hasClass("mCSB_draggerContainer") || h(A.target).hasClass("mCSB_draggerRail")) {
                    g._stop(t);
                    var x = h(this), z = x.find(".mCSB_dragger");
                    if (x.parent(".mCSB_scrollTools_horizontal").length > 0) {
                        if (!u.overflowed[1]) {
                            return
                        }
                        var w = "x", y = A.pageX > z.offset().left ? -1 : 1,
                            B = Math.abs(s[0].offsetLeft) - (y * (v.width() * 0.9))
                    } else {
                        if (!u.overflowed[0]) {
                            return
                        }
                        var w = "y", y = A.pageY > z.offset().top ? -1 : 1,
                            B = Math.abs(s[0].offsetTop) - (y * (v.height() * 0.9))
                    }
                    g._scrollTo(t, B.toString(), {dir: w, scrollEasing: "mcsEaseInOut"})
                }
            })
        }, _focus: function () {
            var s = h(this), u = s.data(a), t = u.opt, q = a + "_" + u.idx, r = h("#mCSB_" + u.idx + "_container"),
                v = r.parent();
            r.bind("focusin." + q, function (y) {
                var x = h(n.activeElement), z = r.find(".mCustomScrollBox").length, w = 0;
                if (!x.is(t.advanced.autoScrollOnFocus)) {
                    return
                }
                g._stop(s);
                clearTimeout(s[0]._focusTimeout);
                s[0]._focusTimer = z ? (w + 17) * z : 0;
                s[0]._focusTimeout = setTimeout(function () {
                    var D = [x.offset().top - r.offset().top, x.offset().left - r.offset().left],
                        C = [r[0].offsetTop, r[0].offsetLeft],
                        A = [(C[0] + D[0] >= 0 && C[0] + D[0] < v.height() - x.outerHeight(false)), (C[1] + D[1] >= 0 && C[0] + D[1] < v.width() - x.outerWidth(false))],
                        B = (t.axis === "yx" && !A[0] && !A[1]) ? "none" : "all";
                    if (t.axis !== "x" && !A[0]) {
                        g._scrollTo(s, D[0].toString(), {dir: "y", scrollEasing: "mcsEaseInOut", overwrite: B, dur: w})
                    }
                    if (t.axis !== "y" && !A[1]) {
                        g._scrollTo(s, D[1].toString(), {dir: "x", scrollEasing: "mcsEaseInOut", overwrite: B, dur: w})
                    }
                }, s[0]._focusTimer)
            })
        }, _wrapperScroll: function () {
            var r = h(this), s = r.data(a), q = a + "_" + s.idx, t = h("#mCSB_" + s.idx + "_container").parent();
            t.bind("scroll." + q, function (u) {
                t.scrollTop(0).scrollLeft(0)
            })
        }, _buttons: function () {
            var v = h(this), x = v.data(a), w = x.opt, q = x.sequential, s = a + "_" + x.idx,
                u = h("#mCSB_" + x.idx + "_container"), t = ".mCSB_" + x.idx + "_scrollbar", r = h(t + ">a");
            r.bind("mousedown." + s + " touchstart." + s + " pointerdown." + s + " MSPointerDown." + s + " mouseup." + s + " touchend." + s + " pointerup." + s + " MSPointerUp." + s + " mouseout." + s + " pointerout." + s + " MSPointerOut." + s + " click." + s, function (A) {
                A.preventDefault();
                if (!g._mouseBtnLeft(A)) {
                    return
                }
                var z = h(this).attr("class");
                q.type = w.scrollButtons.scrollType;
                switch (A.type) {
                    case"mousedown":
                    case"touchstart":
                    case"pointerdown":
                    case"MSPointerDown":
                        if (q.type === "stepped") {
                            return
                        }
                        o = true;
                        x.tweenRunning = false;
                        y("on", z);
                        break;
                    case"mouseup":
                    case"touchend":
                    case"pointerup":
                    case"MSPointerUp":
                    case"mouseout":
                    case"pointerout":
                    case"MSPointerOut":
                        if (q.type === "stepped") {
                            return
                        }
                        o = false;
                        if (q.dir) {
                            y("off", z)
                        }
                        break;
                    case"click":
                        if (q.type !== "stepped" || x.tweenRunning) {
                            return
                        }
                        y("on", z);
                        break
                }

                function y(B, C) {
                    q.scrollAmount = w.snapAmount || w.scrollButtons.scrollAmount;
                    g._sequentialScroll.call(this, v, B, C)
                }
            })
        }, _keyboard: function () {
            var v = h(this), u = v.data(a), r = u.opt, y = u.sequential, t = a + "_" + u.idx, s = h("#mCSB_" + u.idx),
                x = h("#mCSB_" + u.idx + "_container"), q = x.parent(),
                w = "input,textarea,select,datalist,keygen,[contenteditable='true']";
            s.attr("tabindex", "0").bind("blur." + t + " keydown." + t + " keyup." + t, function (E) {
                switch (E.type) {
                    case"blur":
                        if (u.tweenRunning && y.dir) {
                            z("off", null)
                        }
                        break;
                    case"keydown":
                    case"keyup":
                        var B = E.keyCode ? E.keyCode : E.which, C = "on";
                        if ((r.axis !== "x" && (B === 38 || B === 40)) || (r.axis !== "y" && (B === 37 || B === 39))) {
                            if (((B === 38 || B === 40) && !u.overflowed[0]) || ((B === 37 || B === 39) && !u.overflowed[1])) {
                                return
                            }
                            if (E.type === "keyup") {
                                C = "off"
                            }
                            if (!h(n.activeElement).is(w)) {
                                E.preventDefault();
                                E.stopImmediatePropagation();
                                z(C, B)
                            }
                        } else {
                            if (B === 33 || B === 34) {
                                if (u.overflowed[0] || u.overflowed[1]) {
                                    E.preventDefault();
                                    E.stopImmediatePropagation()
                                }
                                if (E.type === "keyup") {
                                    g._stop(v);
                                    var D = B === 34 ? -1 : 1;
                                    if (r.axis === "x" || (r.axis === "yx" && u.overflowed[1] && !u.overflowed[0])) {
                                        var A = "x", F = Math.abs(x[0].offsetLeft) - (D * (q.width() * 0.9))
                                    } else {
                                        var A = "y", F = Math.abs(x[0].offsetTop) - (D * (q.height() * 0.9))
                                    }
                                    g._scrollTo(v, F.toString(), {dir: A, scrollEasing: "mcsEaseInOut"})
                                }
                            } else {
                                if (B === 35 || B === 36) {
                                    if (!h(n.activeElement).is(w)) {
                                        if (u.overflowed[0] || u.overflowed[1]) {
                                            E.preventDefault();
                                            E.stopImmediatePropagation()
                                        }
                                        if (E.type === "keyup") {
                                            if (r.axis === "x" || (r.axis === "yx" && u.overflowed[1] && !u.overflowed[0])) {
                                                var A = "x",
                                                    F = B === 35 ? Math.abs(q.width() - x.outerWidth(false)) : 0
                                            } else {
                                                var A = "y",
                                                    F = B === 35 ? Math.abs(q.height() - x.outerHeight(false)) : 0
                                            }
                                            g._scrollTo(v, F.toString(), {dir: A, scrollEasing: "mcsEaseInOut"})
                                        }
                                    }
                                }
                            }
                        }
                        break
                }

                function z(G, H) {
                    y.type = r.keyboard.scrollType;
                    y.scrollAmount = r.snapAmount || r.keyboard.scrollAmount;
                    if (y.type === "stepped" && u.tweenRunning) {
                        return
                    }
                    g._sequentialScroll.call(this, v, G, H)
                }
            })
        }, _sequentialScroll: function (s, v, t) {
            var x = s.data(a), r = x.opt, z = x.sequential, y = h("#mCSB_" + x.idx + "_container"),
                q = z.type === "stepped" ? true : false;
            switch (v) {
                case"on":
                    z.dir = [(t === "mCSB_buttonRight" || t === "mCSB_buttonLeft" || t === 39 || t === 37 ? "x" : "y"), (t === "mCSB_buttonUp" || t === "mCSB_buttonLeft" || t === 38 || t === 37 ? -1 : 1)];
                    g._stop(s);
                    if (g._isNumeric(t) && z.type === "stepped") {
                        return
                    }
                    u(q);
                    break;
                case"off":
                    w();
                    if (q || (x.tweenRunning && z.dir)) {
                        u(true)
                    }
                    break
            }

            function u(A) {
                var G = z.type !== "stepped", K = !A ? 1000 / 60 : G ? r.scrollInertia / 1.5 : r.scrollInertia,
                    C = !A ? 2.5 : G ? 7.5 : 40, J = [Math.abs(y[0].offsetTop), Math.abs(y[0].offsetLeft)],
                    F = [x.scrollRatio.y > 10 ? 10 : x.scrollRatio.y, x.scrollRatio.x > 10 ? 10 : x.scrollRatio.x],
                    D = z.dir[0] === "x" ? J[1] + (z.dir[1] * (F[1] * C)) : J[0] + (z.dir[1] * (F[0] * C)),
                    I = z.dir[0] === "x" ? J[1] + (z.dir[1] * parseInt(z.scrollAmount)) : J[0] + (z.dir[1] * parseInt(z.scrollAmount)),
                    H = z.scrollAmount !== "auto" ? I : D, E = !A ? "mcsLinear" : G ? "mcsLinearOut" : "mcsEaseInOut",
                    B = !A ? false : true;
                if (A && K < 17) {
                    H = z.dir[0] === "x" ? J[1] : J[0]
                }
                g._scrollTo(s, H.toString(), {dir: z.dir[0], scrollEasing: E, dur: K, onComplete: B});
                if (A) {
                    z.dir = false;
                    return
                }
                clearTimeout(z.step);
                z.step = setTimeout(function () {
                    u()
                }, K)
            }

            function w() {
                clearTimeout(z.step);
                g._stop(s)
            }
        }, _arr: function (s) {
            var r = h(this).data(a).opt, q = [];
            if (typeof s === "function") {
                s = s()
            }
            if (!(s instanceof Array)) {
                q[0] = s.y ? s.y : s.x || r.axis === "x" ? null : s;
                q[1] = s.x ? s.x : s.y || r.axis === "y" ? null : s
            } else {
                q = s.length > 1 ? [s[0], s[1]] : r.axis === "x" ? [null, s[0]] : [s[0], null]
            }
            if (typeof q[0] === "function") {
                q[0] = q[0]()
            }
            if (typeof q[1] === "function") {
                q[1] = q[1]()
            }
            return q
        }, _to: function (v, w) {
            if (v == null || typeof v == "undefined") {
                return
            }
            var C = h(this), B = C.data(a), u = B.opt, D = h("#mCSB_" + B.idx + "_container"), r = D.parent(),
                F = typeof v;
            if (!w) {
                w = u.axis === "x" ? "x" : "y"
            }
            var q = w === "x" ? D.outerWidth(false) : D.outerHeight(false),
                x = w === "x" ? D.offset().left : D.offset().top, E = w === "x" ? D[0].offsetLeft : D[0].offsetTop,
                z = w === "x" ? "left" : "top";
            switch (F) {
                case"function":
                    return v();
                    break;
                case"object":
                    if (v.nodeType) {
                        var A = w === "x" ? h(v).offset().left : h(v).offset().top
                    } else {
                        if (v.jquery) {
                            if (!v.length) {
                                return
                            }
                            var A = w === "x" ? v.offset().left : v.offset().top
                        }
                    }
                    return A - x;
                    break;
                case"string":
                case"number":
                    if (g._isNumeric.call(null, v)) {
                        return Math.abs(v)
                    } else {
                        if (v.indexOf("%") !== -1) {
                            return Math.abs(q * parseInt(v) / 100)
                        } else {
                            if (v.indexOf("-=") !== -1) {
                                return Math.abs(E - parseInt(v.split("-=")[1]))
                            } else {
                                if (v.indexOf("+=") !== -1) {
                                    var s = (E + parseInt(v.split("+=")[1]));
                                    return s >= 0 ? 0 : Math.abs(s)
                                } else {
                                    if (v.indexOf("px") !== -1 && g._isNumeric.call(null, v.split("px")[0])) {
                                        return Math.abs(v.split("px")[0])
                                    } else {
                                        if (v === "top" || v === "left") {
                                            return 0
                                        } else {
                                            if (v === "bottom") {
                                                return Math.abs(r.height() - D.outerHeight(false))
                                            } else {
                                                if (v === "right") {
                                                    return Math.abs(r.width() - D.outerWidth(false))
                                                } else {
                                                    if (v === "first" || v === "last") {
                                                        var y = D.find(":" + v),
                                                            A = w === "x" ? h(y).offset().left : h(y).offset().top;
                                                        return A - x
                                                    } else {
                                                        if (h(v).length) {
                                                            var A = w === "x" ? h(v).offset().left : h(v).offset().top;
                                                            return A - x
                                                        } else {
                                                            D.css(z, v);
                                                            b.update.call(null, C[0]);
                                                            return
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                    break
            }
        }, _autoUpdate: function (r) {
            var u = h(this), G = u.data(a), A = G.opt, w = h("#mCSB_" + G.idx + "_container");
            if (r) {
                clearTimeout(w[0].autoUpdate);
                g._delete.call(null, w[0].autoUpdate);
                return
            }
            var t = w.parent(),
                q = [h("#mCSB_" + G.idx + "_scrollbar_vertical"), h("#mCSB_" + G.idx + "_scrollbar_horizontal")],
                E = function () {
                    return [q[0].is(":visible") ? q[0].outerHeight(true) : 0, q[1].is(":visible") ? q[1].outerWidth(true) : 0]
                }, F = z(), y, v = [w.outerHeight(false), w.outerWidth(false), t.height(), t.width(), E()[0], E()[1]],
                I, C = H(), x;
            D();

            function D() {
                clearTimeout(w[0].autoUpdate);
                w[0].autoUpdate = setTimeout(function () {
                    if (A.advanced.updateOnSelectorChange) {
                        y = z();
                        if (y !== F) {
                            s();
                            F = y;
                            return
                        }
                    }
                    if (A.advanced.updateOnContentResize) {
                        I = [w.outerHeight(false), w.outerWidth(false), t.height(), t.width(), E()[0], E()[1]];
                        if (I[0] !== v[0] || I[1] !== v[1] || I[2] !== v[2] || I[3] !== v[3] || I[4] !== v[4] || I[5] !== v[5]) {
                            s();
                            v = I
                        }
                    }
                    if (A.advanced.updateOnImageLoad) {
                        x = H();
                        if (x !== C) {
                            w.find("img").each(function () {
                                B(this.src)
                            });
                            C = x
                        }
                    }
                    if (A.advanced.updateOnSelectorChange || A.advanced.updateOnContentResize || A.advanced.updateOnImageLoad) {
                        D()
                    }
                }, 60)
            }

            function H() {
                var J = 0;
                if (A.advanced.updateOnImageLoad) {
                    J = w.find("img").length
                }
                return J
            }

            function B(M) {
                var J = new Image();

                function L(N, O) {
                    return function () {
                        return O.apply(N, arguments)
                    }
                }

                function K() {
                    this.onload = null;
                    s()
                }

                J.onload = L(J, K);
                J.src = M
            }

            function z() {
                if (A.advanced.updateOnSelectorChange === true) {
                    A.advanced.updateOnSelectorChange = "*"
                }
                var J = 0, K = w.find(A.advanced.updateOnSelectorChange);
                if (A.advanced.updateOnSelectorChange && K.length > 0) {
                    K.each(function () {
                        J += h(this).height() + h(this).width()
                    })
                }
                return J
            }

            function s() {
                clearTimeout(w[0].autoUpdate);
                b.update.call(null, u[0])
            }
        }, _snapAmount: function (s, q, r) {
            return (Math.round(s / q) * q - r)
        }, _stop: function (q) {
            var s = q.data(a),
                r = h("#mCSB_" + s.idx + "_container,#mCSB_" + s.idx + "_container_wrapper,#mCSB_" + s.idx + "_dragger_vertical,#mCSB_" + s.idx + "_dragger_horizontal");
            r.each(function () {
                g._stopTween.call(this)
            })
        }, _scrollTo: function (r, t, v) {
            var J = r.data(a), F = J.opt, E = {
                    trigger: "internal",
                    dir: "y",
                    scrollEasing: "mcsEaseOut",
                    drag: false,
                    dur: F.scrollInertia,
                    overwrite: "all",
                    callbacks: true,
                    onStart: true,
                    onUpdate: true,
                    onComplete: true
                }, v = h.extend(E, v), H = [v.dur, (v.drag ? 0 : v.dur)], w = h("#mCSB_" + J.idx),
                C = h("#mCSB_" + J.idx + "_container"),
                L = F.callbacks.onTotalScrollOffset ? g._arr.call(r, F.callbacks.onTotalScrollOffset) : [0, 0],
                q = F.callbacks.onTotalScrollBackOffset ? g._arr.call(r, F.callbacks.onTotalScrollBackOffset) : [0, 0];
            J.trigger = v.trigger;
            if (F.snapAmount) {
                t = g._snapAmount(t, F.snapAmount, F.snapOffset)
            }
            switch (v.dir) {
                case"x":
                    var y = h("#mCSB_" + J.idx + "_dragger_horizontal"), A = "left", D = C[0].offsetLeft,
                        I = [w.width() - C.outerWidth(false), y.parent().width() - y.width()],
                        s = [t, (t / J.scrollRatio.x)], M = L[1], K = q[1], B = M > 0 ? M / J.scrollRatio.x : 0,
                        x = K > 0 ? K / J.scrollRatio.x : 0;
                    break;
                case"y":
                    var y = h("#mCSB_" + J.idx + "_dragger_vertical"), A = "top", D = C[0].offsetTop,
                        I = [w.height() - C.outerHeight(false), y.parent().height() - y.height()],
                        s = [t, (t / J.scrollRatio.y)], M = L[0], K = q[0], B = M > 0 ? M / J.scrollRatio.y : 0,
                        x = K > 0 ? K / J.scrollRatio.y : 0;
                    break
            }
            if (s[1] < 0) {
                s = [0, 0]
            } else {
                if (s[1] >= I[1]) {
                    s = [I[0], I[1]]
                } else {
                    s[0] = -s[0]
                }
            }
            clearTimeout(C[0].onCompleteTimeout);
            if (!J.tweenRunning && ((D === 0 && s[0] >= 0) || (D === I[0] && s[0] <= I[0]))) {
                return
            }
            g._tweenTo.call(null, y[0], A, Math.round(s[1]), H[1], v.scrollEasing);
            g._tweenTo.call(null, C[0], A, Math.round(s[0]), H[0], v.scrollEasing, v.overwrite, {
                onStart: function () {
                    if (v.callbacks && v.onStart && !J.tweenRunning) {
                        if (u("onScrollStart")) {
                            G();
                            F.callbacks.onScrollStart.call(r[0])
                        }
                        J.tweenRunning = true;
                        g._onDragClasses(y);
                        J.cbOffsets = z()
                    }
                }, onUpdate: function () {
                    if (v.callbacks && v.onUpdate) {
                        if (u("whileScrolling")) {
                            G();
                            F.callbacks.whileScrolling.call(r[0])
                        }
                    }
                }, onComplete: function () {
                    if (v.callbacks && v.onComplete) {
                        if (F.axis === "yx") {
                            clearTimeout(C[0].onCompleteTimeout)
                        }
                        var N = C[0].idleTimer || 0;
                        C[0].onCompleteTimeout = setTimeout(function () {
                            if (u("onScroll")) {
                                G();
                                F.callbacks.onScroll.call(r[0])
                            }
                            if (u("onTotalScroll") && s[1] >= I[1] - B && J.cbOffsets[0]) {
                                G();
                                F.callbacks.onTotalScroll.call(r[0])
                            }
                            if (u("onTotalScrollBack") && s[1] <= x && J.cbOffsets[1]) {
                                G();
                                F.callbacks.onTotalScrollBack.call(r[0])
                            }
                            J.tweenRunning = false;
                            C[0].idleTimer = 0;
                            g._onDragClasses(y, "hide")
                        }, N)
                    }
                }
            });

            function u(N) {
                return J && F.callbacks[N] && typeof F.callbacks[N] === "function"
            }

            function z() {
                return [F.callbacks.alwaysTriggerOffsets || D >= I[0] + M, F.callbacks.alwaysTriggerOffsets || D <= -K]
            }

            function G() {
                var P = [C[0].offsetTop, C[0].offsetLeft], Q = [y[0].offsetTop, y[0].offsetLeft],
                    N = [C.outerHeight(false), C.outerWidth(false)], O = [w.height(), w.width()];
                r[0].mcs = {
                    content: C,
                    top: P[0],
                    left: P[1],
                    draggerTop: Q[0],
                    draggerLeft: Q[1],
                    topPct: Math.round((100 * Math.abs(P[0])) / (Math.abs(N[0]) - O[0])),
                    leftPct: Math.round((100 * Math.abs(P[1])) / (Math.abs(N[1]) - O[1])),
                    direction: v.dir
                }
            }
        }, _tweenTo: function (s, v, t, r, B, u, K) {
            var K = K || {}, H = K.onStart || function () {
            }, C = K.onUpdate || function () {
            }, I = K.onComplete || function () {
            }, A = g._getTime(), y, w = 0, E = s.offsetTop, F = s.style;
            if (v === "left") {
                E = s.offsetLeft
            }
            var z = t - E;
            s._mcsstop = 0;
            if (u !== "none") {
                D()
            }
            q();

            function J() {
                if (s._mcsstop) {
                    return
                }
                if (!w) {
                    H.call()
                }
                w = g._getTime() - A;
                G();
                if (w >= s._mcstime) {
                    s._mcstime = (w > s._mcstime) ? w + y - (w - s._mcstime) : w + y - 1;
                    if (s._mcstime < w + 1) {
                        s._mcstime = w + 1
                    }
                }
                if (s._mcstime < r) {
                    s._mcsid = _request(J)
                } else {
                    I.call()
                }
            }

            function G() {
                if (r > 0) {
                    s._mcscurrVal = x(s._mcstime, E, z, r, B);
                    F[v] = Math.round(s._mcscurrVal) + "px"
                } else {
                    F[v] = t + "px"
                }
                C.call()
            }

            function q() {
                y = 1000 / 60;
                s._mcstime = w + y;
                _request = (!m.requestAnimationFrame) ? function (L) {
                    G();
                    return setTimeout(L, 0.01)
                } : m.requestAnimationFrame;
                s._mcsid = _request(J)
            }

            function D() {
                if (s._mcsid == null) {
                    return
                }
                if (!m.requestAnimationFrame) {
                    clearTimeout(s._mcsid)
                } else {
                    m.cancelAnimationFrame(s._mcsid)
                }
                s._mcsid = null
            }

            function x(N, M, R, Q, O) {
                switch (O) {
                    case"linear":
                    case"mcsLinear":
                        return R * N / Q + M;
                        break;
                    case"mcsLinearOut":
                        N /= Q;
                        N--;
                        return R * Math.sqrt(1 - N * N) + M;
                        break;
                    case"easeInOutSmooth":
                        N /= Q / 2;
                        if (N < 1) {
                            return R / 2 * N * N + M
                        }
                        N--;
                        return -R / 2 * (N * (N - 2) - 1) + M;
                        break;
                    case"easeInOutStrong":
                        N /= Q / 2;
                        if (N < 1) {
                            return R / 2 * Math.pow(2, 10 * (N - 1)) + M
                        }
                        N--;
                        return R / 2 * (-Math.pow(2, -10 * N) + 2) + M;
                        break;
                    case"easeInOut":
                    case"mcsEaseInOut":
                        N /= Q / 2;
                        if (N < 1) {
                            return R / 2 * N * N * N + M
                        }
                        N -= 2;
                        return R / 2 * (N * N * N + 2) + M;
                        break;
                    case"easeOutSmooth":
                        N /= Q;
                        N--;
                        return -R * (N * N * N * N - 1) + M;
                        break;
                    case"easeOutStrong":
                        return R * (-Math.pow(2, -10 * N / Q) + 1) + M;
                        break;
                    case"easeOut":
                    case"mcsEaseOut":
                    default:
                        var P = (N /= Q) * N, L = P * N;
                        return M + R * (0.499999999999997 * L * P + -2.5 * P * P + 5.5 * L + -6.5 * P + 4 * N)
                }
            }
        }, _getTime: function () {
            if (m.performance && m.performance.now) {
                return m.performance.now()
            } else {
                if (m.performance && m.performance.webkitNow) {
                    return m.performance.webkitNow()
                } else {
                    if (Date.now) {
                        return Date.now()
                    } else {
                        return new Date().getTime()
                    }
                }
            }
        }, _stopTween: function () {
            var q = this;
            if (q._mcsid == null) {
                return
            }
            if (!m.requestAnimationFrame) {
                clearTimeout(q._mcsid)
            } else {
                m.cancelAnimationFrame(q._mcsid)
            }
            q._mcsid = null;
            q._mcsstop = 1
        }, _delete: function (r) {
            try {
                delete r
            } catch (q) {
                r = null
            }
        }, _mouseBtnLeft: function (q) {
            return !(q.which && q.which !== 1)
        }, _pointerTouch: function (r) {
            var q = r.originalEvent.pointerType;
            return !(q && q !== "touch" && q !== 2)
        }, _isNumeric: function (q) {
            return !isNaN(parseFloat(q)) && isFinite(q)
        }
    };
    var i = ("https:" == n.location.protocol) ? "https:" : "http:";
    h.fn[e] = function (q) {
        if (b[q]) {
            return b[q].apply(this, Array.prototype.slice.call(arguments, 1))
        } else {
            if (typeof q === "object" || !q) {
                return b.init.apply(this, arguments)
            } else {
                h.error("Method " + q + " does not exist")
            }
        }
    };
    h[e] = function (q) {
        if (b[q]) {
            return b[q].apply(this, Array.prototype.slice.call(arguments, 1))
        } else {
            if (typeof q === "object" || !q) {
                return b.init.apply(this, arguments)
            } else {
                h.error("Method " + q + " does not exist")
            }
        }
    };
    h[e].defaults = f;
    m[e] = true;
    h(m).load(function () {
        h(l)[e]()
    })
})(jQuery, window, document);